import{a as Ae}from"./chunk-RVUXLX2V.js";import{a as Me}from"./chunk-L7R4HPYP.js";import{a as Te}from"./chunk-SSUFQVT3.js";import{a as G}from"./chunk-JNUN2KTT.js";import"./chunk-3NJZR3TT.js";import"./chunk-N4FKO75N.js";import{Ba as Ie,Ea as we,J as Se,P as Ee,U as ye,a as be,f as he,h as ve,ha as ze}from"./chunk-CPCGS7XX.js";import"./chunk-FK6H3RFT.js";import"./chunk-7FW4253V.js";import{a as xe}from"./chunk-ZLE3SS2Y.js";import{h as Pe,w as Oe}from"./chunk-7RXHQH5K.js";import"./chunk-ZFUZ5UD4.js";import{$a as me,Ca as r,Da as b,E as ce,Ea as I,H as le,L as $,M as R,X as l,Y as A,_ as pe,_a as ge,c as ae,ca as D,fb as _e,ha as M,ja as de,ka as ue,la as i,ma as o,na as z,ob as fe,ra as K,rb as Ce,sa as j,ta as P,u as se,z as X}from"./chunk-QQQKELKR.js";import"./chunk-FMBN6UXO.js";import"./chunk-QUJFQN2Y.js";import"./chunk-T4LV2MRW.js";import"./chunk-QZ7DKK3O.js";import"./chunk-7NXYYB6M.js";import"./chunk-G2E2NLL6.js";import"./chunk-HZSDEEV2.js";import"./chunk-AO65UGJX.js";import"./chunk-MYMWTHTI.js";import"./chunk-YNWT2DLU.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-XPQFWPU3.js";import"./chunk-6SS6CZRK.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-CGQGPWKF.js";import"./chunk-CKP3SGE2.js";import"./chunk-FAIKFHLE.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as J,k as B}from"./chunk-CRC5ZNR6.js";var De=(()=>{let g=class g{constructor(t){this.configuracionService=t}generarPdfPresupuestoBlob(t,d="presupuesto.pdf"){return B(this,null,function*(){var u,h,v;try{console.log("\u{1F527} Generando PDF de presupuesto como Blob...");let m=new Me("p","mm","a4"),O=m.internal.pageSize.getWidth(),N=m.internal.pageSize.getHeight(),s=20,x=O-s*2,W=N-60,e=s,F=1,a=(p,_,S,E={})=>{let C=J(J({},{fontSize:12,fontStyle:"normal",color:[17,24,39],align:"left"}),E);m.setFontSize(C.fontSize),m.setFont("helvetica",C.fontStyle),m.setTextColor(C.color[0],C.color[1],C.color[2]),m.text(p,_,S,{align:C.align})},Y=(p,_,S,E,f=[79,70,229])=>{m.setDrawColor(f[0],f[1],f[2]),m.line(p,_,S,E)},w=(p,_,S,E,f,C)=>{f&&(m.setFillColor(f[0],f[1],f[2]),m.rect(p,_,S,E,"F")),C&&(m.setDrawColor(C[0],C[1],C[2]),m.rect(p,_,S,E,"S"))},U=(p=10)=>e+p>W,H=()=>{m.addPage(),F++,e=s,a(`P\xE1gina ${F}`,O-s,N-20,{fontSize:10,color:[107,114,128],align:"right"})};a("PRESUPUESTO",O/2,e,{fontSize:28,fontStyle:"bold",color:[79,70,229],align:"center"}),e+=20,a(`N\xBA ${((u=t.id)==null?void 0:u.substring(0,8))||"N/A"}`,s,e,{fontSize:14,fontStyle:"bold"}),a(`Fecha: ${this.formatearFecha(t.fecha_creacion)||"N/A"}`,O-s,e,{fontSize:14,align:"right"}),e+=25,a("DATOS DE LA EMPRESA",s,e,{fontSize:14,fontStyle:"bold",color:[79,70,229]}),e+=8;let k=this.obtenerDatosEmpresa();if(a(k.nombre_empresa,s,e,{fontSize:12,fontStyle:"bold"}),e+=6,a(k.direccion,s,e,{fontSize:11}),e+=5,a(`CIF: ${k.cif}`,s,e,{fontSize:11}),e+=5,a(`Tel: ${k.telefono}`,s,e,{fontSize:11}),e+=5,a(k.email,s,e,{fontSize:11}),e+=20,t.aviso&&(a("DATOS DEL CLIENTE",s,e,{fontSize:14,fontStyle:"bold",color:[79,70,229]}),e+=8,a(`Nombre: ${t.aviso.nombre_cliente_aviso||"N/A"}`,s,e,{fontSize:11}),e+=5,a(`Direcci\xF3n: ${t.aviso.direccion_cliente_aviso||"N/A"}`,s,e,{fontSize:11}),e+=5,a(`Tel\xE9fono: ${t.aviso.telefono_cliente_aviso||"N/A"}`,s,e,{fontSize:11}),(h=t.aviso.cliente)!=null&&h.email&&(e+=5,a(`Email: ${t.aviso.cliente.email}`,s,e,{fontSize:11}))),e+=25,(v=t.aviso)!=null&&v.descripcion_problema){a("DESCRIPCI\xD3N DEL TRABAJO",s,e,{fontSize:14,fontStyle:"bold",color:[79,70,229]}),e+=8;let p=30;w(s,e,x,p,[249,250,251],[229,231,235]),a(t.aviso.descripcion_problema,s+10,e+12,{fontSize:10}),e+=p+15}if(t.horas_estimadas&&t.horas_estimadas>0||t.horas_desplazamiento&&t.horas_desplazamiento>0){U(50)&&H(),a("MANO DE OBRA Y DESPLAZAMIENTOS",s,e,{fontSize:14,fontStyle:"bold",color:[79,70,229]}),e+=10;let p=e;w(s,p,x,18,[79,70,229]);let _=s+8,S=s+60,E=s+100,f=s+140;a("CONCEPTO",_,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("HORAS",S,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("PRECIO/HORA",E,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("TOTAL",f,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),e+=22;let C=this.configuracionService.getPrecioHoraManoObraSync(),T=0,L=0;t.horas_estimadas&&t.horas_estimadas>0&&(T=t.horas_estimadas*C,w(s,e,x,15,[255,255,255],[229,231,235]),a("Trabajo t\xE9cnico especializado",_,e+10,{fontSize:9}),a(`${t.horas_estimadas}h`,S,e+10,{fontSize:9}),a(`\u20AC${C.toFixed(2)}`,E,e+10,{fontSize:9}),a(`\u20AC${T.toFixed(2)}`,f,e+10,{fontSize:9}),e+=15),t.horas_desplazamiento&&t.horas_desplazamiento>0&&(L=t.horas_desplazamiento*C,w(s,e,x,15,[249,250,251],[229,231,235]),a("Desplazamiento y traslados",_,e+10,{fontSize:9}),a(`${t.horas_desplazamiento}h`,S,e+10,{fontSize:9}),a(`\u20AC${C.toFixed(2)}`,E,e+10,{fontSize:9}),a(`\u20AC${L.toFixed(2)}`,f,e+10,{fontSize:9}),e+=15);let Z=T+L;w(s,e,x,18,[79,70,229]),a("TOTAL MANO DE OBRA",_,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a(`\u20AC${Z.toFixed(2)}`,f,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),e+=25}if(t.materiales_estimados&&t.materiales_estimados.length>0){U(50)&&H(),a("MATERIALES ESTIMADOS",s,e,{fontSize:14,fontStyle:"bold",color:[79,70,229]}),e+=10;let p=e;w(s,p,x,18,[79,70,229]);let _=s+8,S=s+60,E=s+80,f=s+100;a("MATERIAL",_,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("CANTIDAD",S,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("PRECIO UNIT.",E,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("TOTAL",f,p+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),e+=22;let C=0;t.materiales_estimados.forEach((T,L)=>{var ie,re;U(20)&&(H(),w(s,e,x,18,[79,70,229]),a("MATERIAL",_,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("CANTIDAD",S,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("PRECIO UNIT.",E,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a("TOTAL",f,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),e+=22);let Z=L%2===0?[255,255,255]:[249,250,251];w(s,e,x,15,Z);let $e=((ie=T.material)==null?void 0:ie.nombre)||((re=T.producto)==null?void 0:re.nombre)||"Material sin nombre",te=T.cantidad_estimada||0,ne=T.precio_neto_al_momento||0,oe=te*ne;C+=oe,a($e,_,e+10,{fontSize:9}),a(te.toString(),S,e+10,{fontSize:9}),a(`\u20AC${ne.toFixed(2)}`,E,e+10,{fontSize:9}),a(`\u20AC${oe.toFixed(2)}`,f,e+10,{fontSize:9}),e+=15}),w(s,e,x,18,[79,70,229]),a("TOTAL MATERIALES",_,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),a(`\u20AC${C.toFixed(2)}`,f,e+12,{fontSize:10,fontStyle:"bold",color:[255,255,255]}),e+=25}let Fe=(t.horas_estimadas||0)*this.configuracionService.getPrecioHoraManoObraSync(),ke=(t.materiales_estimados||[]).reduce((p,_)=>p+(_.cantidad_estimada||0)*(_.precio_neto_al_momento||0),0),q=Fe+ke,Q=21,ee=q*(Q/100),Ve=q+ee,V=140,y=O-s-V;w(y,e,V,70,[238,242,255],[79,70,229]),a("RESUMEN DEL PRESUPUESTO",y+5,e+10,{fontSize:11,fontStyle:"bold",color:[79,70,229]}),Y(y+5,e+13,y+V-5,e+13,[79,70,229]),a("Subtotal:",y+5,e+23,{fontSize:10}),a(`\u20AC${q.toFixed(2)}`,y+V-5,e+23,{fontSize:10,align:"right"}),a(`IVA (${Q}%):`,y+5,e+33,{fontSize:10}),a(`\u20AC${ee.toFixed(2)}`,y+V-5,e+33,{fontSize:10,align:"right"}),Y(y+5,e+43,y+V-5,e+43,[79,70,229]),a("TOTAL",y+5,e+53,{fontSize:12,fontStyle:"bold",color:[79,70,229]}),a(`\u20AC${Ve.toFixed(2)}`,y+V-5,e+53,{fontSize:12,fontStyle:"bold",color:[79,70,229],align:"right"}),e+=80,U(30)&&H(),a("CONDICIONES",s,e,{fontSize:14,fontStyle:"bold",color:[79,70,229]}),e+=10,["Este presupuesto tiene una validez de 30 d\xEDas desde su emisi\xF3n.","Los precios incluyen IVA.","El pago se realizar\xE1 seg\xFAn las condiciones acordadas.","Los materiales podr\xE1n variar seg\xFAn disponibilidad."].forEach(p=>{a(`\u2022 ${p}`,s+10,e,{fontSize:10}),e+=6});let je=()=>{let p=N-30;Y(s,p,O-s,p,[229,231,235]),a(k.nombre_empresa,s,p+8,{fontSize:10,fontStyle:"bold",color:[79,70,229]}),a("Gracias por su confianza",O/2,p+8,{fontSize:10,color:[107,114,128],align:"center"}),a(k.web,O-s,p+8,{fontSize:10,color:[107,114,128],align:"right"})};for(let p=1;p<=F;p++)m.setPage(p),je();let Ne=m.output("blob");return console.log("\u2705 PDF de presupuesto generado como Blob exitosamente"),Ne}catch(m){throw console.error("\u274C Error al generar PDF de presupuesto:",m),m}})}generarPdfPresupuesto(t,d="presupuesto.pdf"){try{console.log("\u{1F527} Generando PDF de presupuesto..."),this.generarPdfPresupuestoBlob(t,d).then(u=>{let h=URL.createObjectURL(u),v=document.createElement("a");v.href=h,v.download=d,v.click(),URL.revokeObjectURL(h),console.log("\u2705 PDF de presupuesto descargado exitosamente")}).catch(u=>{console.error("\u274C Error al descargar PDF de presupuesto:",u)})}catch(u){throw console.error("\u274C Error al generar PDF de presupuesto:",u),u}}obtenerDatosEmpresa(){let t=this.configuracionService.getConfiguracionActual();return(t==null?void 0:t.empresa)||{nombre_empresa:"T\xC9CNICOS CLIMATIZACI\xD3N S.L.",direccion:"Calle de la Tecnolog\xEDa, 123",cif:"B12345678",telefono:"+34 91 123 45 67",email:"info@tecnicosclimatizacion.es",web:"www.tecnicosclimatizacion.es"}}formatearFecha(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES")}catch{return t.toString()}}};g.\u0275fac=function(d){return new(d||g)(le(G))},g.\u0275prov=ce({token:g,factory:g.\u0275fac,providedIn:"root"});let c=g;return c})();function He(c,g){c&1&&z(0,"ion-icon",16)}function Be(c,g){c&1&&z(0,"ion-icon",17)}function Ge(c,g){if(c&1){let n=K();i(0,"div",8)(1,"button",9),j("click",function(){$(n);let d=P();return R(d.editarPresupuesto())}),z(2,"ion-icon",10),r(3," Editar "),o(),i(4,"button",9),j("click",function(){$(n);let d=P();return R(d.imprimirPresupuesto())}),z(5,"ion-icon",11),r(6," Imprimir "),o(),i(7,"button",9),j("click",function(){$(n);let d=P();return R(d.descargarPresupuesto())}),z(8,"ion-icon",12),r(9," Descargar PDF "),o(),i(10,"button",13),j("click",function(){$(n);let d=P();return R(d.enviarPresupuestoPorCorreo())}),D(11,He,1,0,"ion-icon",14)(12,Be,1,0,"ion-icon",15),r(13),o()()}if(c&2){let n=P();l(10),de("loading",n.enviandoCorreo),M("disabled",!n.puedeEnviarPorCorreo()||n.enviandoCorreo)("title",n.getTituloBotonCorreo()),l(),M("ngIf",!n.enviandoCorreo),l(),M("ngIf",n.enviandoCorreo),l(),I(" ",n.enviandoCorreo?"Enviando...":"Enviar por Correo"," ")}}function We(c,g){c&1&&(i(0,"div",18)(1,"div",19),z(2,"ion-icon",17),i(3,"p"),r(4,"Cargando presupuesto..."),o()()())}function Ye(c,g){if(c&1){let n=K();i(0,"div",20)(1,"div",21),z(2,"ion-icon",22),i(3,"p"),r(4),o(),i(5,"button",23),j("click",function(){$(n);let d=P();return R(d.cargarPresupuesto())}),z(6,"ion-icon",24),r(7," Reintentar "),o()()()}if(c&2){let n=P();l(4),b(n.error)}}function qe(c,g){if(c&1&&(i(0,"p")(1,"strong"),r(2,"Email:"),o(),r(3),o()),c&2){let n=P(3);l(3),I(" ",n.presupuesto.aviso.cliente.email," ")}}function Ze(c,g){if(c&1&&(i(0,"div",47)(1,"h3"),r(2,"Datos del Cliente"),o(),i(3,"div",48)(4,"p")(5,"strong"),r(6,"Nombre:"),o(),r(7),o(),i(8,"p")(9,"strong"),r(10,"Direcci\xF3n:"),o(),r(11),o(),i(12,"p")(13,"strong"),r(14,"Tel\xE9fono:"),o(),r(15),o(),D(16,qe,4,1,"p",49),o()()),c&2){let n=P(2);l(7),I(" ",n.presupuesto.aviso.nombre_cliente_aviso,""),l(4),I(" ",n.presupuesto.aviso.direccion_cliente_aviso,""),l(4),I(" ",n.presupuesto.aviso.telefono_cliente_aviso,""),l(),M("ngIf",n.presupuesto.aviso.cliente==null?null:n.presupuesto.aviso.cliente.email)}}function Je(c,g){if(c&1&&(i(0,"div",50)(1,"h3"),r(2,"Descripci\xF3n del Trabajo"),o(),i(3,"p"),r(4),o()()),c&2){let n=P(2);l(4),b(n.presupuesto.aviso.descripcion_problema)}}function Xe(c,g){if(c&1&&(i(0,"tr")(1,"td"),r(2),o(),i(3,"td"),r(4),o(),i(5,"td"),r(6),o(),i(7,"td"),r(8),o()()),c&2){let n=g.$implicit,t=P(3);l(2),b((n.producto==null?null:n.producto.nombre)||n.denominacion||"Material sin nombre"),l(2),b(n.cantidad_estimada),l(2),b(t.formatearMoneda(n.precio_neto_al_momento)),l(2),b(t.formatearMoneda(n.cantidad_estimada*n.precio_neto_al_momento))}}function Ke(c,g){if(c&1&&(i(0,"div",51)(1,"h3"),r(2,"Materiales Estimados"),o(),i(3,"table",52)(4,"thead")(5,"tr")(6,"th"),r(7,"Material"),o(),i(8,"th"),r(9,"Cantidad"),o(),i(10,"th"),r(11,"Precio Unit."),o(),i(12,"th"),r(13,"Total"),o()()(),i(14,"tbody"),D(15,Xe,9,4,"tr",53),o()()()),c&2){let n=P(2);l(15),M("ngForOf",n.presupuesto.materiales_estimados)}}function Qe(c,g){if(c&1&&(i(0,"tr")(1,"td"),r(2,"Trabajo t\xE9cnico especializado"),o(),i(3,"td"),r(4),o(),i(5,"td"),r(6),o(),i(7,"td"),r(8),o()()),c&2){let n=P(3);l(4),I("",n.presupuesto.horas_estimadas,"h"),l(2),b(n.formatearMoneda(n.precioHoraManoObra)),l(2),b(n.formatearMoneda((n.presupuesto.horas_estimadas||0)*n.precioHoraManoObra))}}function et(c,g){if(c&1&&(i(0,"tr")(1,"td"),r(2,"Desplazamiento y traslados"),o(),i(3,"td"),r(4),o(),i(5,"td"),r(6),o(),i(7,"td"),r(8),o()()),c&2){let n=P(3);l(4),I("",n.presupuesto.horas_desplazamiento,"h"),l(2),b(n.formatearMoneda(n.presupuesto.precio_hora_desplazamiento||n.precioHoraManoObra)),l(2),b(n.formatearMoneda((n.presupuesto.horas_desplazamiento||0)*(n.presupuesto.precio_hora_desplazamiento||n.precioHoraManoObra)))}}function tt(c,g){if(c&1&&(i(0,"div",54)(1,"h3"),r(2,"Mano de Obra y Desplazamientos"),o(),i(3,"table",55)(4,"thead")(5,"tr")(6,"th"),r(7,"Concepto"),o(),i(8,"th"),r(9,"Horas"),o(),i(10,"th"),r(11,"Precio/Hora"),o(),i(12,"th"),r(13,"Total"),o()()(),i(14,"tbody"),D(15,Qe,9,3,"tr",49)(16,et,9,3,"tr",49),o()()()),c&2){let n=P(2);l(15),M("ngIf",n.presupuesto.horas_estimadas),l(),M("ngIf",n.presupuesto.horas_desplazamiento)}}function nt(c,g){if(c&1&&(i(0,"div",25)(1,"div",26)(2,"div",27),z(3,"img",28),i(4,"div",29)(5,"h3"),r(6,"Tu Empresa"),o(),i(7,"p"),r(8,"Direcci\xF3n de la empresa"),o(),i(9,"p"),r(10,"Tel\xE9fono: +34 123 456 789"),o(),i(11,"p"),r(12,"Email: info@tuempresa.com"),o()()(),i(13,"div",30)(14,"h1"),r(15,"PRESUPUESTO"),o(),i(16,"div",31)(17,"div",32)(18,"span",33),r(19,"N\xFAmero:"),o(),i(20,"span",34),r(21),o()(),i(22,"div",32)(23,"span",33),r(24,"Fecha:"),o(),i(25,"span",34),r(26),o()(),i(27,"div",32)(28,"span",33),r(29,"Estado:"),o(),i(30,"span",35),r(31),o()()()()(),D(32,Ze,17,4,"div",36)(33,Je,5,1,"div",37)(34,Ke,16,1,"div",38)(35,tt,17,2,"div",39),i(36,"div",40)(37,"div",41)(38,"div",42)(39,"span"),r(40,"Subtotal:"),o(),i(41,"span"),r(42),o()(),i(43,"div",42)(44,"span"),r(45),o(),i(46,"span"),r(47),o()(),i(48,"div",43)(49,"span"),r(50,"TOTAL:"),o(),i(51,"span"),r(52),o()()()(),i(53,"div",44)(54,"h3"),r(55,"Condiciones"),o(),i(56,"ul")(57,"li"),r(58,"Este presupuesto tiene una validez de 30 d\xEDas desde su emisi\xF3n."),o(),i(59,"li"),r(60,"Los precios incluyen IVA."),o(),i(61,"li"),r(62,"El pago se realizar\xE1 seg\xFAn las condiciones acordadas."),o(),i(63,"li"),r(64,"Los materiales podr\xE1n variar seg\xFAn disponibilidad."),o()()(),i(65,"div",45)(66,"p"),r(67,"Gracias por confiar en nuestros servicios"),o(),i(68,"div",46)(69,"span"),r(70,"Tu Empresa"),o(),i(71,"span"),r(72,"+34 123 456 789"),o(),i(73,"span"),r(74,"info@tuempresa.com"),o()()()()),c&2){let n=P();l(21),I("#",n.presupuesto.id==null?null:n.presupuesto.id.substring(0,8),""),l(5),b(n.formatearFecha(n.presupuesto.fecha_creacion)),l(4),ue(n.getEstadoClass(n.presupuesto.estado)),l(),I(" ",n.presupuesto.estado," "),l(),M("ngIf",n.presupuesto.aviso),l(),M("ngIf",n.presupuesto.aviso),l(),M("ngIf",n.presupuesto.materiales_estimados&&n.presupuesto.materiales_estimados.length>0),l(),M("ngIf",n.presupuesto.horas_estimadas||n.presupuesto.horas_desplazamiento),l(7),b(n.formatearMoneda(n.presupuesto.total_estimado||0)),l(3),I("IVA (",n.ivaPorcentaje,"%):"),l(2),b(n.formatearMoneda((n.presupuesto.total_estimado||0)*(n.ivaPorcentaje/100))),l(5),b(n.formatearMoneda((n.presupuesto.total_estimado||0)*(1+n.ivaPorcentaje/100)))}}var ft=(()=>{let g=class g{constructor(t,d,u,h,v,m,O){this.route=t,this.router=d,this.presupuestosService=u,this.configuracionService=h,this.presupuestoPdfService=v,this.emailService=m,this.unifiedReconnectionService=O,this.presupuesto=null,this.loading=!1,this.error=null,this.presupuestoId=null,this.ivaPorcentaje=21,this.precioHoraManoObra=50,this.enviandoCorreo=!1,this.destroy$=new ae,console.log("VerPresupuestoComponent constructor"),be({arrowBackOutline:ve,createOutline:Se,printOutline:Ie,downloadOutline:Ee,refreshOutline:we,alertCircleOutline:he,eyeOutline:ye,mailOutline:ze})}ngOnInit(){console.log("\u{1F504} VerPresupuestoComponent inicializado"),this.unifiedReconnectionService.appResumed.pipe(X(this.destroy$),se()).subscribe(t=>{t&&(console.log("\u{1F504} VerPresupuestoComponent: App reanudada, recargando presupuesto..."),this.presupuestoId&&this.cargarPresupuesto())}),this.unifiedReconnectionService.connectionState.pipe(X(this.destroy$)).subscribe(t=>{console.log("\u{1F504} VerPresupuestoComponent: Estado de conexi\xF3n:",t),t==="connected"&&this.presupuestoId&&this.cargarPresupuesto()}),this.configuracionService.getIvaPorDefecto().subscribe(t=>{this.ivaPorcentaje=t}),this.precioHoraManoObra=this.configuracionService.getPrecioHoraManoObraSync(),this.route.params.subscribe(t=>{this.presupuestoId=t.id,console.log("ID del presupuesto recibido:",this.presupuestoId),this.presupuestoId&&this.cargarPresupuesto()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cargarPresupuesto(){this.presupuestoId&&(console.log("\u{1F504} Cargando presupuesto con ID:",this.presupuestoId),this.loading=!0,this.error=null,this.presupuestosService.getPresupuestoDirect(this.presupuestoId).subscribe({next:t=>{console.log("\u2705 Presupuesto cargado exitosamente:",t),console.log("Materiales estimados:",t.materiales_estimados),this.presupuesto=t,this.loading=!1},error:t=>{console.error("\u274C Error al cargar presupuesto:",t),this.error=`Error al cargar el presupuesto: ${t.message||t}`,this.loading=!1}}))}volver(){this.router.navigate(["/presupuestos"])}editarPresupuesto(){this.presupuestoId&&this.router.navigate(["/presupuestos/crear"],{queryParams:{id:this.presupuestoId,edit:"true"}})}imprimirPresupuesto(){window.print()}descargarPresupuesto(){var t;if(!this.presupuesto){console.error("No hay presupuesto para descargar");return}try{console.log("\u{1F527} Iniciando descarga de presupuesto...");let u=`presupuesto_${((t=this.presupuesto.id)==null?void 0:t.substring(0,8))||"presupuesto"}.pdf`;this.presupuestoPdfService.generarPdfPresupuesto(this.presupuesto,u),console.log("\u2705 Presupuesto descargado exitosamente")}catch(d){console.error("\u274C Error al descargar presupuesto:",d)}}formatearMoneda(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)}formatearFecha(t){return new Date(t).toLocaleDateString("es-ES")}getEstadoClass(t){switch(t.toLowerCase()){case"pendiente":return"estado-pendiente";case"en curso":return"estado-en-curso";case"completado":return"estado-completado";case"facturado":return"estado-facturado";case"cancelado":return"estado-cancelado";default:return"estado-default"}}enviarPresupuestoPorCorreo(){return B(this,null,function*(){var u,h,v,m,O,N,s;if(!this.presupuesto){console.error("No hay presupuesto para enviar");return}let t=(h=(u=this.presupuesto.aviso)==null?void 0:u.cliente)==null?void 0:h.email;if(!t){console.error("No hay email del cliente"),alert("Error: No se encontr\xF3 email del cliente. Por favor, verifica que el aviso tenga un email v\xE1lido.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){console.error("Email del cliente no es v\xE1lido:",t),alert("Error: El email del cliente no tiene un formato v\xE1lido.");return}try{this.enviandoCorreo=!0,console.log("\u{1F4E7} Iniciando env\xEDo de presupuesto por correo..."),console.log("\u{1F4E7} Datos del presupuesto:",{email_cliente:t,nombre_cliente:(v=this.presupuesto.aviso)==null?void 0:v.nombre_cliente_aviso,numero_presupuesto:(m=this.presupuesto.id)==null?void 0:m.substring(0,8),total:this.presupuesto.total_estimado});let x=((O=this.presupuesto.id)==null?void 0:O.substring(0,8))||"presupuesto",W=`presupuesto_${x}.pdf`,e=yield this.presupuestoPdfService.generarPdfPresupuestoBlob(this.presupuesto,W);console.log("\u{1F4E7} Enviando correo con datos:",{emailCliente:t,nombreCliente:(N=this.presupuesto.aviso)==null?void 0:N.nombre_cliente_aviso,numeroPresupuesto:x,totalPresupuesto:this.presupuesto.total_estimado});let F=yield this.emailService.enviarPresupuestoPorCorreo(t,((s=this.presupuesto.aviso)==null?void 0:s.nombre_cliente_aviso)||"Cliente",x,e,this.presupuesto.total_estimado);F.success?(console.log("\u2705 Presupuesto enviado exitosamente"),alert("\u2705 Presupuesto enviado correctamente al cliente")):(console.error("\u274C Error al enviar presupuesto:",F.message),alert("\u274C Error al enviar el presupuesto: "+F.message))}catch(x){console.error("\u274C Error al enviar presupuesto por correo:",x),alert("\u274C Error inesperado al enviar el presupuesto. Por favor, int\xE9ntelo de nuevo.")}finally{this.enviandoCorreo=!1}})}puedeEnviarPorCorreo(){var h,v,m,O;let t=(m=(v=(h=this.presupuesto)==null?void 0:h.aviso)==null?void 0:v.cliente)==null?void 0:m.email,d=!!t,u=!!this.presupuesto;return console.log("\u{1F50D} Debug - Puede enviar presupuesto por correo:",{tieneEmail:d,tienePresupuesto:u,emailCliente:t,presupuestoId:(O=this.presupuesto)==null?void 0:O.id,presupuestoCompleto:this.presupuesto}),!!(d&&u)}getTituloBotonCorreo(){var d,u;if(this.enviandoCorreo)return"Enviando presupuesto...";if(!this.presupuesto)return"No hay presupuesto para enviar";let t=(u=(d=this.presupuesto.aviso)==null?void 0:d.cliente)==null?void 0:u.email;return t?`Enviar presupuesto a ${t}`:"No hay email del cliente en el aviso"}};g.\u0275fac=function(d){return new(d||g)(A(fe),A(Ce),A(Te),A(G),A(De),A(Ae),A(xe))},g.\u0275cmp=pe({type:g,selectors:[["app-ver-presupuesto"]],decls:10,vars:4,consts:[[1,"presupuesto-container"],[1,"page-header"],[1,"btn-back",3,"click"],["name","arrow-back-outline"],["class","header-actions",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","presupuesto-content",4,"ngIf"],[1,"header-actions"],[1,"btn-secondary",3,"click"],["name","create-outline"],["name","print-outline"],["name","download-outline"],[1,"btn-primary",3,"click","disabled","title"],["name","mail-outline",4,"ngIf"],["name","refresh-outline","class","spinning",4,"ngIf"],["name","mail-outline"],["name","refresh-outline",1,"spinning"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],[1,"error-message"],["name","alert-circle-outline"],[1,"btn-retry",3,"click"],["name","refresh-outline"],[1,"presupuesto-content"],[1,"presupuesto-header"],[1,"logo-section"],["src","assets/icon/favicon.png","alt","Logo empresa",1,"company-logo"],[1,"company-info"],[1,"presupuesto-info"],[1,"presupuesto-details"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"badge"],["class","cliente-section",4,"ngIf"],["class","trabajo-section",4,"ngIf"],["class","materiales-section",4,"ngIf"],["class","mano-obra-section",4,"ngIf"],[1,"totales-section"],[1,"totales-container"],[1,"total-row"],[1,"total-row","total-final"],[1,"condiciones-section"],[1,"presupuesto-footer"],[1,"footer-contact"],[1,"cliente-section"],[1,"cliente-info"],[4,"ngIf"],[1,"trabajo-section"],[1,"materiales-section"],[1,"materiales-table"],[4,"ngFor","ngForOf"],[1,"mano-obra-section"],[1,"mano-obra-table"]],template:function(d,u){d&1&&(i(0,"ion-content")(1,"div",0)(2,"div",1)(3,"button",2),j("click",function(){return u.volver()}),z(4,"ion-icon",3),r(5," Volver a Presupuestos "),o(),D(6,Ge,14,7,"div",4),o(),D(7,We,5,0,"div",5)(8,Ye,8,1,"div",6)(9,nt,75,13,"div",7),o()()),d&2&&(l(6),M("ngIf",u.presupuesto),l(),M("ngIf",u.loading),l(),M("ngIf",u.error&&!u.loading),l(),M("ngIf",u.presupuesto&&!u.loading))},dependencies:[_e,ge,me,Pe,Oe],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #fff}.presupuesto-container[_ngcontent-%COMP%]{margin:0 auto;padding:20px;background-color:#fff}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e2e8f0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.btn-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#f7fafc;border:1px solid #e2e8f0;border-radius:8px;color:#4a5568;text-decoration:none;cursor:pointer;transition:all .2s}.btn-back[_ngcontent-%COMP%]:hover{background:#edf2f7;border-color:#cbd5e0}.btn-back[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#4a5568;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f7fafc;border-color:#cbd5e0}.btn-primary[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border:1px solid #4f46e5}.btn-primary[_ngcontent-%COMP%]:hover{background:#4338ca;border-color:#4338ca}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{text-align:center;color:#64748b}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#cbd5e0}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.loading-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{margin-top:16px;padding:8px 16px;background:#4f46e5;color:#fff;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:8px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.presupuesto-content[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:32px;border:1px solid #e2e8f0;display:flex;flex-direction:column;gap:24px}.presupuesto-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:32px;padding-bottom:24px;border-bottom:1px solid #e2e8f0}.presupuesto-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px}.presupuesto-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain}.presupuesto-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4f46e5;font-size:18px;font-weight:600;margin:0 0 8px}.presupuesto-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:13px;margin:2px 0}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]{text-align:right}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4f46e5;font-size:24px;font-weight:700;margin:0 0 16px}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px;margin-bottom:8px}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-size:13px;font-weight:500}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#1f2937;font-size:13px;font-weight:600}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .badge.estado-pendiente[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .badge.estado-en-curso[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .badge.estado-completado[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .badge.estado-facturado[_ngcontent-%COMP%]{background:#e0e7ff;color:#3730a3}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   .presupuesto-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .badge.estado-cancelado[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.cliente-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .trabajo-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4f46e5;font-size:16px;font-weight:600;margin:0 0 12px}.cliente-section[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .trabajo-section[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#4a5568;font-size:14px}.cliente-section[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .trabajo-section[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748}.cliente-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .trabajo-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4a5568;font-size:14px;line-height:1.5}.materiales-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4f46e5;font-size:16px;font-weight:600;margin:0 0 16px}.materiales-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%], .materiales-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:16px}.materiales-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .materiales-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .materiales-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .materiales-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #e2e8f0}.materiales-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .materiales-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;color:#6b7280;font-weight:600;font-size:13px}.materiales-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .materiales-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mano-obra-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#1f2937;font-size:14px}.materiales-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .materiales-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .mano-obra-section[_ngcontent-%COMP%]   .materiales-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .mano-obra-section[_ngcontent-%COMP%]   .mano-obra-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb}.totales-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:24px 0}.totales-section[_ngcontent-%COMP%]   .totales-container[_ngcontent-%COMP%]{background:#eef2ff;border-radius:16px;padding:20px;min-width:300px}.totales-section[_ngcontent-%COMP%]   .totales-container[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px;font-size:14px;color:#4f46e5}.totales-section[_ngcontent-%COMP%]   .totales-container[_ngcontent-%COMP%]   .total-row.total-final[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;margin:12px -20px -20px;padding:16px 20px;border-radius:0 0 16px 16px;font-size:16px;font-weight:700}.condiciones-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4f46e5;font-size:16px;font-weight:600;margin:0 0 12px}.condiciones-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.condiciones-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#4a5568;font-size:14px;margin-bottom:8px;position:relative;padding-left:20px}.condiciones-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#4f46e5;position:absolute;left:0;font-weight:700}.presupuesto-footer[_ngcontent-%COMP%]{text-align:center;padding-top:24px;border-top:1px solid #e2e8f0}.presupuesto-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4f46e5;font-size:16px;font-weight:600;margin:0 0 12px}.presupuesto-footer[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;color:#6b7280;font-size:13px}@media (max-width: 768px){.presupuesto-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.presupuesto-content[_ngcontent-%COMP%]{padding:20px;border-radius:12px}.presupuesto-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.presupuesto-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]{text-align:left}.presupuesto-header[_ngcontent-%COMP%]   .presupuesto-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.materiales-table[_ngcontent-%COMP%], .mano-obra-table[_ngcontent-%COMP%]{font-size:12px}.materiales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .materiales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .mano-obra-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .mano-obra-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.totales-section[_ngcontent-%COMP%]   .totales-container[_ngcontent-%COMP%]{min-width:100%}.footer-contact[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.presupuesto-content[_ngcontent-%COMP%]{padding:16px}.materiales-table[_ngcontent-%COMP%], .mano-obra-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}}']});let c=g;return c})();export{ft as VerPresupuestoComponent};
