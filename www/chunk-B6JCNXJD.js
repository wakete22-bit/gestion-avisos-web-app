import{A as he,B as xe,Da as Ne,G as be,H as ve,R as Oe,U as Pe,W as Me,X as Ee,Y as Se,a as se,aa as we,ea as je,g as le,l as me,m as de,n as ue,p as ge,r as pe,ra as Fe,s as fe,t as _e,ta as ke,va as ye,wa as ze,xa as Ae,y as Ce,za as Ie}from"./chunk-YLXVY5X4.js";import{j as re}from"./chunk-HRZTQKZO.js";import{b as ce}from"./chunk-EZQHEP6E.js";import{$ as C,$b as W,B as V,E as B,I as h,J as x,Rb as $,Sa as q,Sb as U,Ta as G,U as l,Ub as u,V as z,Vb as Y,Wb as J,X as R,Xb as F,Ya as L,ac as H,b as N,c as D,cc as K,dc as Q,e as p,ea as d,ec as X,fa as b,fc as Z,gc as ee,ha as e,hc as te,i as M,ia as t,ic as ne,ja as c,l as T,lc as ie,mc as oe,na as k,nc as ae,oa as v,p as O,pa as f,v as j,w as E,xa as o,ya as y,za as A}from"./chunk-YCXETNVK.js";import"./chunk-3RJWN2F5.js";import"./chunk-2ELISCRH.js";import"./chunk-CALWKLRW.js";import"./chunk-IQN6SQ4S.js";import"./chunk-SGF4SMHT.js";import"./chunk-QXK7JUJJ.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-2MILALDA.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as P,b as S,k as w}from"./chunk-CRC5ZNR6.js";var De=(()=>{let m=class m{constructor(n){this.supabaseClientService=n,this.ajustesSubject=new D(null),this.ajustes$=this.ajustesSubject.asObservable(),this.supabase=this.supabaseClientService.getClient()}getAjustesCompletos(){return T({empresa:this.getConfiguracionEmpresa(),facturacion:this.getConfiguracionFacturacion(),notificaciones:this.getConfiguracionNotificaciones(),avisos:this.getConfiguracionAvisos(),sistema:this.getConfiguracionSistema()}).pipe(M(n=>(this.ajustesSubject.next(n),n)),O(n=>{throw console.error("Error al obtener ajustes completos:",n),n}))}getConfiguracionEmpresa(){return p(this.supabase.from("configuracion_empresa").select("*").single()).pipe(j(({data:n,error:i})=>{if(i){if(i.code==="PGRST116")return p(this.crearConfiguracionEmpresaPorDefecto());throw i}return p(Promise.resolve(n))}),O(n=>{throw console.error("Error al obtener configuraci\xF3n de empresa:",n),n}))}getConfiguracionFacturacion(){return p(this.supabase.from("configuracion_facturacion").select("*").single()).pipe(j(({data:n,error:i})=>{if(i){if(i.code==="PGRST116")return p(this.crearConfiguracionFacturacionPorDefecto());throw i}return p(Promise.resolve(n))}),O(n=>{throw console.error("Error al obtener configuraci\xF3n de facturaci\xF3n:",n),n}))}getConfiguracionNotificaciones(){return p(this.supabase.from("configuracion_notificaciones").select("*").single()).pipe(j(({data:n,error:i})=>{if(i){if(i.code==="PGRST116")return p(this.crearConfiguracionNotificacionesPorDefecto());throw i}return p(Promise.resolve(n))}),O(n=>{throw console.error("Error al obtener configuraci\xF3n de notificaciones:",n),n}))}getConfiguracionAvisos(){return p(this.supabase.from("configuracion_avisos").select("*").single()).pipe(j(({data:n,error:i})=>{if(i){if(i.code==="PGRST116")return p(this.crearConfiguracionAvisosPorDefecto());throw i}return p(Promise.resolve(n))}),O(n=>{throw console.error("Error al obtener configuraci\xF3n de avisos:",n),n}))}getConfiguracionSistema(){return p(this.supabase.from("configuracion_sistema").select("*").single()).pipe(j(({data:n,error:i})=>{if(i){if(i.code==="PGRST116")return p(this.crearConfiguracionSistemaPorDefecto());throw i}return p(Promise.resolve(n))}),O(n=>{throw console.error("Error al obtener configuraci\xF3n del sistema:",n),n}))}actualizarConfiguracionEmpresa(n){let i=S(P({},n),{fecha_actualizacion:new Date().toISOString()});return p(this.supabase.from("configuracion_empresa").update(i).select().single()).pipe(M(({data:r,error:g})=>{if(g)throw g;let _=r;return this.actualizarAjustesLocales("empresa",_),_}),O(r=>{throw console.error("Error al actualizar configuraci\xF3n de empresa:",r),r}))}actualizarConfiguracionFacturacion(n){let i=S(P({},n),{fecha_actualizacion:new Date().toISOString()});return p(this.supabase.from("configuracion_facturacion").update(i).select().single()).pipe(M(({data:r,error:g})=>{if(g)throw g;let _=r;return this.actualizarAjustesLocales("facturacion",_),_}),O(r=>{throw console.error("Error al actualizar configuraci\xF3n de facturaci\xF3n:",r),r}))}actualizarConfiguracionNotificaciones(n){let i=S(P({},n),{fecha_actualizacion:new Date().toISOString()});return p(this.supabase.from("configuracion_notificaciones").update(i).select().single()).pipe(M(({data:r,error:g})=>{if(g)throw g;let _=r;return this.actualizarAjustesLocales("notificaciones",_),_}),O(r=>{throw console.error("Error al actualizar configuraci\xF3n de notificaciones:",r),r}))}actualizarConfiguracionAvisos(n){let i=S(P({},n),{fecha_actualizacion:new Date().toISOString()});return p(this.supabase.from("configuracion_avisos").update(i).select().single()).pipe(M(({data:r,error:g})=>{if(g)throw g;let _=r;return this.actualizarAjustesLocales("avisos",_),_}),O(r=>{throw console.error("Error al actualizar configuraci\xF3n de avisos:",r),r}))}actualizarConfiguracionSistema(n){let i=S(P({},n),{fecha_actualizacion:new Date().toISOString()});return p(this.supabase.from("configuracion_sistema").update(i).select().single()).pipe(M(({data:r,error:g})=>{if(g)throw g;let _=r;return this.actualizarAjustesLocales("sistema",_),_}),O(r=>{throw console.error("Error al actualizar configuraci\xF3n del sistema:",r),r}))}actualizarAjustesLocales(n,i){let r=this.ajustesSubject.value;r&&(r[n]=i,this.ajustesSubject.next(P({},r)))}crearConfiguracionEmpresaPorDefecto(){return w(this,null,function*(){let n={nombre_empresa:"Mi Empresa",cif:"",direccion:"",telefono:"",email:"",web:"",logo_url:"",fecha_creacion:new Date().toISOString(),fecha_actualizacion:new Date().toISOString()},{data:i,error:r}=yield this.supabase.from("configuracion_empresa").insert([n]).select().single();if(r)throw r;return i})}crearConfiguracionFacturacionPorDefecto(){return w(this,null,function*(){let n={iva_por_defecto:21,moneda:"EUR",formato_numero_factura:"FAC-{YEAR}-{NUMBER}",dias_vencimiento:30,texto_pie_factura:"Gracias por confiar en nuestros servicios",condiciones_pago:"Pago a 30 d\xEDas",fecha_creacion:new Date().toISOString(),fecha_actualizacion:new Date().toISOString()},{data:i,error:r}=yield this.supabase.from("configuracion_facturacion").insert([n]).select().single();if(r)throw r;return i})}crearConfiguracionNotificacionesPorDefecto(){return w(this,null,function*(){let n={email_notificaciones:!0,email_avisos_nuevos:!0,email_facturas_generadas:!0,email_recordatorios:!1,sms_notificaciones:!1,sms_avisos_urgentes:!1,fecha_creacion:new Date().toISOString(),fecha_actualizacion:new Date().toISOString()},{data:i,error:r}=yield this.supabase.from("configuracion_notificaciones").insert([n]).select().single();if(r)throw r;return i})}crearConfiguracionAvisosPorDefecto(){return w(this,null,function*(){let n={tipos_urgencia:["Baja","Media","Alta","Cr\xEDtica"],estados_disponibles:["Pendiente","En curso","Completado","Cancelado"],tiempo_maximo_respuesta:24,asignacion_automatica:!1,fecha_creacion:new Date().toISOString(),fecha_actualizacion:new Date().toISOString()},{data:i,error:r}=yield this.supabase.from("configuracion_avisos").insert([n]).select().single();if(r)throw r;return i})}crearConfiguracionSistemaPorDefecto(){return w(this,null,function*(){let n={backup_automatico:!0,frecuencia_backup:"diario",retencion_backup_dias:30,modo_mantenimiento:!1,mensaje_mantenimiento:"Sistema en mantenimiento. Volveremos pronto.",fecha_creacion:new Date().toISOString(),fecha_actualizacion:new Date().toISOString()},{data:i,error:r}=yield this.supabase.from("configuracion_sistema").insert([n]).select().single();if(r)throw r;return i})}getAjustesActuales(){return this.ajustesSubject.value}limpiarAjustes(){this.ajustesSubject.next(null)}};m.\u0275fac=function(i){return new(i||m)(B(ce))},m.\u0275prov=V({token:m,factory:m.\u0275fac,providedIn:"root"});let s=m;return s})();function Be(s,m){s&1&&(e(0,"div",11)(1,"div",12),c(2,"ion-icon",13),e(3,"p"),o(4,"Cargando configuraciones..."),t()()())}function Re(s,m){if(s&1){let a=k();e(0,"div",14)(1,"div",15),c(2,"ion-icon",16),e(3,"p"),o(4),t(),e(5,"button",17),v("click",function(){h(a);let i=f();return x(i.onReintentar())}),c(6,"ion-icon",18),o(7," Reintentar "),t()()()}if(s&2){let a=f();l(4),y(a.error)}}function qe(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"El nombre es requerido y debe tener al menos 2 caracteres"),t()())}function Ge(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"El CIF es requerido y debe tener al menos 9 caracteres"),t()())}function Le(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"La direcci\xF3n es requerida y debe tener al menos 10 caracteres"),t()())}function $e(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"El tel\xE9fono es requerido y debe tener un formato v\xE1lido"),t()())}function Ue(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"El email es requerido y debe tener un formato v\xE1lido"),t()())}function Ye(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"La URL debe comenzar con http:// o https://"),t()())}function Je(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"El IVA debe estar entre 0 y 100"),t()())}function We(s,m){if(s&1&&(e(0,"option",101),o(1),t()),s&2){let a=m.$implicit;d("value",a.valor),l(),A(" ",a.texto," ")}}function He(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"Los d\xEDas deben estar entre 1 y 365"),t()())}function Ke(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"El tiempo debe estar entre 1 y 168 horas"),t()())}function Qe(s,m){if(s&1&&(e(0,"option",101),o(1),t()),s&2){let a=m.$implicit;d("value",a.valor),l(),A(" ",a.texto," ")}}function Xe(s,m){s&1&&(e(0,"div",15),c(1,"ion-icon",16),e(2,"span"),o(3,"Los d\xEDas deben estar entre 1 y 365"),t()())}function Ze(s,m){if(s&1){let a=k();e(0,"div",19)(1,"div",20)(2,"button",21),v("click",function(){h(a);let i=f();return x(i.cambiarTab("empresa"))}),c(3,"ion-icon",22),o(4," Empresa "),t(),e(5,"button",23),v("click",function(){h(a);let i=f();return x(i.cambiarTab("facturacion"))}),c(6,"ion-icon",24),o(7," Facturaci\xF3n "),t(),e(8,"button",25),v("click",function(){h(a);let i=f();return x(i.cambiarTab("notificaciones"))}),c(9,"ion-icon",26),o(10," Notificaciones "),t(),e(11,"button",27),v("click",function(){h(a);let i=f();return x(i.cambiarTab("avisos"))}),c(12,"ion-icon",28),o(13," Avisos "),t(),e(14,"button",29),v("click",function(){h(a);let i=f();return x(i.cambiarTab("sistema"))}),c(15,"ion-icon",30),o(16," Sistema "),t()(),e(17,"div",31)(18,"div",32)(19,"div",33)(20,"div",34)(21,"form",35),v("ngSubmit",function(){h(a);let i=f();return x(i.guardarEmpresa())}),e(22,"div",36)(23,"div",37)(24,"label"),o(25,"Nombre de la Empresa *"),t(),e(26,"div",38),c(27,"ion-icon",22)(28,"input",39),t(),C(29,qe,4,0,"div",40),t(),e(30,"div",37)(31,"label"),o(32,"CIF/NIF *"),t(),e(33,"div",38),c(34,"ion-icon",24)(35,"input",41),t(),C(36,Ge,4,0,"div",40),t(),e(37,"div",42)(38,"label"),o(39,"Direcci\xF3n *"),t(),e(40,"div",38),c(41,"ion-icon",43)(42,"textarea",44),t(),C(43,Le,4,0,"div",40),t(),e(44,"div",37)(45,"label"),o(46,"Tel\xE9fono *"),t(),e(47,"div",38),c(48,"ion-icon",45)(49,"input",46),t(),C(50,$e,4,0,"div",40),t(),e(51,"div",37)(52,"label"),o(53,"Email *"),t(),e(54,"div",38),c(55,"ion-icon",47)(56,"input",48),t(),C(57,Ue,4,0,"div",40),t(),e(58,"div",37)(59,"label"),o(60,"Sitio Web"),t(),e(61,"div",38),c(62,"ion-icon",49)(63,"input",50),t(),C(64,Ye,4,0,"div",40),t(),e(65,"div",37)(66,"label"),o(67,"URL del Logo"),t(),e(68,"div",38),c(69,"ion-icon",51)(70,"input",52),t()()(),e(71,"div",53)(72,"button",54),c(73,"ion-icon",55),o(74," Guardar Configuraci\xF3n "),t()()()()()(),e(75,"div",56)(76,"div",33)(77,"div",57)(78,"div",58),c(79,"ion-icon",24),o(80," Configuraci\xF3n de Facturaci\xF3n "),t(),e(81,"p"),o(82,"Personaliza el formato y configuraci\xF3n de tus facturas"),t()(),e(83,"div",34)(84,"form",35),v("ngSubmit",function(){h(a);let i=f();return x(i.guardarFacturacion())}),e(85,"div",36)(86,"div",37)(87,"label"),o(88,"IVA por Defecto (%) *"),t(),e(89,"div",38),c(90,"ion-icon",59)(91,"input",60),t(),C(92,Je,4,0,"div",40),t(),e(93,"div",37)(94,"label"),o(95,"Moneda *"),t(),e(96,"div",38),c(97,"ion-icon",61),e(98,"select",62),C(99,We,2,2,"option",63),t()()(),e(100,"div",37)(101,"label"),o(102,"Formato N\xFAmero Factura *"),t(),e(103,"div",38),c(104,"ion-icon",64)(105,"input",65),t(),e(106,"div",66),c(107,"ion-icon",67),e(108,"span"),o(109,"Usa YEAR para el a\xF1o y NUMBER para el n\xFAmero secuencial"),t()()(),e(110,"div",37)(111,"label"),o(112,"D\xEDas de Vencimiento *"),t(),e(113,"div",38),c(114,"ion-icon",68)(115,"input",69),t(),C(116,He,4,0,"div",40),t(),e(117,"div",42)(118,"label"),o(119,"Texto del Pie de Factura"),t(),e(120,"div",38),c(121,"ion-icon",70)(122,"textarea",71),t()(),e(123,"div",42)(124,"label"),o(125,"Condiciones de Pago"),t(),e(126,"div",38),c(127,"ion-icon",70)(128,"textarea",72),t()()(),e(129,"div",53)(130,"button",54),c(131,"ion-icon",55),o(132," Guardar Configuraci\xF3n "),t()()()()()(),e(133,"div",73)(134,"div",33)(135,"div",34)(136,"form",35),v("ngSubmit",function(){h(a);let i=f();return x(i.guardarNotificaciones())}),e(137,"div",74)(138,"h3"),o(139,"Notificaciones por Email"),t(),e(140,"div",75)(141,"div",76)(142,"label"),o(143,"Activar notificaciones por email"),t(),e(144,"div",77),c(145,"input",78)(146,"span",79),t()(),e(147,"div",76)(148,"label"),o(149,"Nuevos avisos"),t(),e(150,"div",77),c(151,"input",80)(152,"span",79),t()(),e(153,"div",76)(154,"label"),o(155,"Facturas generadas"),t(),e(156,"div",77),c(157,"input",81)(158,"span",79),t()(),e(159,"div",76)(160,"label"),o(161,"Recordatorios"),t(),e(162,"div",77),c(163,"input",82)(164,"span",79),t()()()(),e(165,"div",74)(166,"h3"),o(167,"Notificaciones por SMS"),t(),e(168,"div",75)(169,"div",76)(170,"label"),o(171,"Activar notificaciones por SMS"),t(),e(172,"div",77),c(173,"input",83)(174,"span",79),t()(),e(175,"div",76)(176,"label"),o(177,"Avisos urgentes"),t(),e(178,"div",77),c(179,"input",84)(180,"span",79),t()()()(),e(181,"div",53)(182,"button",54),c(183,"ion-icon",55),o(184," Guardar Configuraci\xF3n "),t()()()()()(),e(185,"div",85)(186,"div",33)(187,"div",57)(188,"div",58),c(189,"ion-icon",28),o(190," Configuraci\xF3n de Avisos "),t(),e(191,"p"),o(192,"Personaliza el comportamiento del sistema de avisos"),t()(),e(193,"div",34)(194,"form",35),v("ngSubmit",function(){h(a);let i=f();return x(i.guardarAvisos())}),e(195,"div",36)(196,"div",37)(197,"label"),o(198,"Tipos de Urgencia *"),t(),e(199,"div",38),c(200,"ion-icon",16)(201,"textarea",86),t(),e(202,"div",66),c(203,"ion-icon",67),e(204,"span"),o(205,"Separa los tipos con comas"),t()()(),e(206,"div",37)(207,"label"),o(208,"Estados Disponibles *"),t(),e(209,"div",38),c(210,"ion-icon",87)(211,"textarea",88),t(),e(212,"div",66),c(213,"ion-icon",67),e(214,"span"),o(215,"Separa los estados con comas"),t()()(),e(216,"div",37)(217,"label"),o(218,"Tiempo M\xE1ximo de Respuesta (horas) *"),t(),e(219,"div",38),c(220,"ion-icon",89)(221,"input",90),t(),C(222,Ke,4,0,"div",40),t(),e(223,"div",37)(224,"label"),o(225,"Asignaci\xF3n Autom\xE1tica de T\xE9cnicos"),t(),e(226,"div",77),c(227,"input",91)(228,"span",79),t()()(),e(229,"div",53)(230,"button",54),c(231,"ion-icon",55),o(232," Guardar Configuraci\xF3n "),t()()()()()(),e(233,"div",92)(234,"div",33)(235,"div",57)(236,"div",58),c(237,"ion-icon",30),o(238," Configuraci\xF3n del Sistema "),t(),e(239,"p"),o(240,"Configuraciones avanzadas del sistema"),t()(),e(241,"div",34)(242,"form",35),v("ngSubmit",function(){h(a);let i=f();return x(i.guardarSistema())}),e(243,"div",36)(244,"div",93)(245,"h3"),o(246,"Configuraci\xF3n de Backup"),t(),e(247,"div",76)(248,"label"),o(249,"Backup Autom\xE1tico"),t(),e(250,"div",77),c(251,"input",94)(252,"span",79),t()(),e(253,"div",37)(254,"label"),o(255,"Frecuencia de Backup *"),t(),e(256,"div",38),c(257,"ion-icon",18),e(258,"select",95),C(259,Qe,2,2,"option",63),t()()(),e(260,"div",37)(261,"label"),o(262,"Retenci\xF3n de Backups (d\xEDas) *"),t(),e(263,"div",38),c(264,"ion-icon",68)(265,"input",96),t(),C(266,Xe,4,0,"div",40),t()(),e(267,"div",97)(268,"h3"),o(269,"Modo Mantenimiento"),t(),e(270,"div",76)(271,"label"),o(272,"Activar Modo Mantenimiento"),t(),e(273,"div",77),c(274,"input",98)(275,"span",79),t()(),e(276,"div",42)(277,"label"),o(278,"Mensaje de Mantenimiento"),t(),e(279,"div",38),c(280,"ion-icon",99)(281,"textarea",100),t()()()(),e(282,"div",53)(283,"button",54),c(284,"ion-icon",55),o(285," Guardar Configuraci\xF3n "),t()()()()()()()()}if(s&2){let a=f();l(21),d("formGroup",a.empresaForm),l(7),b("error",a.empresaFormErrors.nombre_empresa),l(),d("ngIf",a.empresaFormErrors.nombre_empresa),l(6),b("error",a.empresaFormErrors.cif),l(),d("ngIf",a.empresaFormErrors.cif),l(6),b("error",a.empresaFormErrors.direccion),l(),d("ngIf",a.empresaFormErrors.direccion),l(6),b("error",a.empresaFormErrors.telefono),l(),d("ngIf",a.empresaFormErrors.telefono),l(6),b("error",a.empresaFormErrors.email),l(),d("ngIf",a.empresaFormErrors.email),l(6),b("error",a.empresaFormErrors.web),l(),d("ngIf",a.empresaFormErrors.web),l(8),d("disabled",a.empresaForm.invalid||a.loading),l(12),d("formGroup",a.facturacionForm),l(7),b("error",a.facturacionFormErrors.iva_por_defecto),l(),d("ngIf",a.facturacionFormErrors.iva_por_defecto),l(7),d("ngForOf",a.monedas),l(6),b("error",a.facturacionFormErrors.formato_numero_factura),l(10),b("error",a.facturacionFormErrors.dias_vencimiento),l(),d("ngIf",a.facturacionFormErrors.dias_vencimiento),l(14),d("disabled",a.facturacionForm.invalid||a.loading),l(6),d("formGroup",a.notificacionesForm),l(46),d("disabled",a.loading),l(12),d("formGroup",a.avisosForm),l(7),b("error",a.avisosFormErrors.tipos_urgencia),l(10),b("error",a.avisosFormErrors.estados_disponibles),l(10),b("error",a.avisosFormErrors.tiempo_maximo_respuesta),l(),d("ngIf",a.avisosFormErrors.tiempo_maximo_respuesta),l(8),d("disabled",a.avisosForm.invalid||a.loading),l(12),d("formGroup",a.sistemaForm),l(17),d("ngForOf",a.frecuenciasBackup),l(6),b("error",a.sistemaFormErrors.retencion_backup_dias),l(),d("ngIf",a.sistemaFormErrors.retencion_backup_dias),l(17),d("disabled",a.sistemaForm.invalid||a.loading)}}function et(s,m){if(s&1){let a=k();e(0,"div",102),c(1,"ion-icon",103),e(2,"span"),o(3),t(),e(4,"button",104),v("click",function(){h(a);let i=f();return x(i.mostrarExito=!1)}),c(5,"ion-icon",105),t()()}if(s&2){let a=f();l(3),y(a.mensajeExito)}}function tt(s,m){if(s&1){let a=k();e(0,"div",106),c(1,"ion-icon",16),e(2,"span"),o(3),t(),e(4,"button",104),v("click",function(){h(a);let i=f();return x(i.mostrarError=!1)}),c(5,"ion-icon",105),t()()}if(s&2){let a=f();l(3),y(a.error)}}var pt=(()=>{let m=class m{constructor(n,i){this.ajustesService=n,this.formBuilder=i,this.ajustes=null,this.loading=!1,this.error="",this.mensajeExito="",this.mostrarExito=!1,this.mostrarError=!1,this.tabActivo="empresa",this.empresaForm=new F({}),this.facturacionForm=new F({}),this.notificacionesForm=new F({}),this.avisosForm=new F({}),this.sistemaForm=new F({}),this.monedas=[{valor:"EUR",texto:"Euro (\u20AC)"},{valor:"USD",texto:"D\xF3lar ($)"},{valor:"GBP",texto:"Libra (\xA3)"}],this.frecuenciasBackup=[{valor:"diario",texto:"Diario"},{valor:"semanal",texto:"Semanal"},{valor:"mensual",texto:"Mensual"}],this.destroy$=new N,se({settingsOutline:ze,refreshOutline:Fe,alertCircleOutline:le,businessOutline:me,cardOutline:pe,notificationsOutline:je,warningOutline:Ne,cogOutline:he,locationOutline:Se,callOutline:ge,mailOutline:we,globeOutline:Oe,imageOutline:Pe,saveOutline:ke,calculatorOutline:de,cashOutline:fe,documentTextOutline:ve,informationCircleOutline:Me,calendarOutline:ue,documentOutline:be,listOutline:Ee,timeOutline:Ie,constructOutline:xe,checkmarkCircleOutline:_e,closeOutline:Ce,shieldCheckmarkOutline:Ae,serverOutline:ye}),this.inicializarFormularios()}ngOnInit(){this.cargarAjustes()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}inicializarFormularios(){this.empresaForm=this.formBuilder.group({nombre_empresa:["",[u.required,u.minLength(2)]],cif:["",[u.required,u.minLength(9)]],direccion:["",[u.required,u.minLength(10)]],telefono:["",[u.required,u.pattern(/^[+]?[\d\s\-\(\)]+$/)]],email:["",[u.required,u.email]],web:["",[u.pattern(/^https?:\/\/.+/)]],logo_url:[""]}),this.facturacionForm=this.formBuilder.group({iva_por_defecto:[21,[u.required,u.min(0),u.max(100)]],moneda:["EUR",[u.required]],formato_numero_factura:["FAC-{YEAR}-{NUMBER}",[u.required]],dias_vencimiento:[30,[u.required,u.min(1),u.max(365)]],texto_pie_factura:[""],condiciones_pago:[""]}),this.notificacionesForm=this.formBuilder.group({email_notificaciones:[!0],email_avisos_nuevos:[!0],email_facturas_generadas:[!0],email_recordatorios:[!1],sms_notificaciones:[!1],sms_avisos_urgentes:[!1]}),this.avisosForm=this.formBuilder.group({tipos_urgencia:[["Baja","Media","Alta","Cr\xEDtica"],[u.required]],estados_disponibles:[["Pendiente","En curso","Completado","Cancelado"],[u.required]],tiempo_maximo_respuesta:[24,[u.required,u.min(1),u.max(168)]],asignacion_automatica:[!1]}),this.sistemaForm=this.formBuilder.group({backup_automatico:[!0],frecuencia_backup:["diario",[u.required]],retencion_backup_dias:[30,[u.required,u.min(1),u.max(365)]],modo_mantenimiento:[!1],mensaje_mantenimiento:[""]})}cargarAjustes(){this.loading=!0,this.error="",this.ajustesService.getAjustesCompletos().pipe(E(this.destroy$)).subscribe({next:n=>{this.ajustes=n,this.cargarDatosEnFormularios(),this.loading=!1},error:n=>{console.error("Error al cargar ajustes:",n),this.error="Error al cargar los ajustes. Por favor, intenta de nuevo.",this.mostrarError=!0,this.loading=!1}})}cargarDatosEnFormularios(){this.ajustes&&(this.empresaForm.patchValue({nombre_empresa:this.ajustes.empresa.nombre_empresa,cif:this.ajustes.empresa.cif,direccion:this.ajustes.empresa.direccion,telefono:this.ajustes.empresa.telefono,email:this.ajustes.empresa.email,web:this.ajustes.empresa.web||"",logo_url:this.ajustes.empresa.logo_url||""}),this.facturacionForm.patchValue({iva_por_defecto:this.ajustes.facturacion.iva_por_defecto,moneda:this.ajustes.facturacion.moneda,formato_numero_factura:this.ajustes.facturacion.formato_numero_factura,dias_vencimiento:this.ajustes.facturacion.dias_vencimiento,texto_pie_factura:this.ajustes.facturacion.texto_pie_factura||"",condiciones_pago:this.ajustes.facturacion.condiciones_pago||""}),this.notificacionesForm.patchValue({email_notificaciones:this.ajustes.notificaciones.email_notificaciones,email_avisos_nuevos:this.ajustes.notificaciones.email_avisos_nuevos,email_facturas_generadas:this.ajustes.notificaciones.email_facturas_generadas,email_recordatorios:this.ajustes.notificaciones.email_recordatorios,sms_notificaciones:this.ajustes.notificaciones.sms_notificaciones,sms_avisos_urgentes:this.ajustes.notificaciones.sms_avisos_urgentes}),this.avisosForm.patchValue({tipos_urgencia:this.ajustes.avisos.tipos_urgencia,estados_disponibles:this.ajustes.avisos.estados_disponibles,tiempo_maximo_respuesta:this.ajustes.avisos.tiempo_maximo_respuesta,asignacion_automatica:this.ajustes.avisos.asignacion_automatica}),this.sistemaForm.patchValue({backup_automatico:this.ajustes.sistema.backup_automatico,frecuencia_backup:this.ajustes.sistema.frecuencia_backup,retencion_backup_dias:this.ajustes.sistema.retencion_backup_dias,modo_mantenimiento:this.ajustes.sistema.modo_mantenimiento,mensaje_mantenimiento:this.ajustes.sistema.mensaje_mantenimiento||""}))}guardarEmpresa(){this.empresaForm.invalid||(this.loading=!0,this.error="",this.ajustesService.actualizarConfiguracionEmpresa(this.empresaForm.value).pipe(E(this.destroy$)).subscribe({next:()=>{this.mensajeExito="Configuraci\xF3n de empresa actualizada correctamente",this.mostrarExito=!0,this.loading=!1},error:n=>{console.error("Error al actualizar empresa:",n),this.error="Error al actualizar la configuraci\xF3n de empresa",this.mostrarError=!0,this.loading=!1}}))}guardarFacturacion(){this.facturacionForm.invalid||(this.loading=!0,this.error="",this.ajustesService.actualizarConfiguracionFacturacion(this.facturacionForm.value).pipe(E(this.destroy$)).subscribe({next:()=>{this.mensajeExito="Configuraci\xF3n de facturaci\xF3n actualizada correctamente",this.mostrarExito=!0,this.loading=!1},error:n=>{console.error("Error al actualizar facturaci\xF3n:",n),this.error="Error al actualizar la configuraci\xF3n de facturaci\xF3n",this.mostrarError=!0,this.loading=!1}}))}guardarNotificaciones(){this.loading=!0,this.error="",this.ajustesService.actualizarConfiguracionNotificaciones(this.notificacionesForm.value).pipe(E(this.destroy$)).subscribe({next:()=>{this.mensajeExito="Configuraci\xF3n de notificaciones actualizada correctamente",this.mostrarExito=!0,this.loading=!1},error:n=>{console.error("Error al actualizar notificaciones:",n),this.error="Error al actualizar la configuraci\xF3n de notificaciones",this.mostrarError=!0,this.loading=!1}})}guardarAvisos(){this.avisosForm.invalid||(this.loading=!0,this.error="",this.ajustesService.actualizarConfiguracionAvisos(this.avisosForm.value).pipe(E(this.destroy$)).subscribe({next:()=>{this.mensajeExito="Configuraci\xF3n de avisos actualizada correctamente",this.mostrarExito=!0,this.loading=!1},error:n=>{console.error("Error al actualizar avisos:",n),this.error="Error al actualizar la configuraci\xF3n de avisos",this.mostrarError=!0,this.loading=!1}}))}guardarSistema(){this.sistemaForm.invalid||(this.loading=!0,this.error="",this.ajustesService.actualizarConfiguracionSistema(this.sistemaForm.value).pipe(E(this.destroy$)).subscribe({next:()=>{this.mensajeExito="Configuraci\xF3n del sistema actualizada correctamente",this.mostrarExito=!0,this.loading=!1},error:n=>{console.error("Error al actualizar sistema:",n),this.error="Error al actualizar la configuraci\xF3n del sistema",this.mostrarError=!0,this.loading=!1}}))}onReintentar(){this.cargarAjustes()}cambiarTab(n){this.tabActivo=n,document.querySelectorAll(".tab-button").forEach(g=>{g.classList.remove("active"),g.getAttribute("data-tab")===n&&g.classList.add("active")}),document.querySelectorAll(".tab-panel").forEach(g=>{g.classList.remove("active"),g.id===n&&g.classList.add("active")})}getMonedaTexto(n){let i=this.monedas.find(r=>r.valor===n);return i?i.texto:n}getFrecuenciaTexto(n){let i=this.frecuenciasBackup.find(r=>r.valor===n);return i?i.texto:n}get empresaFormErrors(){var n,i,r,g,_,I;return{nombre_empresa:(n=this.empresaForm.get("nombre_empresa"))==null?void 0:n.errors,cif:(i=this.empresaForm.get("cif"))==null?void 0:i.errors,direccion:(r=this.empresaForm.get("direccion"))==null?void 0:r.errors,telefono:(g=this.empresaForm.get("telefono"))==null?void 0:g.errors,email:(_=this.empresaForm.get("email"))==null?void 0:_.errors,web:(I=this.empresaForm.get("web"))==null?void 0:I.errors}}get facturacionFormErrors(){var n,i,r;return{iva_por_defecto:(n=this.facturacionForm.get("iva_por_defecto"))==null?void 0:n.errors,formato_numero_factura:(i=this.facturacionForm.get("formato_numero_factura"))==null?void 0:i.errors,dias_vencimiento:(r=this.facturacionForm.get("dias_vencimiento"))==null?void 0:r.errors}}get avisosFormErrors(){var n,i,r;return{tipos_urgencia:(n=this.avisosForm.get("tipos_urgencia"))==null?void 0:n.errors,estados_disponibles:(i=this.avisosForm.get("estados_disponibles"))==null?void 0:i.errors,tiempo_maximo_respuesta:(r=this.avisosForm.get("tiempo_maximo_respuesta"))==null?void 0:r.errors}}get sistemaFormErrors(){var n;return{retencion_backup_dias:(n=this.sistemaForm.get("retencion_backup_dias"))==null?void 0:n.errors}}};m.\u0275fac=function(i){return new(i||m)(z(De),z(ie))},m.\u0275cmp=R({type:m,selectors:[["app-ajustes"]],decls:14,vars:5,consts:[[1,"ajustes-container"],[1,"ajustes-header"],[1,"header-content"],[1,"header-title"],["name","settings-outline"],[1,"header-description"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","ajustes-content",4,"ngIf"],["class","toast toast-success",4,"ngIf"],["class","toast toast-error",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"error-state"],[1,"error-message"],["name","alert-circle-outline"],[1,"btn-retry",3,"click"],["name","refresh-outline"],[1,"ajustes-content"],[1,"tabs-navigation"],["data-tab","empresa",1,"tab-button","active",3,"click"],["name","business-outline"],["data-tab","facturacion",1,"tab-button",3,"click"],["name","card-outline"],["data-tab","notificaciones",1,"tab-button",3,"click"],["name","notifications-outline"],["data-tab","avisos",1,"tab-button",3,"click"],["name","warning-outline"],["data-tab","sistema",1,"tab-button",3,"click"],["name","cog-outline"],[1,"tab-content"],["id","empresa",1,"tab-panel","active"],[1,"config-card"],[1,"card-content"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],[1,"input-container"],["type","text","formControlName","nombre_empresa","placeholder","Ej: Mi Empresa S.L."],["class","error-message",4,"ngIf"],["type","text","formControlName","cif","placeholder","Ej: B12345678"],[1,"form-group","full-width"],["name","location-outline"],["formControlName","direccion","placeholder","Direcci\xF3n completa de la empresa","rows","3"],["name","call-outline"],["type","tel","formControlName","telefono","placeholder","Ej: +34 123 456 789"],["name","mail-outline"],["type","email","formControlName","email","placeholder","info@miempresa.com"],["name","globe-outline"],["type","url","formControlName","web","placeholder","https://www.miempresa.com"],["name","image-outline"],["type","url","formControlName","logo_url","placeholder","https://ejemplo.com/logo.png"],[1,"form-actions"],["type","submit",1,"btn-save",3,"disabled"],["name","save-outline"],["id","facturacion",1,"tab-panel"],[1,"card-header"],[1,"card-title"],["name","calculator-outline"],["type","number","formControlName","iva_por_defecto","min","0","max","100"],["name","cash-outline"],["formControlName","moneda"],[3,"value",4,"ngFor","ngForOf"],["name","document-text-outline"],["type","text","formControlName","formato_numero_factura","placeholder","Ej: FAC-YEAR-NUMBER"],[1,"help-text"],["name","information-circle-outline"],["name","calendar-outline"],["type","number","formControlName","dias_vencimiento","min","1","max","365"],["name","document-outline"],["formControlName","texto_pie_factura","placeholder","Mensaje que aparecer\xE1 al final de las facturas","rows","3"],["formControlName","condiciones_pago","placeholder","Condiciones de pago por defecto","rows","2"],["id","notificaciones",1,"tab-panel"],[1,"notifications-section"],[1,"toggle-group"],[1,"toggle-item"],[1,"toggle-switch"],["type","checkbox","formControlName","email_notificaciones"],[1,"slider"],["type","checkbox","formControlName","email_avisos_nuevos"],["type","checkbox","formControlName","email_facturas_generadas"],["type","checkbox","formControlName","email_recordatorios"],["type","checkbox","formControlName","sms_notificaciones"],["type","checkbox","formControlName","sms_avisos_urgentes"],["id","avisos",1,"tab-panel"],["formControlName","tipos_urgencia","placeholder","Baja, Media, Alta, Cr\xEDtica","rows","2"],["name","list-outline"],["formControlName","estados_disponibles","placeholder","Pendiente, En curso, Completado, Cancelado","rows","2"],["name","time-outline"],["type","number","formControlName","tiempo_maximo_respuesta","min","1","max","168"],["type","checkbox","formControlName","asignacion_automatica"],["id","sistema",1,"tab-panel"],[1,"backup-section"],["type","checkbox","formControlName","backup_automatico"],["formControlName","frecuencia_backup"],["type","number","formControlName","retencion_backup_dias","min","1","max","365"],[1,"maintenance-section"],["type","checkbox","formControlName","modo_mantenimiento"],["name","construct-outline"],["formControlName","mensaje_mantenimiento","placeholder","Mensaje que ver\xE1n los usuarios durante el mantenimiento","rows","3"],[3,"value"],[1,"toast","toast-success"],["name","checkmark-circle-outline"],[1,"toast-close",3,"click"],["name","close-outline"],[1,"toast","toast-error"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"ion-icon",4),e(5,"h1"),o(6,"Configuraci\xF3n del Sistema"),t()(),e(7,"p",5),o(8," Gestiona todas las configuraciones de tu aplicaci\xF3n desde un solo lugar "),t()()(),C(9,Be,5,0,"div",6)(10,Re,8,1,"div",7)(11,Ze,286,48,"div",8),t(),C(12,et,6,1,"div",9)(13,tt,6,1,"div",10)),i&2&&(l(9),d("ngIf",r.loading),l(),d("ngIf",r.error&&!r.loading),l(),d("ngIf",!r.loading&&!r.error&&r.ajustes),l(),d("ngIf",r.mostrarExito),l(),d("ngIf",r.mostrarError))},dependencies:[L,q,G,oe,W,Z,ee,U,H,$,X,Y,J,ne,te,ae,K,Q,re],styles:[`ion-content[_ngcontent-%COMP%]{--background: #FFF}.ajustes-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.ajustes-header[_ngcontent-%COMP%]{margin-bottom:32px;padding:24px;background:linear-gradient(135deg,#4f46e5,#6366f1);border-radius:16px;color:#fff;box-shadow:0 2px 8px #e0e7ef33}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#fff}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:600;color:#fff}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-description[_ngcontent-%COMP%]{margin:0;font-size:16px;opacity:.9;line-height:1.5}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;color:#64748b}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:48px;height:48px;color:#4f46e5}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;text-align:center;color:#ef4444;max-width:400px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#ef4444}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:1.5}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:transparent;color:#ef4444;border:1px solid #EF4444;border-radius:6px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s ease}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.ajustes-content[_ngcontent-%COMP%]   .tabs-navigation[_ngcontent-%COMP%]{display:flex;background:#fff;border-radius:12px 12px 0 0;border:1px solid #E2E8F0;border-bottom:none;margin-bottom:0;overflow-x:auto}.ajustes-content[_ngcontent-%COMP%]   .tabs-navigation[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:120px;padding:16px 24px;font-weight:500;color:#64748b;background:transparent;border:none;cursor:pointer;transition:all .2s ease;white-space:nowrap}.ajustes-content[_ngcontent-%COMP%]   .tabs-navigation[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.ajustes-content[_ngcontent-%COMP%]   .tabs-navigation[_ngcontent-%COMP%]   .tab-button.active[_ngcontent-%COMP%]{color:#4f46e5;background:#fafbff;border-bottom:3px solid #4F46E5}.ajustes-content[_ngcontent-%COMP%]   .tabs-navigation[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:hover{background:#fafbff;color:#4f46e5}.ajustes-content[_ngcontent-%COMP%]   .tabs-navigation[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:focus{outline:none}.ajustes-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background:#fff;border-top:none;border-radius:0 0 12px 12px;min-height:600px}.ajustes-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-panel[_ngcontent-%COMP%]{display:none}.ajustes-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-panel.active[_ngcontent-%COMP%]{display:block}.config-card[_ngcontent-%COMP%]{margin:0;border-radius:12px;padding:20px}.config-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:1px solid #E2E8F0;border-radius:12px 12px 0 0}.config-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0 0 8px;font-size:20px;font-weight:600;color:#26262a}.config-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#4f46e5}.config-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:14px;line-height:1.5}.config-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:24px}.form-grid[_ngcontent-%COMP%]   .form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#26262a;font-weight:500;margin-bottom:8px;font-size:14px}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;border:1px solid #E2E8F0;border-radius:8px;background:#fff;transition:all .2s ease}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#ef44440d}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]:focus-within{border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#acacac;font-size:18px;z-index:1}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 40px;border:none;background:transparent;color:#26262a;font-size:14px;outline:none}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{color:#ef4444}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder, .form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#acacac}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;padding-top:12px;padding-bottom:12px}.form-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-top:6px;color:#ef4444;font-size:12px}.error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.4}.help-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-top:6px;color:#64748b;font-size:12px}.help-text[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.help-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.4}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:24px;border-top:1px solid #F1F5F9}.form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-weight:500;font-size:14px;cursor:pointer;transition:all .2s ease}.form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{background:#acacac;color:#fff;opacity:.6;cursor:not-allowed;transform:none}.form-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:active{transform:translateY(0)}.notifications-section[_ngcontent-%COMP%]{margin-bottom:32px}.notifications-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:16px;font-weight:600;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid #F1F5F9}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 0}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#26262a;font-size:14px;font-weight:500;cursor:pointer;margin:0}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;width:50px;height:24px}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#4f46e5}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#e2e8f0;transition:.3s;border-radius:24px}.notifications-section[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.backup-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:16px;font-weight:600;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid #F1F5F9}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 0;margin-bottom:16px}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#26262a;font-size:14px;font-weight:500;cursor:pointer;margin:0}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;width:50px;height:24px}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#4f46e5}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before, .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%], .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#e2e8f0;transition:.3s;border-radius:24px}.backup-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before, .maintenance-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}@media (max-width: 768px){.ajustes-container[_ngcontent-%COMP%]{padding:16px}.ajustes-header[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-description[_ngcontent-%COMP%]{font-size:14px}.tab-content[_ngcontent-%COMP%]{padding:0}.config-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px}.config-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px}.config-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.config-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.ajustes-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-label{min-width:100px;padding:12px 16px;font-size:14px}}@media (max-width: 480px){.ajustes-container[_ngcontent-%COMP%]{padding:12px}.ajustes-header[_ngcontent-%COMP%]{padding:16px}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{flex-direction:column;gap:8px;text-align:center}.ajustes-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.tab-content[_ngcontent-%COMP%]{padding:0}.config-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:16px}.config-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:16px}.config-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.config-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px}.form-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;--padding-start: 16px;--padding-end: 16px}}.toast[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;display:flex;align-items:center;gap:12px;padding:16px 20px;border-radius:8px;box-shadow:0 4px 12px #00000026;z-index:1000;max-width:400px;animation:_ngcontent-%COMP%_slideIn .3s ease}.toast[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.toast[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500}.toast[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;padding:4px;border-radius:4px;transition:background .2s ease}.toast[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.toast[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{background:#fff3}.toast.toast-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.toast.toast-error[_ngcontent-%COMP%]{background:#ef4444;color:#fff}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.form-item[_ngcontent-%COMP%]{transition:all .2s ease}.form-item[_ngcontent-%COMP%]:focus-within{--border-color: $primary-color;--background: rgba(79, 70, 229, .02)}ion-textarea[_ngcontent-%COMP%]     textarea{scrollbar-width:thin;scrollbar-color:#E2E8F0 transparent}ion-textarea[_ngcontent-%COMP%]     textarea::-webkit-scrollbar{width:6px}ion-textarea[_ngcontent-%COMP%]     textarea::-webkit-scrollbar-track{background:transparent}ion-textarea[_ngcontent-%COMP%]     textarea::-webkit-scrollbar-thumb{background-color:#e2e8f0;border-radius:3px}`]});let s=m;return s})();export{pt as AjustesComponent};
