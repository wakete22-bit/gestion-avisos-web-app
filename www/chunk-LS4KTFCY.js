import{a as fe}from"./chunk-RSAD4EEI.js";import"./chunk-RP6VPHKN.js";import"./chunk-FK6H3RFT.js";import{a as Ce}from"./chunk-UG5ATQHO.js";import{a as _e}from"./chunk-XEVZMQZH.js";import"./chunk-5JOXGAFT.js";import{a as ye}from"./chunk-CEBXDJYS.js";import"./chunk-5YRB7RVB.js";import"./chunk-4XNYWQEP.js";import{Aa as R,Ba as xe,E as D,Ea as Pe,Ga as he,Ha as W,Ia as ve,J as be,O as B,P as Me,Ra as A,Sa as we,U as Oe,a as N,va as j}from"./chunk-CPCGS7XX.js";import"./chunk-KYCVJEX4.js";import"./chunk-STXSJFLK.js";import{i as ge,r as me,w as ue}from"./chunk-YOFVTXCH.js";import"./chunk-A72QMOGB.js";import{H as ee,J as S,K as te,L as ne,P as oe,Q as ie,R as re,U as ae,V as ce,_ as le,ba as se,ca as de,da as pe}from"./chunk-TWOPYUJN.js";import{Eb as X,Hb as Z,Ia as i,Ja as u,Ka as y,La as T,N as g,Na as O,O as m,Oa as x,Pa as P,Ra as h,Xa as b,_ as c,_a as M,ba as F,da as G,ha as w,lb as Y,mb as $,na as s,pa as H,pb as K,ra as n,rb as J,sa as t,sb as Q,ta as p,xa as E,ya as C,za as _}from"./chunk-4AY4VQCP.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{k as V}from"./chunk-CRC5ZNR6.js";var v=()=>({standalone:!0});function Fe(l,d){l&1&&(n(0,"div",40)(1,"div",41),p(2,"ion-icon",42),n(3,"p"),i(4,"Cargando factura para editar..."),t()()())}function Ee(l,d){if(l&1){let r=E();n(0,"div",67)(1,"div",23)(2,"span",68),i(3),t(),n(4,"span",69),i(5),t()(),n(6,"button",70),C("click",function(){g(r);let e=_(2);return m(e.limpiarClienteSeleccionado())}),p(7,"ion-icon",12),t()()}if(l&2){let r=_(2);c(3),u(r.clienteSeleccionado.nombre_completo),c(2),T("",r.clienteSeleccionado.cif," \u2022 ",r.clienteSeleccionado.email,"")}}function Se(l,d){if(l&1){let r=E();n(0,"div",77),C("click",function(){let e=g(r).$implicit,a=_(3);return m(a.seleccionarCliente(e))}),n(1,"div",78)(2,"span",79),i(3),t(),n(4,"span",80),i(5),t()(),p(6,"ion-icon",81),t()}if(l&2){let r=d.$implicit;c(3),u(r.nombre_completo),c(2),T(" ",r.cif||"Sin CIF"," \u2022 ",r.email||"Sin email"," ")}}function ze(l,d){l&1&&(n(0,"div",82),i(1," No se encontraron clientes "),t())}function ke(l,d){if(l&1){let r=E();n(0,"div",71)(1,"div",72)(2,"span"),i(3,"Seleccionar cliente"),t(),n(4,"button",73),C("click",function(){g(r);let e=_(2);return m(e.cerrarSelectorClientes())}),p(5,"ion-icon",12),t()(),n(6,"div",74),w(7,Se,7,3,"div",75)(8,ze,2,0,"div",76),t()()}if(l&2){let r=_(2);c(7),s("ngForOf",r.clientesFiltrados),c(),s("ngIf",r.clientesFiltrados.length===0)}}function Ie(l,d){if(l&1){let r=E();n(0,"tr")(1,"td")(2,"input",83),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.nombre,e)||(a.nombre=e),m(e)}),t()(),n(3,"td")(4,"input",84),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.cantidad,e)||(a.cantidad=e),m(e)}),t()(),n(5,"td")(6,"input",85),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.precio_neto,e)||(a.precio_neto=e),m(e)}),t()(),n(7,"td",86)(8,"input",85),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.precio_pvp,e)||(a.precio_pvp=e),m(e)}),t()(),n(9,"td",87)(10,"button",88),C("click",function(){let e=g(r).index,a=_(2);return m(a.eliminarRepuesto(e))}),p(11,"ion-icon",89),t()()()}if(l&2){let r=d.$implicit;c(2),O("ngModel",r.nombre),s("ngModelOptions",h(8,v)),c(2),O("ngModel",r.cantidad),s("ngModelOptions",h(9,v)),c(2),O("ngModel",r.precio_neto),s("ngModelOptions",h(10,v)),c(2),O("ngModel",r.precio_pvp),s("ngModelOptions",h(11,v))}}function Ve(l,d){l&1&&(n(0,"tr",90)(1,"td",91),i(2,"No hay repuestos a\xF1adidos"),t()())}function Te(l,d){if(l&1&&(n(0,"tr",92)(1,"td",93),i(2,"Total"),t(),n(3,"td"),i(4),b(5,"currency"),t(),n(6,"td",86),i(7),b(8,"currency"),t(),p(9,"td"),t()),l&2){let r=_(2);c(4),u(M(5,2,r.totalRepuestosNeto,"EUR","symbol","1.2-2")),c(3),u(M(8,7,r.totalRepuestosPvp,"EUR","symbol","1.2-2"))}}function Ne(l,d){if(l&1){let r=E();n(0,"tr")(1,"td")(2,"input",94),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.nombre,e)||(a.nombre=e),m(e)}),t()(),n(3,"td")(4,"input",95),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.cantidad,e)||(a.cantidad=e),m(e)}),t()(),n(5,"td",86)(6,"input",85),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.precio_pvp,e)||(a.precio_pvp=e),m(e)}),t()(),n(7,"td",87)(8,"button",88),C("click",function(){let e=g(r).index,a=_(2);return m(a.eliminarManoObra(e))}),p(9,"ion-icon",89),t()()()}if(l&2){let r=d.$implicit;c(2),O("ngModel",r.nombre),s("ngModelOptions",h(6,v)),c(2),O("ngModel",r.cantidad),s("ngModelOptions",h(7,v)),c(2),O("ngModel",r.precio_pvp),s("ngModelOptions",h(8,v))}}function De(l,d){l&1&&(n(0,"tr",90)(1,"td",96),i(2,"No hay mano de obra a\xF1adida"),t()())}function Be(l,d){if(l&1&&(n(0,"tr",92)(1,"td",93),i(2,"Total"),t(),n(3,"td",86),i(4),b(5,"currency"),t(),p(6,"td"),t()),l&2){let r=_(2);c(4),u(M(5,1,r.totalManoObra,"EUR","symbol","1.2-2"))}}function je(l,d){if(l&1){let r=E();n(0,"tr")(1,"td")(2,"input",97),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.nombre,e)||(a.nombre=e),m(e)}),t()(),n(3,"td")(4,"input",98),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.cantidad,e)||(a.cantidad=e),m(e)}),t()(),n(5,"td",86)(6,"input",85),P("ngModelChange",function(e){let a=g(r).$implicit;return x(a.precio_pvp,e)||(a.precio_pvp=e),m(e)}),t()(),n(7,"td",87)(8,"button",88),C("click",function(){let e=g(r).index,a=_(2);return m(a.eliminarDesplazamiento(e))}),p(9,"ion-icon",89),t()()()}if(l&2){let r=d.$implicit;c(2),O("ngModel",r.nombre),s("ngModelOptions",h(6,v)),c(2),O("ngModel",r.cantidad),s("ngModelOptions",h(7,v)),c(2),O("ngModel",r.precio_pvp),s("ngModelOptions",h(8,v))}}function Re(l,d){l&1&&(n(0,"tr",90)(1,"td",96),i(2,"No hay desplazamientos a\xF1adidos"),t()())}function We(l,d){if(l&1&&(n(0,"tr",92)(1,"td",93),i(2,"Total"),t(),n(3,"td",86),i(4),b(5,"currency"),t(),p(6,"td"),t()),l&2){let r=_(2);c(4),u(M(5,1,r.totalDesplazamiento,"EUR","symbol","1.2-2"))}}function Ae(l,d){if(l&1){let r=E();n(0,"div",43)(1,"div",4)(2,"h2"),i(3),t(),n(4,"div",5)(5,"button",6),C("click",function(){g(r);let e=_();return m(e.toggleVistaPrevia())}),p(6,"ion-icon",44),n(7,"span",8),i(8,"Vista previa"),t()()()(),n(9,"form",45)(10,"div",46)(11,"div",47)(12,"label"),i(13,"N\xFAmero Factura"),t(),p(14,"input",48),t(),n(15,"div",47)(16,"label"),i(17,"Fecha de emisi\xF3n"),t(),p(18,"input",49),t(),n(19,"div",50)(20,"label"),i(21,"Cliente"),t(),n(22,"div",51)(23,"input",52),P("ngModelChange",function(e){g(r);let a=_();return x(a.terminoBusqueda,e)||(a.terminoBusqueda=e),m(e)}),C("input",function(){g(r);let e=_();return m(e.buscarClientes())})("focus",function(){g(r);let e=_();return m(e.abrirSelectorClientes())}),t(),n(24,"button",53),C("click",function(){g(r);let e=_();return m(e.abrirSelectorClientes())}),p(25,"ion-icon",54),t()(),w(26,Ee,8,3,"div",55)(27,ke,9,2,"div",56),t(),n(28,"div",47)(29,"label"),i(30,"Nombre"),t(),p(31,"input",57),t(),n(32,"div",47)(33,"label"),i(34,"Direcci\xF3n"),t(),p(35,"input",58),t(),n(36,"div",47)(37,"label"),i(38,"CIF/NIF"),t(),p(39,"input",59),t(),n(40,"div",47)(41,"label"),i(42,"Correo electr\xF3nico"),t(),p(43,"input",60),t()(),n(44,"section",61)(45,"div",62)(46,"span"),i(47,"Repuestos Utilizados"),t(),n(48,"button",63),C("click",function(){g(r);let e=_();return m(e.agregarRepuesto())}),n(49,"span"),i(50,"+"),t()()(),n(51,"table")(52,"thead")(53,"tr")(54,"th"),i(55,"Nombre"),t(),n(56,"th"),i(57,"Cantidad"),t(),n(58,"th"),i(59,"Neto"),t(),n(60,"th"),i(61,"PVP"),t(),p(62,"th"),t()(),n(63,"tbody"),w(64,Ie,12,12,"tr",25)(65,Ve,3,0,"tr",64)(66,Te,10,12,"tr",27),t()()(),n(67,"section",61)(68,"div",62)(69,"span"),i(70,"Mano de Obra"),t(),n(71,"button",63),C("click",function(){g(r);let e=_();return m(e.agregarManoObra())}),n(72,"span"),i(73,"+"),t()()(),n(74,"table")(75,"thead")(76,"tr")(77,"th"),i(78,"Nombre"),t(),n(79,"th"),i(80,"Cantidad"),t(),n(81,"th"),i(82,"PVP"),t(),p(83,"th"),t()(),n(84,"tbody"),w(85,Ne,10,9,"tr",25)(86,De,3,0,"tr",64)(87,Be,7,6,"tr",27),t()()(),n(88,"section",61)(89,"div",62)(90,"span"),i(91,"Desplazamiento"),t(),n(92,"button",63),C("click",function(){g(r);let e=_();return m(e.agregarDesplazamiento())}),n(93,"span"),i(94,"+"),t()()(),n(95,"table")(96,"thead")(97,"tr")(98,"th"),i(99,"Nombre"),t(),n(100,"th"),i(101,"Cantidad"),t(),n(102,"th"),i(103,"PVP"),t(),p(104,"th"),t()(),n(105,"tbody"),w(106,je,10,9,"tr",25)(107,Re,3,0,"tr",64)(108,We,7,6,"tr",27),t()()(),n(109,"section",61)(110,"div",65)(111,"span"),i(112,"Detalles descripci\xF3n"),t()(),n(113,"div",47),p(114,"textarea",66),t()()()()}if(l&2){let r=_();c(3),u(r.isEditing?"Editar Factura":"Crear Factura"),c(6),s("formGroup",r.facturaForm),c(14),O("ngModel",r.terminoBusqueda),s("ngModelOptions",h(15,v)),c(3),s("ngIf",r.clienteSeleccionado),c(),s("ngIf",r.mostrarSelectorClientes),c(37),s("ngForOf",r.repuestos),c(),s("ngIf",r.repuestos.length===0),c(),s("ngIf",r.repuestos.length>0),c(19),s("ngForOf",r.manoObra),c(),s("ngIf",r.manoObra.length===0),c(),s("ngIf",r.manoObra.length>0),c(19),s("ngForOf",r.desplazamientos),c(),s("ngIf",r.desplazamientos.length===0),c(),s("ngIf",r.desplazamientos.length>0)}}function Le(l,d){if(l&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td"),i(4),t(),n(5,"td"),i(6),b(7,"currency"),t(),n(8,"td"),i(9),b(10,"currency"),t()()),l&2){let r=d.$implicit;c(2),u(r.nombre||"Sin nombre"),c(2),u(r.cantidad||0),c(2),u(M(7,4,r.precio_neto||0,"EUR","symbol","1.2-2")),c(3),u(M(10,9,r.precio_pvp||0,"EUR","symbol","1.2-2"))}}function qe(l,d){l&1&&(n(0,"tr")(1,"td",96),i(2,"No hay repuestos"),t()())}function Ue(l,d){if(l&1&&(n(0,"tr",92)(1,"td")(2,"b"),i(3,"TOTAL"),t()(),p(4,"td"),n(5,"td",86),i(6),b(7,"currency"),t(),n(8,"td",86),i(9),b(10,"currency"),t()()),l&2){let r=_();c(6),u(M(7,2,r.totalRepuestosNeto,"EUR","symbol","1.2-2")),c(3),u(M(10,7,r.totalRepuestosPvp,"EUR","symbol","1.2-2"))}}function Ge(l,d){if(l&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td"),i(4),t(),n(5,"td"),i(6),b(7,"currency"),t()()),l&2){let r=d.$implicit;c(2),u(r.nombre||"Sin descripci\xF3n"),c(2),y("",r.cantidad||0,"h"),c(2),u(M(7,3,r.precio_pvp||0,"EUR","symbol","1.2-2"))}}function He(l,d){if(l&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td"),i(4),t(),n(5,"td"),i(6),b(7,"currency"),t()()),l&2){let r=d.$implicit;c(2),u(r.nombre||"Sin descripci\xF3n"),c(2),u(r.cantidad||0),c(2),u(M(7,3,r.precio_pvp||0,"EUR","symbol","1.2-2"))}}function Ye(l,d){l&1&&(n(0,"tr")(1,"td",99),i(2,"No hay mano de obra ni desplazamientos"),t()())}function $e(l,d){if(l&1&&(n(0,"tr",92)(1,"td",93)(2,"b"),i(3,"TOTAL"),t()(),n(4,"td",86),i(5),b(6,"currency"),t()()),l&2){let r=_();c(5),u(M(6,1,r.totalManoObra+r.totalDesplazamiento,"EUR","symbol","1.2-2"))}}var gt=(()=>{let d=class d{constructor(o,e,a,f,z,k,I){this.fb=o,this.facturasService=e,this.router=a,this.route=f,this.pdfService=z,this.configuracionService=k,this.clientesService=I,this.repuestos=[],this.manoObra=[],this.desplazamientos=[],this.mostrarVistaPrevia=!1,this.loading=!1,this.isEditing=!1,this.clientes=[],this.clientesFiltrados=[],this.terminoBusqueda="",this.mostrarSelectorClientes=!1,this.clienteSeleccionado=null,this.facturaForm=this.fb.group({numeroFactura:["",S.required],fecha:[new Date().toISOString().split("T")[0],S.required],nombre:["",S.required],direccion:["",S.required],cif:["",S.required],email:["",[S.required,S.email]],notas:[""]}),N({refreshOutline:Pe,eyeOutline:Oe,searchOutline:W,closeOutline:D,personOutline:j,trash:A,download:B,print:R,sendOutline:ve,saveOutline:he,downloadOutline:Me,printOutline:xe,trashOutline:we,createOutline:be})}ngOnInit(){N({trash:A,closeOutline:D,download:B,print:R,searchOutline:W,personOutline:j}),this.cargarClientes(),this.route.params.subscribe(o=>{let e=o.id;e?(this.facturaId=e,this.isEditing=!0,this.cargarFacturaParaEditar(e)):this.generarNumeroFactura()})}cargarFacturaParaEditar(o){this.loading=!0,this.facturasService.getFactura(o).subscribe({next:e=>{this.facturaOriginal=e,this.cargarDatosFactura(e),this.loading=!1},error:e=>{console.error("Error al cargar factura para editar:",e),this.loading=!1,this.router.navigate(["/facturas"])}})}cargarDatosFactura(o){let e=o.factura,a=o.lineas;this.facturaForm.patchValue({numeroFactura:e.numero_factura,fecha:e.fecha_emision,nombre:e.nombre_cliente,direccion:e.direccion_cliente,cif:e.cif_cliente,email:e.email_cliente,notas:e.notas||""}),this.repuestos=a.filter(f=>f.tipo==="repuesto"),this.manoObra=a.filter(f=>f.tipo==="mano_obra"),this.desplazamientos=a.filter(f=>f.tipo==="desplazamiento"),console.log("\u2705 Factura cargada para edici\xF3n:",{factura:e,lineas:a,repuestos:this.repuestos,manoObra:this.manoObra,desplazamientos:this.desplazamientos})}generarNumeroFactura(){this.isEditing||this.facturasService.getSiguienteNumero().subscribe({next:o=>{this.facturaForm.patchValue({numeroFactura:o})},error:o=>{console.error("Error al generar n\xFAmero de factura:",o);let e=new Date().getFullYear();this.facturaForm.patchValue({numeroFactura:`F${e}-001`})}})}agregarRepuesto(){this.repuestos.push({tipo:"repuesto",nombre:"",cantidad:1,precio_neto:0,precio_pvp:0})}eliminarRepuesto(o){this.repuestos.splice(o,1)}agregarManoObra(){this.manoObra.push({tipo:"mano_obra",nombre:"",cantidad:1,precio_pvp:0})}eliminarManoObra(o){this.manoObra.splice(o,1)}agregarDesplazamiento(){this.desplazamientos.push({tipo:"desplazamiento",nombre:"",cantidad:1,precio_pvp:0})}eliminarDesplazamiento(o){this.desplazamientos.splice(o,1)}get totalRepuestosNeto(){return this.repuestos.reduce((o,e)=>o+e.cantidad*(e.precio_neto||0),0)}get totalRepuestosPvp(){return this.repuestos.reduce((o,e)=>o+e.cantidad*e.precio_pvp,0)}get totalManoObra(){return this.manoObra.reduce((o,e)=>o+e.cantidad*e.precio_pvp,0)}get totalDesplazamiento(){return this.desplazamientos.reduce((o,e)=>o+e.cantidad*e.precio_pvp,0)}get subtotal(){return this.totalRepuestosPvp+this.totalManoObra+this.totalDesplazamiento}get iva(){var e,a;let o=((a=(e=this.configuracionService.getConfiguracionActual())==null?void 0:e.facturacion)==null?void 0:a.iva_por_defecto)||21;return+(this.subtotal*(o/100)).toFixed(2)}get total(){return+(this.subtotal+this.iva).toFixed(2)}enviarFactura(){if(console.log("Bot\xF3n enviar factura clickeado"),console.log("Formulario v\xE1lido:",this.facturaForm.valid),console.log("Errores del formulario:",this.facturaForm.errors),console.log("Valores del formulario:",this.facturaForm.value),this.facturaForm.valid){console.log("Formulario es v\xE1lido, procediendo..."),this.loading=!0;let o=this.prepararDatosFactura();o.estado="En curso",console.log("Datos de factura a enviar:",o),this.isEditing&&this.facturaId?this.facturasService.actualizarFactura(this.facturaId,o).subscribe({next:e=>{console.log("Factura actualizada exitosamente:",e),this.loading=!1,this.router.navigate(["/facturas"])},error:e=>{console.error("Error al actualizar factura:",e),this.loading=!1}}):this.facturasService.crearFactura(o).subscribe({next:e=>{console.log("Factura creada exitosamente:",e),this.loading=!1,this.router.navigate(["/facturas"])},error:e=>{console.error("Error al crear factura:",e),this.loading=!1}})}else console.log("Formulario no es v\xE1lido"),Object.keys(this.facturaForm.controls).forEach(o=>{let e=this.facturaForm.get(o);e!=null&&e.invalid&&console.log(`Campo ${o} es inv\xE1lido:`,e.errors)})}generarFactura(){if(console.log("Bot\xF3n generar factura clickeado"),console.log("Formulario v\xE1lido:",this.facturaForm.valid),this.facturaForm.valid){console.log("Formulario es v\xE1lido, procediendo..."),this.loading=!0;let o=this.prepararDatosFactura();o.estado="Pendiente",console.log("Datos de factura a generar:",o),this.isEditing&&this.facturaId?this.facturasService.actualizarFactura(this.facturaId,o).subscribe({next:e=>{console.log("Factura actualizada exitosamente:",e),this.loading=!1,this.router.navigate(["/facturas"])},error:e=>{console.error("Error al actualizar factura:",e),this.loading=!1}}):this.facturasService.crearFactura(o).subscribe({next:e=>{console.log("Factura generada exitosamente:",e),this.loading=!1,this.router.navigate(["/facturas"])},error:e=>{console.error("Error al generar factura:",e),this.loading=!1}})}else console.log("Formulario no es v\xE1lido"),Object.keys(this.facturaForm.controls).forEach(o=>{let e=this.facturaForm.get(o);e!=null&&e.invalid&&console.log(`Campo ${o} es inv\xE1lido:`,e.errors)})}prepararDatosFactura(){let o=this.facturaForm.value,e=[...this.repuestos,...this.manoObra,...this.desplazamientos];return{numero_factura:o.numeroFactura,fecha_emision:o.fecha,nombre_cliente:o.nombre,direccion_cliente:o.direccion,cif_cliente:o.cif,email_cliente:o.email,subtotal:this.subtotal,iva:this.iva,total:this.total,estado:"Pendiente",notas:o.notas,lineas:e}}toggleVistaPrevia(){this.mostrarVistaPrevia=!this.mostrarVistaPrevia}debugFormulario(){console.log("=== DEBUG FORMULARIO ==="),console.log("Formulario v\xE1lido:",this.facturaForm.valid),console.log("Valores:",this.facturaForm.value),console.log("Errores:",this.facturaForm.errors),Object.keys(this.facturaForm.controls).forEach(o=>{let e=this.facturaForm.get(o);console.log(`Campo ${o}:`,{valor:e==null?void 0:e.value,v\u00E1lido:e==null?void 0:e.valid,errores:e==null?void 0:e.errors,touched:e==null?void 0:e.touched,dirty:e==null?void 0:e.dirty})})}descargarFactura(){return V(this,null,function*(){var o;try{console.log("\u{1F527} Iniciando descarga de factura...");let a=`factura_${((o=this.facturaForm.get("numeroFactura"))==null?void 0:o.value)||"factura"}.pdf`,f=this.prepararDatosFactura();this.pdfService.generarPdfNativo(f,a),console.log("\u2705 Factura descargada exitosamente")}catch(e){console.error("\u274C Error al descargar factura:",e)}})}imprimirFactura(){return V(this,null,function*(){try{console.log("\u{1F527} Iniciando impresi\xF3n de factura...");let o=this.prepararDatosFactura();yield this.pdfService.imprimirFacturaNativa(o),console.log("\u2705 Impresi\xF3n iniciada exitosamente")}catch(o){console.error("\u274C Error al imprimir factura:",o)}})}generarPdfDesdeDatos(){var o;try{console.log("\u{1F527} Generando PDF desde datos...");let e=this.prepararDatosFactura(),f=`factura_${((o=this.facturaForm.get("numeroFactura"))==null?void 0:o.value)||"factura"}.pdf`;this.pdfService.generarPdfNativo(e,f),console.log("\u2705 PDF desde datos generado exitosamente")}catch(e){console.error("\u274C Error al generar PDF desde datos:",e)}}cargarClientes(){this.clientesService.getClientes(1,100).subscribe({next:o=>{this.clientes=o.clientes,this.clientesFiltrados=o.clientes,console.log("\u2705 Clientes cargados:",this.clientes.length)},error:o=>{console.error("\u274C Error al cargar clientes:",o)}})}buscarClientes(){if(!this.terminoBusqueda.trim()){this.clientesFiltrados=this.clientes;return}this.clientesFiltrados=this.clientes.filter(o=>o.nombre_completo.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||o.cif&&o.cif.toLowerCase().includes(this.terminoBusqueda.toLowerCase())||o.email&&o.email.toLowerCase().includes(this.terminoBusqueda.toLowerCase()))}seleccionarCliente(o){this.clienteSeleccionado=o,this.mostrarSelectorClientes=!1,this.terminoBusqueda="",this.facturaForm.patchValue({nombre:o.nombre_completo,direccion:o.direccion||"",cif:o.cif||"",email:o.email||""}),console.log("\u2705 Cliente seleccionado:",o)}abrirSelectorClientes(){this.mostrarSelectorClientes=!0,this.terminoBusqueda="",this.clientesFiltrados=this.clientes}cerrarSelectorClientes(){this.mostrarSelectorClientes=!1,this.terminoBusqueda=""}limpiarClienteSeleccionado(){this.clienteSeleccionado=null,this.facturaForm.patchValue({nombre:"",direccion:"",cif:"",email:""})}};d.\u0275fac=function(e){return new(e||d)(F(se),F(Ce),F(Z),F(X),F(fe),F(_e),F(ye))},d.\u0275cmp=G({type:d,selectors:[["app-crear-factura"]],inputs:{facturaId:"facturaId"},decls:142,vars:46,consts:[[1,"factura-container"],["class","loading-state",4,"ngIf"],["class","factura-formulario",4,"ngIf"],[1,"factura-preview"],[1,"header-container"],[1,"actions-preview"],["type","button",1,"btn-outline",3,"click"],["name","download"],[1,"button-text"],["type","button",1,"btn-primary",3,"click"],["name","print"],["type","button",1,"btn-close",3,"click"],["name","close-outline"],[1,"preview-header"],[1,"logo-box"],["src","assets/icon/favicon.png","alt","Logo"],[1,"empresa-datos"],[1,"empresa-nombre"],[2,"margin-top","20px"],[1,"factura-info"],[1,"factura-label"],[2,"color","#111827","font-weight","500"],[1,"cliente-datos"],[1,"cliente-info"],[1,"preview-tabla"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","total-row",4,"ngIf"],[1,"preview-totales-box"],[1,"totales-row"],[1,"totales-row","total-final"],[1,"preview-notas"],[1,"notas-texto"],[1,"preview-footer"],[1,"factura-footer",3,"translucent"],[1,"footer-buttons"],["type","button",1,"btn","btn-outline",3,"click","disabled"],["name","send-outline"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["name","save-outline"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"factura-formulario"],["name","eye-outline"],[3,"formGroup"],[1,"grid-datos"],[1,"form-group"],["type","text","formControlName","numeroFactura","placeholder","#876370A"],["type","date","formControlName","fecha"],[1,"form-group","cliente-selector"],[1,"cliente-input-container"],["type","text","placeholder","Buscar cliente por nombre, CIF o email...",1,"cliente-search-input",3,"ngModelChange","input","focus","ngModel","ngModelOptions"],["type","button",1,"btn-search-cliente",3,"click"],["name","search-outline"],["class","cliente-seleccionado",4,"ngIf"],["class","clientes-dropdown",4,"ngIf"],["type","text","formControlName","nombre","placeholder","Ejemplo","readonly",""],["type","text","formControlName","direccion","placeholder","Calle","readonly",""],["type","text","formControlName","cif","placeholder","12345678A","readonly",""],["type","email","formControlName","email","placeholder","ejemplo@gmail.com","readonly",""],[1,"tabla-section"],[1,"tabla-header"],["type","button",1,"icon-btn","add-btn",3,"click"],["class","empty-row",4,"ngIf"],[1,"tabla-header",2,"margin-bottom","20px"],["formControlName","notas","placeholder","Notas"],[1,"cliente-seleccionado"],[1,"cliente-nombre"],[1,"cliente-details"],["type","button",1,"btn-clear-cliente",3,"click"],[1,"clientes-dropdown"],[1,"clientes-header"],["type","button",1,"btn-close-dropdown",3,"click"],[1,"clientes-list"],["class","cliente-item",3,"click",4,"ngFor","ngForOf"],["class","no-clientes",4,"ngIf"],[1,"cliente-item",3,"click"],[1,"cliente-item-info"],[1,"cliente-item-nombre"],[1,"cliente-item-details"],["name","person-outline",1,"cliente-item-icon"],[1,"no-clientes"],["type","text","placeholder","Nombre del repuesto",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01","placeholder","0.00",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"success"],[1,"trash-btn"],["type","button",1,"icon-btn","danger",3,"click"],["name","trash"],[1,"empty-row"],["colspan","5",1,"text-center"],[1,"total-row"],["colspan","2"],["type","text","placeholder","Descripci\xF3n del trabajo",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01","placeholder","Horas",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["colspan","4",1,"text-center"],["type","text","placeholder","Tipo de desplazamiento",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01","placeholder","Cantidad",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["colspan","3",1,"text-center"]],template:function(e,a){if(e&1&&(n(0,"div",0),w(1,Fe,5,0,"div",1)(2,Ae,115,16,"div",2),n(3,"div",3)(4,"div",4)(5,"h2"),i(6,"Vista previa"),t(),n(7,"div",5)(8,"button",6),C("click",function(){return a.descargarFactura()}),p(9,"ion-icon",7),n(10,"span",8),i(11,"Descargar"),t()(),n(12,"button",9),C("click",function(){return a.imprimirFactura()}),p(13,"ion-icon",10),n(14,"span",8),i(15,"Imprimir"),t()(),n(16,"button",11),C("click",function(){return a.toggleVistaPrevia()}),p(17,"ion-icon",12),n(18,"span",8),i(19,"Cerrar"),t()()()(),n(20,"div",13)(21,"div",14),p(22,"img",15),t(),n(23,"div",16)(24,"div")(25,"span",17),i(26,"Datos de empresa"),t(),n(27,"span"),i(28,"Nombre de empresa"),t(),n(29,"address"),i(30,"Direcci\xF3n de empresa"),t(),n(31,"span"),i(32,"Ciudad de empresa"),t(),n(33,"span"),i(34,"CIF de empresa"),t(),n(35,"span",18),i(36,"ejemplodominio.es"),t(),n(37,"span"),i(38,"+34 123 45 56 65"),t()(),n(39,"div",19)(40,"label",20),i(41,"Factura"),t(),n(42,"label",21),i(43,"N\xBA FACTURA"),t(),n(44,"label"),i(45),t(),n(46,"label",21),i(47,"FECHA DE EMISI\xD3N"),t(),n(48,"label"),i(49),b(50,"date"),t()()()(),n(51,"div",22)(52,"h3"),i(53,"Datos del Cliente"),t(),n(54,"div",23)(55,"p")(56,"strong"),i(57,"Nombre:"),t(),i(58),t(),n(59,"p")(60,"strong"),i(61,"Direcci\xF3n:"),t(),i(62),t(),n(63,"p")(64,"strong"),i(65,"CIF/NIF:"),t(),i(66),t(),n(67,"p")(68,"strong"),i(69,"Email:"),t(),i(70),t()()(),n(71,"div",24)(72,"table")(73,"thead")(74,"tr")(75,"th"),i(76,"Repuestos utilizados"),t(),n(77,"th"),i(78,"CANTIDAD"),t(),n(79,"th"),i(80,"NETO"),t(),n(81,"th"),i(82,"PVP"),t()()(),n(83,"tbody"),w(84,Le,11,14,"tr",25)(85,qe,3,0,"tr",26)(86,Ue,11,12,"tr",27),t()()(),n(87,"div",24)(88,"table")(89,"thead")(90,"tr")(91,"th"),i(92,"Mano de obra/Kilometraje"),t(),n(93,"th"),i(94,"CANTIDAD"),t(),n(95,"th"),i(96,"PVP"),t()()(),n(97,"tbody"),w(98,Ge,8,8,"tr",25)(99,He,8,8,"tr",25)(100,Ye,3,0,"tr",26)(101,$e,7,6,"tr",27),t()()(),n(102,"div",28)(103,"div",29)(104,"span"),i(105,"Subtotal"),t(),n(106,"span"),i(107),b(108,"currency"),t()(),n(109,"div",29)(110,"span"),i(111,"IVA (21%)"),t(),n(112,"span"),i(113),b(114,"currency"),t()(),n(115,"div",30)(116,"span"),i(117,"TOTAL"),t(),n(118,"span"),i(119),b(120,"currency"),t()()(),n(121,"div",31)(122,"b"),i(123,"Notas"),t(),n(124,"div",32),i(125),t()(),n(126,"div",33)(127,"span"),i(128,"Nombre de empresa"),t(),n(129,"span"),i(130,"+34 698 12 12 12"),t(),n(131,"span"),i(132,"ejemploemail.com"),t()()(),n(133,"ion-footer",34)(134,"ion-toolbar")(135,"div",35)(136,"button",36),C("click",function(){return a.enviarFactura()}),p(137,"ion-icon",37),i(138),t(),n(139,"button",38),C("click",function(){return a.generarFactura()}),p(140,"ion-icon",39),i(141),t()()()()()),e&2){let f,z,k,I,L,q,U;c(),s("ngIf",a.loading&&a.isEditing),c(),s("ngIf",!a.loading||!a.isEditing),c(),H("active",a.mostrarVistaPrevia),c(42),u(((f=a.facturaForm.get("numeroFactura"))==null?null:f.value)||"N/A"),c(4),u((z=a.facturaForm.get("fecha"))!=null&&z.value?M(50,26,(z=a.facturaForm.get("fecha"))==null?null:z.value,"longDate","","es"):"N/A"),c(9),y(" ",((k=a.facturaForm.get("nombre"))==null?null:k.value)||"Sin nombre",""),c(4),y(" ",((I=a.facturaForm.get("direccion"))==null?null:I.value)||"Sin direcci\xF3n",""),c(4),y(" ",((L=a.facturaForm.get("cif"))==null?null:L.value)||"Sin CIF",""),c(4),y(" ",((q=a.facturaForm.get("email"))==null?null:q.value)||"Sin email",""),c(14),s("ngForOf",a.repuestos),c(),s("ngIf",a.repuestos.length===0),c(),s("ngIf",a.repuestos.length>0),c(12),s("ngForOf",a.manoObra),c(),s("ngForOf",a.desplazamientos),c(),s("ngIf",a.manoObra.length===0&&a.desplazamientos.length===0),c(),s("ngIf",a.manoObra.length>0||a.desplazamientos.length>0),c(6),u(M(108,31,a.subtotal,"EUR","symbol","1.2-2")),c(6),u(M(114,36,a.iva,"EUR","symbol","1.2-2")),c(6),u(M(120,41,a.total,"EUR","symbol","1.2-2")),c(6),y(" ",((U=a.facturaForm.get("notas"))==null?null:U.value)||"Sin notas adicionales"," "),c(8),s("translucent",!0),c(3),s("disabled",a.loading||!a.facturaForm.valid),c(2),y(" ",a.loading?"Enviando...":a.isEditing?"Actualizar factura":"Enviar factura"," "),c(),s("disabled",a.loading||!a.facturaForm.valid),c(2),y(" ",a.loading?"Generando...":a.isEditing?"Guardar cambios":"Generar factura"," ")}},dependencies:[Q,Y,$,J,K,pe,ie,ee,re,te,ne,le,ae,ce,de,oe,ue,ge,me],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100%;padding:20px;gap:20px}.form-column[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;background:#f5f5f5;border-radius:8px}.preview-column[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;background:#fff;border-radius:8px}.form-section[_ngcontent-%COMP%]{padding:24px;max-height:calc(85vh - 140px)}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]{display:flex;gap:12px}.header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:10px 15px;background-color:#fff;color:#26262a;border:none;border-radius:.5rem;cursor:pointer;font-size:15px;font-weight:500;border:1px solid rgba(125,131,152,.2431372549)}.header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:10px 15px;background-color:#4f46e5;color:#fff;border:none;border-radius:.5rem;cursor:pointer;font-size:15px;font-weight:500}.form-control[_ngcontent-%COMP%]{position:relative;width:100%;padding:10px 12px;background-color:#fafafb;border:1px solid transparent;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f3f4f6;cursor:not-allowed}.lineas-factura[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:#fff;border-radius:8px}.lineas-factura[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;font-size:16px;color:#374151}.linea-factura[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-start;margin-bottom:16px;padding:10px;background:#f9f9f9;border-radius:4px}.linea-factura[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;flex:1}.button-group[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:24px}.button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#374151}.button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8fafc;border-color:#9ca3af}.button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#4f46e5;border:1px solid #4F46E5;color:#fff}.button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4338ca;border-color:#4338ca}.button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#dc2626;border:1px solid #dc2626;color:#fff}.button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b91c1c;border-color:#b91c1c}.factura-preview[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:24px;padding:32px;min-width:420px;display:flex;flex-direction:column;gap:24px;position:relative}.factura-preview[_ngcontent-%COMP%]   .close-preview-btn[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:40px;height:40px;border-radius:50%;background:#f3f4f6;color:#6b7280;border:1px solid #d1d5db;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1002;transition:all .2s ease}.factura-preview[_ngcontent-%COMP%]   .close-preview-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.factura-preview[_ngcontent-%COMP%]   .close-preview-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151;transform:scale(1.05)}.factura-preview[_ngcontent-%COMP%]   .close-preview-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.factura-preview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:5px;color:#111827}.factura-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-bottom:12px}.factura-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:#f3f4f6;border:none;border-radius:50%;width:36px;height:36px;font-size:1.2rem;color:#4f46e5;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.factura-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:32px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{border-radius:12px;display:flex;align-items:center;justify-content:center}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:44px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:13px;margin-bottom:2px;font-style:normal}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .empresa-nombre[_ngcontent-%COMP%]{color:#4f46e5;font-weight:600;font-size:14px;margin-bottom:8px;text-transform:capitalize}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{text-align:right}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;margin-bottom:2px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .factura-label[_ngcontent-%COMP%]{color:#4f46e5;font-weight:600;font-size:14px;margin-bottom:8px}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   .tabla-titulo[_ngcontent-%COMP%]{font-weight:600;color:#6b7280;margin-bottom:8px;font-size:1rem}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:8px}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px;text-align:left}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#9ca3af;font-weight:400;background:none;border-bottom:1px solid #E5E7EB}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#111827;border-bottom:1px solid #F3F4F6}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#27c26c;font-weight:600}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;color:#4f46e5;border-bottom:none}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]{margin:24px 0 0;background:#eef2ff;border-radius:16px;padding:15px;width:300px;align-self:flex-end}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4f46e5}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   .totales-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;margin-bottom:8px}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   .totales-row.total-final[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff;background:#4f46e5;border-radius:12px;padding:10px 16px;margin-top:12px;margin-bottom:0}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   .totales-row.total-final[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff!important}.factura-preview[_ngcontent-%COMP%]   .preview-notas[_ngcontent-%COMP%]{margin-top:24px}.factura-preview[_ngcontent-%COMP%]   .preview-notas[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#4f46e5;font-size:1rem}.factura-preview[_ngcontent-%COMP%]   .preview-notas[_ngcontent-%COMP%]   .notas-texto[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin-top:4px}.factura-preview[_ngcontent-%COMP%]   .preview-footer[_ngcontent-%COMP%]{margin-top:32px;display:flex;justify-content:space-between;color:#6b7280;font-size:.95rem;border-top:1px solid #E5E7EB;padding-top:12px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]{display:flex;gap:8px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280;border:1px solid #d1d5db;border-radius:8px;font-size:14px;font-weight:500}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.factura-container[_ngcontent-%COMP%]{width:100%;height:auto;gap:32px;display:flex;padding:25px;padding-bottom:calc(80px + env(safe-area-inset-bottom));padding-bottom:calc(80px + constant(safe-area-inset-bottom))}.factura-formulario[_ngcontent-%COMP%]{flex:1;box-shadow:0 2px 8px #e0e7ef33;border-radius:24px;padding:32px;background:#fff}.factura-formulario[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:24px;color:#111827}.factura-formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.grid-datos[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px 24px;margin-bottom:32px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:10px 12px;background-color:#fafafb;border:1px solid transparent;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{position:relative;width:100%;padding:10px 12px;background-color:#fafafb;border:1px solid transparent;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s;resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.tabla-section[_ngcontent-%COMP%]{margin:32px 0 0;background:#fff;border-radius:16px}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:500;font-size:1.1rem}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#111827}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]   .icon-btn.add-btn[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border-radius:12px;width:35px;height:35px;font-size:1.3rem;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]   .icon-btn.add-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#fff}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 8px;margin:0 0 8px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#111827;font-size:14px;font-weight:400;background:none;border:none;padding:8px 0;text-align:left}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .trash-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;border-radius:8px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#111827}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.success[_ngcontent-%COMP%]{color:#2b9943;font-weight:500}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{background:#e71d351d;color:#e71d36;border-radius:50%;width:32px;height:32px;font-size:1.1rem;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;color:#111827;background:none}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#2b9943;font-weight:700!important}.factura-footer[_ngcontent-%COMP%]{--background: #ffffff;--border-top: 1px solid #e5e7eb;box-shadow:0 -2px 10px #0000001a;position:sticky;bottom:0;z-index:1000;padding-bottom:env(safe-area-inset-bottom);padding-bottom:constant(safe-area-inset-bottom)}.factura-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #ffffff;--border: none;--padding-top: 12px;--padding-bottom: 12px;--padding-start: 16px;--padding-end: 16px;padding-bottom:env(safe-area-inset-bottom);padding-bottom:constant(safe-area-inset-bottom)}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-height:48px;border:none}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#374151}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8fafc;border-color:#9ca3af}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#4f46e5;border:1px solid #4F46E5;color:#fff}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4338ca;border-color:#4338ca}.factura-info[_ngcontent-%COMP%]{text-align:right;min-width:180px}.factura-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:400;color:#6b7280;margin-bottom:4px}.factura-info[_ngcontent-%COMP%]   .factura-label[_ngcontent-%COMP%]{color:#4f46e5;font-weight:700;font-size:1.1rem;margin-bottom:4px}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]{margin-bottom:8px}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;font-weight:600;text-transform:uppercase;margin-bottom:2px;letter-spacing:.5px}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{font-size:1.05rem;color:#111827;font-weight:600;margin:0}.toggle-preview-btn[_ngcontent-%COMP%]{display:none}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f8fafc}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#4f46e5}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.factura-container[_ngcontent-%COMP%]{flex-direction:column;padding:0;padding-bottom:calc(70px + env(safe-area-inset-bottom));padding-bottom:calc(70px + constant(safe-area-inset-bottom));gap:0;position:relative;height:100%}.factura-formulario[_ngcontent-%COMP%]{border-radius:0;padding:16px;box-shadow:none}.factura-formulario[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:16px}.grid-datos[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:0px;margin-bottom:24px}.tabla-section[_ngcontent-%COMP%]{margin:24px 0 0}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:12px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px}.botones-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:12px 16px;box-shadow:0 -2px 10px #0000001a;margin:0;z-index:100}.factura-preview[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000;border-radius:0;padding:16px;overflow-y:auto;min-width:unset;margin-top:30px}.factura-preview[_ngcontent-%COMP%]   .close-preview-btn[_ngcontent-%COMP%]{top:12px;right:12px;width:36px;height:36px}.factura-preview[_ngcontent-%COMP%]   .close-preview-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.factura-preview.active[_ngcontent-%COMP%]{display:block}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:10;padding:12px 0;margin-bottom:0!important}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;justify-content:center}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280;border:1px solid #d1d5db;border-radius:8px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]{flex-direction:row;gap:16px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .empresa-nombre[_ngcontent-%COMP%]{font-size:13px;text-transform:capitalize}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .factura-label[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]{font-size:13px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:12px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .empresa-nombre[_ngcontent-%COMP%]{font-size:13px}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]{width:100%;margin:16px 0}.toggle-preview-btn[_ngcontent-%COMP%]{position:fixed;bottom:120px;right:16px;width:56px;height:56px;border-radius:50%;background:#4f46e5;color:#fff;border:none;box-shadow:0 4px 12px #4f46e54d;display:flex;align-items:center;justify-content:center;z-index:1001;cursor:pointer}.toggle-preview-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.toggle-preview-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.factura-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:1000;padding-bottom:env(safe-area-inset-bottom);padding-bottom:constant(safe-area-inset-bottom)}.factura-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--padding-top: 8px;--padding-bottom: 8px;--padding-start: 12px;--padding-end: 12px;padding-bottom:env(safe-area-inset-bottom);padding-bottom:constant(safe-area-inset-bottom)}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{gap:8px}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:13px;min-height:44px;padding:10px 14px}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}}.table-input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid #E5E7EB;border-radius:4px;font-size:13px;background:#fafafb;color:#111827;transition:border-color .2s}.table-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;background:#fff}.table-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.empty-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#6b7280;font-style:italic;text-align:center;padding:20px!important}.text-center[_ngcontent-%COMP%]{text-align:center}@media (max-width: 480px){.factura-formulario[_ngcontent-%COMP%]{padding:12px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:13px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.table-input[_ngcontent-%COMP%]{font-size:12px;padding:4px 6px}.factura-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:1000;padding-bottom:env(safe-area-inset-bottom);padding-bottom:constant(safe-area-inset-bottom)}.factura-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--padding-top: 6px;--padding-bottom: 6px;--padding-start: 8px;--padding-end: 8px;padding-bottom:env(safe-area-inset-bottom);padding-bottom:constant(safe-area-inset-bottom)}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{gap:6px}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px;min-height:40px;padding:8px 12px}.factura-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:32px;height:32px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}}.cliente-selector[_ngcontent-%COMP%]{position:relative;grid-column:1/-1}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]   .cliente-search-input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;transition:border-color .2s}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]   .cliente-search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]   .cliente-search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]   .btn-search-cliente[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;padding:8px;cursor:pointer;color:#6b7280;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]   .btn-search-cliente[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.cliente-selector[_ngcontent-%COMP%]   .cliente-input-container[_ngcontent-%COMP%]   .btn-search-cliente[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]{margin-top:8px;padding:12px;background:#f0f9ff;border:1px solid #0ea5e9;border-radius:8px;display:flex;align-items:center;justify-content:space-between}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]{flex:1}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   .cliente-nombre[_ngcontent-%COMP%]{display:block;font-weight:500;color:#0c4a6e;font-size:14px;margin-bottom:2px}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   .cliente-details[_ngcontent-%COMP%]{display:block;font-size:12px;color:#0369a1}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]   .btn-clear-cliente[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;color:#0369a1;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]   .btn-clear-cliente[_ngcontent-%COMP%]:hover{background:#e0f2fe;color:#0c4a6e}.cliente-selector[_ngcontent-%COMP%]   .cliente-seleccionado[_ngcontent-%COMP%]   .btn-clear-cliente[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;z-index:1000;max-height:300px;overflow-y:auto}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-header[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between;background:#f9fafb}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:14px}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-header[_ngcontent-%COMP%]   .btn-close-dropdown[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer;color:#6b7280;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-header[_ngcontent-%COMP%]   .btn-close-dropdown[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-header[_ngcontent-%COMP%]   .btn-close-dropdown[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]{max-height:240px;overflow-y:auto}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:background-color .2s;border-bottom:1px solid #f3f4f6}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]:hover{background:#f9fafb}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]   .cliente-item-info[_ngcontent-%COMP%]{flex:1}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]   .cliente-item-info[_ngcontent-%COMP%]   .cliente-item-nombre[_ngcontent-%COMP%]{display:block;font-weight:500;color:#111827;font-size:14px;margin-bottom:2px}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]   .cliente-item-info[_ngcontent-%COMP%]   .cliente-item-details[_ngcontent-%COMP%]{display:block;font-size:12px;color:#6b7280}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .cliente-item[_ngcontent-%COMP%]   .cliente-item-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px}.cliente-selector[_ngcontent-%COMP%]   .clientes-dropdown[_ngcontent-%COMP%]   .clientes-list[_ngcontent-%COMP%]   .no-clientes[_ngcontent-%COMP%]{padding:20px 16px;text-align:center;color:#6b7280;font-size:14px;font-style:italic}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background-color:#f9fafb;color:#6b7280;cursor:not-allowed}.cliente-datos[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;margin:16px 0}.cliente-datos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4f46e5;font-size:16px;font-weight:600;margin:0 0 12px}.cliente-datos[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#4a5568}.cliente-datos[_ngcontent-%COMP%]   .cliente-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748}"]});let l=d;return l})();export{gt as CrearFacturaComponent};
