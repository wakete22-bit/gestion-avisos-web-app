import{a as D}from"./chunk-RWPMHNGU.js";import{E as V,Ea as rn,Na as T,Pa as N,Qa as gn,Ta as F,a as z,ba as tn,j as nn,ka as en,ma as on,qa as an,va as cn,za as I}from"./chunk-CPCGS7XX.js";import{s as k,w as E}from"./chunk-S56F5NGH.js";import{$ as y,$a as w,A as R,Ac as Z,Da as c,Ea as C,Fa as b,Ga as B,Ia as f,Ja as h,Ka as v,M as W,N as A,R as Y,Y as a,Z as P,ab as L,c as j,cc as U,da as O,dc as G,gb as S,gc as H,ia as m,ka as x,lc as q,ma as e,na as o,oa as p,oc as J,sa as $,sc as K,ta as _,tc as Q,ua as M,uc as X}from"./chunk-ICGOMMV6.js";import"./chunk-ULLEADC5.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{k as u}from"./chunk-CRC5ZNR6.js";function _n(s,l){if(s&1&&(e(0,"option",38),c(1),o()),s&2){let g=l.$implicit,n=M();m("value",g)("selected",n.selectedVoice===g),a(),b(" ",n.getVoiceDisplayName(g)," ")}}var sn=(()=>{let l=class l{constructor(n,i){this.modalController=n,this.mapboxService=i,this.voiceEnabled=!0,this.volume=.8,this.rate=.9,this.pitch=1,this.selectedVoice=null,this.availableVoices=[],this.isPlaying=!1,this.testText="Gire a la derecha en 200 metros. Contin\xFAe por la calle principal.",z({closeOutline:V,volumeHighOutline:F,speedometerOutline:T,musicalNotesOutline:en,personOutline:cn,stopOutline:N,playOutline:I,pauseOutline:an})}ngOnInit(){this.loadVoiceSettings(),this.loadAvailableVoices()}loadVoiceSettings(){let n=this.mapboxService.getVoiceSettings();this.voiceEnabled=n.enabled,this.volume=n.volume,this.rate=n.rate,this.pitch=n.pitch;let i=this.mapboxService.getAvailableVoices();i.length>0&&(this.selectedVoice=i.find(t=>t.name===n.voice)||i[0]||null),!this.selectedVoice&&i.length===0&&setTimeout(()=>{this.loadVoiceSettings()},1e3)}loadAvailableVoices(){this.availableVoices=this.mapboxService.getAvailableVoices(),this.availableVoices.length===0&&setTimeout(()=>{this.availableVoices=this.mapboxService.getAvailableVoices(),this.availableVoices.length>0&&this.loadVoiceSettings()},1e3)}onVoiceEnabledChange(){this.mapboxService.setVoiceEnabled(this.voiceEnabled)}onVolumeChange(n){this.volume=n.target.value/100,this.mapboxService.setVoiceVolume(this.volume)}onRateChange(n){this.rate=n.target.value/100,this.mapboxService.setVoiceRate(this.rate)}onPitchChange(n){this.pitch=n.target.value/100,this.mapboxService.setVoicePitch(this.pitch)}onVoiceChange(n){let i=n.target.value;i?(this.selectedVoice=i,this.mapboxService.setVoice(i),console.log("\u{1F3A4} Voz seleccionada:",i.name,i.lang)):console.log("\u{1F3A4} Voz no encontrada")}playTest(){this.isPlaying?(this.mapboxService.pauseVoice(),this.isPlaying=!1):(this.mapboxService.speakCustomInstruction(this.testText,{priority:"high"}),this.isPlaying=!0,setTimeout(()=>{this.isPlaying=!1},3e3))}stopTest(){this.mapboxService.stopVoice(),this.isPlaying=!1}formatRangeValue(n,i){switch(i){case"volume":return`${Math.round(n*100)}%`;case"rate":return`${n.toFixed(1)}x`;case"pitch":return`${n.toFixed(1)}`;default:return n.toString()}}getVoiceDisplayName(n){return`${n.lang.startsWith("es")?"\u{1F1EA}\u{1F1F8}":"\u{1F30D}"} ${n.name} (${n.lang})`}cerrar(){return u(this,null,function*(){yield this.modalController.dismiss()})}guardar(){return u(this,null,function*(){var n;yield this.modalController.dismiss({saved:!0,settings:{enabled:this.voiceEnabled,volume:this.volume,rate:this.rate,pitch:this.pitch,voice:(n=this.selectedVoice)==null?void 0:n.name}})})}};l.\u0275fac=function(i){return new(i||l)(P(k),P(D))},l.\u0275cmp=y({type:l,selectors:[["app-modal-configuracion-voz"]],decls:78,vars:22,consts:[[1,"modal-container"],[1,"modal-header"],[1,"btn-cerrar",3,"click"],["name","close-outline"],[1,"modal-body"],[1,"descripcion"],[1,"voice-info"],[1,"voice-toggle-section"],[1,"toggle-item"],[1,"toggle-content"],[1,"toggle-switch"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"toggle-slider"],[1,"voice-settings"],[1,"setting-item"],[1,"setting-icon"],["name","volume-high-outline"],[1,"setting-content"],[1,"range-container"],["type","range","min","0","max","100","step","5",1,"range-slider",3,"ngModelChange","input","ngModel","disabled"],[1,"range-value"],["name","speedometer-outline"],["type","range","min","10","max","200","step","10",1,"range-slider",3,"ngModelChange","input","ngModel","disabled"],["name","musical-notes-outline"],["type","range","min","50","max","200","step","10",1,"range-slider",3,"ngModelChange","input","ngModel","disabled"],["name","person-outline"],[1,"voice-select",3,"ngModelChange","change","ngModel","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"test-section"],[1,"test-text"],[1,"test-controls"],[1,"btn-test","btn-play",3,"click","disabled"],[3,"name"],[1,"btn-test","btn-stop",3,"click","disabled"],["name","stop-outline"],[1,"action-buttons"],[1,"btn-action","btn-cancel",3,"click"],[1,"btn-action","btn-save",3,"click"],[3,"value","selected"]],template:function(i,t){i&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),c(3,"Configuraci\xF3n de Voz"),o(),e(4,"button",2),_("click",function(){return t.cerrar()}),p(5,"ion-icon",3),o()(),e(6,"div",4)(7,"p",5),c(8," Configura las notificaciones de voz para la navegaci\xF3n. "),p(9,"br"),e(10,"span",6),c(11,"Las instrucciones se reproducir\xE1n autom\xE1ticamente durante la navegaci\xF3n."),o()(),e(12,"div",7)(13,"div",8)(14,"div",9)(15,"h3"),c(16,"Notificaciones de Voz"),o(),e(17,"p"),c(18,"Activar instrucciones de navegaci\xF3n por voz"),o()(),e(19,"label",10)(20,"input",11),v("ngModelChange",function(r){return h(t.voiceEnabled,r)||(t.voiceEnabled=r),r}),_("change",function(){return t.onVoiceEnabledChange()}),o(),p(21,"span",12),o()()(),e(22,"div",13)(23,"div",14)(24,"div",15),p(25,"ion-icon",16),o(),e(26,"div",17)(27,"h4"),c(28,"Volumen"),o(),e(29,"div",18)(30,"input",19),v("ngModelChange",function(r){return h(t.volume,r)||(t.volume=r),r}),_("input",function(r){return t.onVolumeChange(r)}),o(),e(31,"span",20),c(32),o()()()(),e(33,"div",14)(34,"div",15),p(35,"ion-icon",21),o(),e(36,"div",17)(37,"h4"),c(38,"Velocidad"),o(),e(39,"div",18)(40,"input",22),v("ngModelChange",function(r){return h(t.rate,r)||(t.rate=r),r}),_("input",function(r){return t.onRateChange(r)}),o(),e(41,"span",20),c(42),o()()()(),e(43,"div",14)(44,"div",15),p(45,"ion-icon",23),o(),e(46,"div",17)(47,"h4"),c(48,"Tono"),o(),e(49,"div",18)(50,"input",24),v("ngModelChange",function(r){return h(t.pitch,r)||(t.pitch=r),r}),_("input",function(r){return t.onPitchChange(r)}),o(),e(51,"span",20),c(52),o()()()(),e(53,"div",14)(54,"div",15),p(55,"ion-icon",25),o(),e(56,"div",17)(57,"h4"),c(58,"Voz"),o(),e(59,"select",26),v("ngModelChange",function(r){return h(t.selectedVoice,r)||(t.selectedVoice=r),r}),_("change",function(r){return t.onVoiceChange(r)}),O(60,_n,2,3,"option",27),o()()()(),e(61,"div",28)(62,"h3"),c(63,"Prueba de Voz"),o(),e(64,"p",29),c(65),o(),e(66,"div",30)(67,"button",31),_("click",function(){return t.playTest()}),p(68,"ion-icon",32),c(69),o(),e(70,"button",33),_("click",function(){return t.stopTest()}),p(71,"ion-icon",34),c(72," Detener "),o()()(),e(73,"div",35)(74,"button",36),_("click",function(){return t.cerrar()}),c(75," Cancelar "),o(),e(76,"button",37),_("click",function(){return t.guardar()}),c(77," Guardar "),o()()()()),i&2&&(a(20),f("ngModel",t.voiceEnabled),a(2),x("disabled",!t.voiceEnabled),a(8),f("ngModel",t.volume),m("disabled",!t.voiceEnabled),a(2),C(t.formatRangeValue(t.volume,"volume")),a(8),f("ngModel",t.rate),m("disabled",!t.voiceEnabled),a(2),C(t.formatRangeValue(t.rate,"rate")),a(8),f("ngModel",t.pitch),m("disabled",!t.voiceEnabled),a(2),C(t.formatRangeValue(t.pitch,"pitch")),a(7),f("ngModel",t.selectedVoice),m("disabled",!t.voiceEnabled),a(),m("ngForOf",t.availableVoices),a(),x("disabled",!t.voiceEnabled),a(4),C(t.testText),a(2),m("disabled",!t.voiceEnabled),a(),m("name",t.isPlaying?"pause-outline":"play-outline"),a(),b(" ",t.isPlaying?"Pausar":"Reproducir"," "),a(),m("disabled",!t.voiceEnabled||!t.isPlaying))},dependencies:[S,w,Z,Q,X,G,J,U,K,H,q,E],styles:['.modal-container[_ngcontent-%COMP%]{padding:28px;background:#fff;border-radius:20px;margin:0 auto;box-shadow:0 20px 40px #00000026;position:relative;max-height:90vh;overflow-y:auto;overflow-x:hidden;scroll-behavior:smooth}.modal-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.modal-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.modal-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:28px;padding-bottom:20px;border-bottom:2px solid #F1F5F9;position:relative}.modal-header[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(135deg,#10b981,#059669);border-radius:1px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700;color:#111827;background:linear-gradient(135deg,#111827,#374151);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#f8fafc;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;border:1px solid #E2E8F0}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#6b7280}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#374151}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:active{transform:scale(.95)}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{margin:0 0 28px;color:#64748b;font-size:15px;line-height:1.6;text-align:center;padding:16px 20px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:1px solid #E2E8F0}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   .voice-info[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:13px;color:#64748b;font-style:italic}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px;background:#fff;border:2px solid #F1F5F9;border-radius:16px;transition:all .3s ease}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #0000000d}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{flex:1}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px;font-size:17px;font-weight:700;color:#111827}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b;line-height:1.5}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background-color:#10b981}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#cbd5e1;transition:.3s;border-radius:34px}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.3s;border-radius:50%;box-shadow:0 2px 4px #0003}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]{margin:24px 0;transition:opacity .3s ease}.modal-body[_ngcontent-%COMP%]   .voice-settings.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;padding:20px;border:2px solid #F1F5F9;border-radius:16px;background:#fff;margin-bottom:16px;transition:all .3s ease}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #0000000d}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:linear-gradient(135deg,#e8f0fe,#d2e3fc);box-shadow:0 4px 12px #4285f433}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:26px;color:#4285f4}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]{flex:1}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:17px;font-weight:700;color:#111827}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{flex:1;height:6px;border-radius:3px;background:#e2e8f0;outline:none;-webkit-appearance:none}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#10b981;cursor:pointer;box-shadow:0 2px 4px #0003}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#10b981;cursor:pointer;border:none;box-shadow:0 2px 4px #0003}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .range-container[_ngcontent-%COMP%]   .range-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#10b981;min-width:50px;text-align:right}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .voice-select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #E2E8F0;border-radius:12px;background:#fff;font-size:14px;color:#111827;cursor:pointer;transition:all .3s ease}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .voice-select[_ngcontent-%COMP%]:hover{border-color:#cbd5e1}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .voice-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   .voice-select[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]{margin:24px 0;padding:20px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:16px;border:1px solid #E2E8F0;transition:opacity .3s ease}.modal-body[_ngcontent-%COMP%]   .test-section.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:700;color:#111827}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-text[_ngcontent-%COMP%]{margin:0 0 20px;padding:16px;background:#fff;border-radius:12px;border:1px solid #E2E8F0;font-style:italic;color:#64748b;font-size:14px;line-height:1.5}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;min-height:48px}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test.btn-play[_ngcontent-%COMP%]{background:#10b981;color:#fff}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test.btn-play[_ngcontent-%COMP%]:hover:not(:disabled){background:#059669;transform:translateY(-2px);box-shadow:0 4px 12px #10b9814d}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test.btn-stop[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test.btn-stop[_ngcontent-%COMP%]:hover:not(:disabled){background:#4b5563;transform:translateY(-2px);box-shadow:0 4px 12px #6b72804d}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:28px;padding-top:20px;border-top:1px solid #E2E8F0}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;min-height:48px}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-cancel[_ngcontent-%COMP%]{background:#f8fafc;color:#6b7280;border:2px solid #E2E8F0}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-cancel[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;transform:translateY(-2px)}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-save[_ngcontent-%COMP%]{background:#10b981;color:#fff}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-save[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-2px);box-shadow:0 4px 12px #10b9814d}@media (max-width: 480px){.modal-container[_ngcontent-%COMP%]{padding:15px;border-radius:16px;box-shadow:none;max-height:95vh;margin:0}.modal-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]{width:32px;height:32px}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:14px 16px;font-size:14px;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]{padding:16px;gap:14px}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:4px}.modal-body[_ngcontent-%COMP%]   .voice-toggle-section[_ngcontent-%COMP%]   .toggle-item[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{padding:16px;gap:14px}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.modal-body[_ngcontent-%COMP%]   .voice-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]{padding:16px}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:12px}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-text[_ngcontent-%COMP%]{padding:12px;font-size:13px}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]{flex-direction:column}.modal-body[_ngcontent-%COMP%]   .test-section[_ngcontent-%COMP%]   .test-controls[_ngcontent-%COMP%]   .btn-test[_ngcontent-%COMP%]{width:100%;justify-content:center}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column}.modal-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:100%;justify-content:center}}']});let s=l;return s})();function Cn(s,l){if(s&1){let g=$();e(0,"div",20)(1,"div",21),c(2),o(),e(3,"div",22)(4,"h3"),c(5),o(),e(6,"div",23),c(7),o()(),e(8,"button",24),_("click",function(){W(g);let i=M(2);return A(i.closeModal())}),p(9,"ion-icon",25),o()()}if(s&2){let g,n,i,t=M(2);a(2),C(t.getManeuverIcon((g=t.getCurrentStep())==null?null:g.maneuver)),a(3),C((n=t.getCurrentStep())==null?null:n.instruction),a(2),C(t.formatDistance(((i=t.getCurrentStep())==null?null:i.distance)||0))}}function Mn(s,l){if(s&1&&(e(0,"div",28)(1,"div",29),c(2),o(),e(3,"div",30)(4,"span",31),c(5),o(),e(6,"span",32),c(7),o()()()),s&2){let g=l.$implicit,n=M(3);a(2),C(n.getManeuverIcon(g.maneuver)),a(3),C(g.instruction),a(2),C(n.formatDistance(g.distance))}}function un(s,l){if(s&1&&(e(0,"div",26)(1,"h4"),c(2,"Pr\xF3ximos pasos:"),o(),O(3,Mn,8,3,"div",27),o()),s&2){let g=M(2);a(3),m("ngForOf",g.getUpcomingSteps())}}function On(s,l){if(s&1&&(e(0,"div",13)(1,"div",14)(2,"div",15)(3,"span",16),c(4),o(),e(5,"span",17),c(6),o()(),O(7,Cn,10,3,"div",18),o(),O(8,un,4,1,"div",19),o()),s&2){let g=M();a(4),B("Paso ",g.currentStepIndex+1," de ",g.navigationRoute.steps.length,""),a(2),b("",g.progress.toFixed(0),"%"),a(),m("ngIf",g.getCurrentStep()),a(),m("ngIf",g.getUpcomingSteps().length>0)}}function Pn(s,l){if(s&1&&(e(0,"div",33)(1,"div",34)(2,"div",35),p(3,"ion-icon",36),e(4,"span"),c(5),o()(),e(6,"div",35),p(7,"ion-icon",37),e(8,"span"),c(9),o()(),e(10,"div",35),p(11,"ion-icon",38),e(12,"span"),c(13),o()()()()),s&2){let g=M();a(5),C(g.formatDistance(g.remainingDistance)),a(4),C(g.formatTime(g.remainingTime)),a(4),b("",g.progress.toFixed(0),"%")}}var jn=(()=>{let l=class l{constructor(n,i){this.mapboxService=n,this.modalController=i,this.waypoints=[],this.isOpen=!1,this.close=new Y,this.navigationRoute=null,this.isNavigating=!1,this.currentStepIndex=0,this.progress=0,this.remainingDistance=0,this.remainingTime=0,this.destroy$=new j,this.map=null,z({closeOutline:V,locationOutline:tn,timeOutline:gn,speedometerOutline:T,arrowForwardOutline:nn,refreshOutline:rn,volumeHighOutline:F,navigateOutline:on,playOutline:I,stopOutline:N})}ngOnInit(){this.waypoints.length>0&&this.initializeMapAndNavigation(),this.mapboxService.getCurrentNavigation().pipe(R(this.destroy$)).subscribe(n=>{n?(this.navigationRoute=n,this.isNavigating=n.isNavigating,this.currentStepIndex=n.currentStepIndex,this.progress=n.progress,this.remainingDistance=n.remainingDistance,this.remainingTime=n.remainingTime):(this.navigationRoute=null,this.isNavigating=!1,this.currentStepIndex=0,this.progress=0,this.remainingDistance=0,this.remainingTime=0)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cleanupMap()}initializeMapAndNavigation(){return u(this,null,function*(){try{if(console.log("\u{1F5FA}\uFE0F Inicializando mapa en modal de pantalla completa..."),console.log("\u{1F4CD} Waypoints recibidos:",this.waypoints),this.waypoints.length===0){console.error("\u274C No hay waypoints para inicializar el mapa");return}setTimeout(()=>{let n=document.getElementById("fullscreen-map");console.log("\u{1F50D} Buscando contenedor fullscreen-map:",n),n?(console.log("\u2705 Contenedor encontrado, inicializando mapa..."),this.map&&this.mapboxService.destroyMap(),this.map=this.mapboxService.initializeMap("fullscreen-map",{center:[this.waypoints[0].longitude,this.waypoints[0].latitude],zoom:15}),console.log("\u2705 Mapa inicializado:",this.map),setTimeout(()=>{this.createRoute()},500)):(console.error("\u274C Contenedor del mapa no encontrado despu\xE9s del delay"),setTimeout(()=>{this.initializeMapAndNavigation()},500))},200)}catch(n){console.error("\u274C Error al inicializar mapa:",n)}})}createRoute(){return u(this,null,function*(){try{console.log("\u{1F6E3}\uFE0F Creando ruta en modal...");let n=yield this.mapboxService.createRoute(this.waypoints);console.log("\u2705 Ruta creada en modal:",n),this.mapboxService.getCurrentNavigation().pipe(R(this.destroy$)).subscribe(i=>{i&&(this.navigationRoute=i,this.isNavigating=i.isNavigating,this.currentStepIndex=i.currentStepIndex,this.progress=i.progress,this.remainingDistance=i.remainingDistance,this.remainingTime=i.remainingTime)})}catch(n){console.error("\u274C Error al crear ruta:",n)}})}startNavigation(){console.log("\u{1F680} Iniciando navegaci\xF3n desde modal..."),this.mapboxService.startNavigation(this.waypoints).subscribe({next:n=>{n&&console.log("\u2705 Navegaci\xF3n iniciada correctamente")},error:n=>{console.error("\u274C Error al iniciar navegaci\xF3n:",n)}})}stopNavigation(){console.log("\u{1F6D1} Deteniendo navegaci\xF3n desde modal..."),this.mapboxService.stopNavigation(),this.isNavigating=!1,this.navigationRoute=null,this.currentStepIndex=0,this.progress=0,this.remainingDistance=0,this.remainingTime=0}nextStep(){console.log("\u27A1\uFE0F Siguiente paso desde modal..."),this.mapboxService.nextStep()}closeModal(){return u(this,null,function*(){console.log("\u274C Cerrando modal de navegaci\xF3n..."),this.stopNavigation(),this.cleanupMap(),yield this.modalController.dismiss()})}cleanupMap(){try{this.map&&(console.log("\u{1F9F9} Limpiando mapa del modal..."),this.mapboxService.destroyMap(),this.map=null)}catch(n){console.warn("\u26A0\uFE0F Error al limpiar mapa:",n),this.map=null}}getCurrentStep(){return!this.navigationRoute||!this.navigationRoute.steps?null:this.navigationRoute.steps[this.currentStepIndex]}getUpcomingSteps(){return!this.navigationRoute||!this.navigationRoute.steps?[]:this.navigationRoute.steps.slice(this.currentStepIndex+1,this.currentStepIndex+4)}formatDistance(n){return n<1e3?`${Math.round(n)} m`:`${(n/1e3).toFixed(1)} km`}formatTime(n){let i=Math.round(n/60);if(i<60)return`${i} min`;{let t=Math.floor(i/60),d=i%60;return`${t}h ${d}min`}}getManeuverIcon(n){if(!n)return"\u{1F4CD}";let i=n.type,t=n.modifier;switch(i){case"turn":switch(t){case"left":return"\u21B0";case"right":return"\u21B1";case"slight left":return"\u2196";case"slight right":return"\u2197";case"sharp left":return"\u21B6";case"sharp right":return"\u21B7";default:return"\u2197"}case"merge":return"\u{1F500}";case"roundabout":return"\u{1F504}";case"depart":return"\u{1F680}";case"arrive":return"\u{1F3C1}";case"continue":return"\u27A1\uFE0F";default:return"\u{1F4CD}"}}openVoiceSettings(){return u(this,null,function*(){var t;let n=yield this.modalController.create({component:sn,cssClass:"voice-settings-modal"});yield n.present();let i=yield n.onDidDismiss();(t=i.data)!=null&&t.saved&&console.log("\u{1F3A4} Configuraci\xF3n de voz guardada:",i.data.settings)})}};l.\u0275fac=function(i){return new(i||l)(P(D),P(k))},l.\u0275cmp=y({type:l,selectors:[["app-modal-mapa-navegacion"]],inputs:{waypoints:"waypoints",isOpen:"isOpen"},outputs:{close:"close"},decls:19,vars:6,consts:[[1,"modal-mapa-navegacion"],[1,"modal-content"],["class","instructions-panel",4,"ngIf"],[1,"map-container"],["id","fullscreen-map",1,"fullscreen-map"],["class","route-info-overlay",4,"ngIf"],[1,"navigation-controls"],[1,"btn-nav","btn-start",3,"click"],[3,"name"],[1,"btn-nav","btn-refresh",3,"click"],["name","refresh-outline"],[1,"btn-nav","btn-voice",3,"click"],["name","volume-high-outline"],[1,"instructions-panel"],[1,"current-instruction"],[1,"instruction-header"],[1,"step-number"],[1,"progress-percentage"],["class","instruction-content",4,"ngIf"],["class","upcoming-steps",4,"ngIf"],[1,"instruction-content"],[1,"maneuver-icon"],[1,"instruction-text"],[1,"instruction-distance"],[1,"btn-close",3,"click"],["name","close-outline"],[1,"upcoming-steps"],["class","step-item",4,"ngFor","ngForOf"],[1,"step-item"],[1,"step-icon"],[1,"step-text"],[1,"step-instruction"],[1,"step-distance"],[1,"route-info-overlay"],[1,"route-stats"],[1,"stat-item"],["name","location-outline"],["name","time-outline"],["name","speedometer-outline"]],template:function(i,t){i&1&&(e(0,"div",0)(1,"div",1),O(2,On,9,5,"div",2),e(3,"div",3),p(4,"div",4),O(5,Pn,14,3,"div",5),o()(),e(6,"div",6)(7,"button",7),_("click",function(){return t.isNavigating?t.stopNavigation():t.startNavigation()}),p(8,"ion-icon",8),e(9,"span"),c(10),o()(),e(11,"button",9),_("click",function(){return t.createRoute()}),p(12,"ion-icon",10),e(13,"span"),c(14,"Recalcular"),o()(),e(15,"button",11),_("click",function(){return t.openVoiceSettings()}),p(16,"ion-icon",12),e(17,"span"),c(18,"Voz"),o()()()()),i&2&&(a(2),m("ngIf",t.navigationRoute),a(3),m("ngIf",t.navigationRoute),a(2),x("active",t.isNavigating),a(),m("name",t.isNavigating?"stop-outline":"play-outline"),a(2),C(t.isNavigating?"Detener":"Iniciar"))},dependencies:[S,w,L,E],styles:[".modal-mapa-navegacion[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;background:#1a1a2e;color:#fff;display:flex;flex-direction:column;overflow:hidden}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:linear-gradient(135deg,#4f46e5,#7c3aed);box-shadow:0 4px 12px #0000004d;z-index:10001}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#fff}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;transition:all .3s ease}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]{background:#000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.1);max-height:40vh;overflow-y:auto}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{border-radius:50%;padding:6px;background:#fff3;border:none;cursor:pointer;transition:all .3s ease}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]{margin-bottom:16px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-header[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{font-size:14px;color:#10b981;font-weight:600}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-header[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{font-size:16px;color:#4f46e5;font-weight:700}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:32px;color:#4f46e5;flex-shrink:0;margin-top:4px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{flex:1}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#fff;line-height:1.4}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]   .instruction-distance[_ngcontent-%COMP%]{font-size:14px;color:#10b981;font-weight:500}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;color:#ffffffb3;font-weight:500}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.1)}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff9;flex-shrink:0}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;align-items:center}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   .step-instruction[_ngcontent-%COMP%]{font-size:13px;color:#fffc;line-height:1.3}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   .step-distance[_ngcontent-%COMP%]{font-size:12px;color:#10b981;font-weight:500}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{flex:1;position:relative;background:#2d3748}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .fullscreen-map[_ngcontent-%COMP%]{width:100%!important;height:100%!important;min-height:300px;background:#2d3748;border-radius:8px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;background:#000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:12px 16px;border:1px solid rgba(255,255,255,.1)}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#fff;font-size:12px;font-weight:500}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#4f46e5}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px 20px;background:#000000e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.1)}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;min-height:48px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-start[_ngcontent-%COMP%]{background:#10b981;color:#fff}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-start.active[_ngcontent-%COMP%]{background:#ef4444}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-start[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #10b9814d}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-next[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-next[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #f59e0b4d}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-refresh[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-refresh[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #6b72804d}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-voice[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav.btn-voice[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf64d}.modal-mapa-navegacion[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{padding:12px 20px;background:#000000e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.modal-mapa-navegacion[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:#fff3;border-radius:3px;overflow:hidden;margin-bottom:8px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4f46e5,#10b981);border-radius:3px;transition:width .3s ease}.modal-mapa-navegacion[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#ffffffb3;font-weight:500}@media (max-width: 768px){.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:12px 16px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]{padding:12px 16px;max-height:32vh}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]{gap:12px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:28px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .instructions-panel[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-content[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]{top:12px;padding:8px 12px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]{gap:12px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]   .route-info-overlay[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{font-size:11px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]{padding:20px 15px 35px;gap:8px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px;min-height:44px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .navigation-controls[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.modal-mapa-navegacion[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{padding:8px 16px}}"]});let s=l;return s})();export{jn as ModalMapaNavegacionComponent};
