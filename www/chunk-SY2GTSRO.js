import{a as mt}from"./chunk-GEXUGMZY.js";import"./chunk-KYCVJEX4.js";import"./chunk-FK6H3RFT.js";import{a as gt}from"./chunk-2D6T2SU3.js";import"./chunk-E2XHCINJ.js";import{B as rt,Ea as N,Fa as st,G as at,L as V,M as ct,S as lt,a as I,ra as T,sa as pt,va as dt}from"./chunk-QJI27CM7.js";import"./chunk-46MRDF7I.js";import{s as it}from"./chunk-NUVS2SW6.js";import{$a as A,$b as H,Aa as o,Ba as g,Ca as z,Fa as M,Ga as O,Ha as P,Ja as h,K as m,L as u,Pa as f,Ra as C,W as c,X as E,Ya as W,Z as B,Za as j,ba as y,bb as U,bc as w,cb as L,cc as $,dc as K,ga as p,hc as Y,ia as R,ic as J,jc as Q,ka as n,la as e,lb as G,lc as X,ma as s,mc as Z,ob as q,qa as S,ra as x,rc as tt,sa as b,uc as et,vc as nt,wc as ot}from"./chunk-7PIWZYGA.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{k}from"./chunk-CRC5ZNR6.js";var v=()=>({standalone:!0});function ut(l,d){l&1&&(n(0,"div",32)(1,"div",33),s(2,"ion-icon",34),n(3,"p"),o(4,"Cargando factura para editar..."),e()()())}function _t(l,d){if(l&1){let r=S();n(0,"tr")(1,"td")(2,"input",54),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.nombre,t)||(a.nombre=t),u(t)}),e()(),n(3,"td")(4,"input",55),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.cantidad,t)||(a.cantidad=t),u(t)}),e()(),n(5,"td")(6,"input",56),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.precio_neto,t)||(a.precio_neto=t),u(t)}),e()(),n(7,"td",57)(8,"input",56),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.precio_pvp,t)||(a.precio_pvp=t),u(t)}),e()(),n(9,"td",58)(10,"button",59),x("click",function(){let t=m(r).index,a=b(2);return u(a.eliminarRepuesto(t))}),s(11,"ion-icon",60),e()()()}if(l&2){let r=d.$implicit;c(2),M("ngModel",r.nombre),p("ngModelOptions",h(8,v)),c(2),M("ngModel",r.cantidad),p("ngModelOptions",h(9,v)),c(2),M("ngModel",r.precio_neto),p("ngModelOptions",h(10,v)),c(2),M("ngModel",r.precio_pvp),p("ngModelOptions",h(11,v))}}function ft(l,d){l&1&&(n(0,"tr",61)(1,"td",62),o(2,"No hay repuestos a\xF1adidos"),e()())}function Ct(l,d){if(l&1&&(n(0,"tr",63)(1,"td",64),o(2,"Total"),e(),n(3,"td"),o(4),f(5,"currency"),e(),n(6,"td",57),o(7),f(8,"currency"),e(),s(9,"td"),e()),l&2){let r=b(2);c(4),g(C(5,2,r.totalRepuestosNeto,"EUR","symbol","1.2-2")),c(3),g(C(8,7,r.totalRepuestosPvp,"EUR","symbol","1.2-2"))}}function bt(l,d){if(l&1){let r=S();n(0,"tr")(1,"td")(2,"input",65),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.nombre,t)||(a.nombre=t),u(t)}),e()(),n(3,"td")(4,"input",66),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.cantidad,t)||(a.cantidad=t),u(t)}),e()(),n(5,"td",57)(6,"input",56),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.precio_pvp,t)||(a.precio_pvp=t),u(t)}),e()(),n(7,"td",58)(8,"button",59),x("click",function(){let t=m(r).index,a=b(2);return u(a.eliminarManoObra(t))}),s(9,"ion-icon",60),e()()()}if(l&2){let r=d.$implicit;c(2),M("ngModel",r.nombre),p("ngModelOptions",h(6,v)),c(2),M("ngModel",r.cantidad),p("ngModelOptions",h(7,v)),c(2),M("ngModel",r.precio_pvp),p("ngModelOptions",h(8,v))}}function xt(l,d){l&1&&(n(0,"tr",61)(1,"td",67),o(2,"No hay mano de obra a\xF1adida"),e()())}function Mt(l,d){if(l&1&&(n(0,"tr",63)(1,"td",64),o(2,"Total"),e(),n(3,"td",57),o(4),f(5,"currency"),e(),s(6,"td"),e()),l&2){let r=b(2);c(4),g(C(5,1,r.totalManoObra,"EUR","symbol","1.2-2"))}}function Ot(l,d){if(l&1){let r=S();n(0,"tr")(1,"td")(2,"input",68),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.nombre,t)||(a.nombre=t),u(t)}),e()(),n(3,"td")(4,"input",69),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.cantidad,t)||(a.cantidad=t),u(t)}),e()(),n(5,"td",57)(6,"input",56),P("ngModelChange",function(t){let a=m(r).$implicit;return O(a.precio_pvp,t)||(a.precio_pvp=t),u(t)}),e()(),n(7,"td",58)(8,"button",59),x("click",function(){let t=m(r).index,a=b(2);return u(a.eliminarDesplazamiento(t))}),s(9,"ion-icon",60),e()()()}if(l&2){let r=d.$implicit;c(2),M("ngModel",r.nombre),p("ngModelOptions",h(6,v)),c(2),M("ngModel",r.cantidad),p("ngModelOptions",h(7,v)),c(2),M("ngModel",r.precio_pvp),p("ngModelOptions",h(8,v))}}function Pt(l,d){l&1&&(n(0,"tr",61)(1,"td",67),o(2,"No hay desplazamientos a\xF1adidos"),e()())}function ht(l,d){if(l&1&&(n(0,"tr",63)(1,"td",64),o(2,"Total"),e(),n(3,"td",57),o(4),f(5,"currency"),e(),s(6,"td"),e()),l&2){let r=b(2);c(4),g(C(5,1,r.totalDesplazamiento,"EUR","symbol","1.2-2"))}}function vt(l,d){if(l&1){let r=S();n(0,"div",35)(1,"h2"),o(2),e(),n(3,"form",36)(4,"div",37)(5,"div",38)(6,"label"),o(7,"N\xFAmero Factura"),e(),s(8,"input",39),e(),n(9,"div",38)(10,"label"),o(11,"Fecha de emisi\xF3n"),e(),s(12,"input",40),e(),n(13,"div",38)(14,"label"),o(15,"Nombre"),e(),s(16,"input",41),e(),n(17,"div",38)(18,"label"),o(19,"Direcci\xF3n"),e(),s(20,"input",42),e(),n(21,"div",38)(22,"label"),o(23,"CIF"),e(),s(24,"input",43),e(),n(25,"div",38)(26,"label"),o(27,"Correo electr\xF3nico"),e(),s(28,"input",44),e()(),n(29,"section",45)(30,"div",46)(31,"span"),o(32,"Repuestos Utilizados"),e(),n(33,"button",47),x("click",function(){m(r);let t=b();return u(t.agregarRepuesto())}),n(34,"span"),o(35,"+"),e()()(),n(36,"table")(37,"thead")(38,"tr")(39,"th"),o(40,"Nombre"),e(),n(41,"th"),o(42,"Cantidad"),e(),n(43,"th"),o(44,"Neto"),e(),n(45,"th"),o(46,"PVP"),e(),s(47,"th"),e()(),n(48,"tbody"),y(49,_t,12,12,"tr",21)(50,ft,3,0,"tr",48)(51,Ct,10,12,"tr",23),e()()(),n(52,"section",45)(53,"div",46)(54,"span"),o(55,"Mano de Obra"),e(),n(56,"button",47),x("click",function(){m(r);let t=b();return u(t.agregarManoObra())}),n(57,"span"),o(58,"+"),e()()(),n(59,"table")(60,"thead")(61,"tr")(62,"th"),o(63,"Nombre"),e(),n(64,"th"),o(65,"Cantidad"),e(),n(66,"th"),o(67,"PVP"),e(),s(68,"th"),e()(),n(69,"tbody"),y(70,bt,10,9,"tr",21)(71,xt,3,0,"tr",48)(72,Mt,7,6,"tr",23),e()()(),n(73,"section",45)(74,"div",46)(75,"span"),o(76,"Desplazamiento"),e(),n(77,"button",47),x("click",function(){m(r);let t=b();return u(t.agregarDesplazamiento())}),n(78,"span"),o(79,"+"),e()()(),n(80,"table")(81,"thead")(82,"tr")(83,"th"),o(84,"Nombre"),e(),n(85,"th"),o(86,"Cantidad"),e(),n(87,"th"),o(88,"PVP"),e(),s(89,"th"),e()(),n(90,"tbody"),y(91,Ot,10,9,"tr",21)(92,Pt,3,0,"tr",48)(93,ht,7,6,"tr",23),e()()(),n(94,"section",45)(95,"div",49)(96,"span"),o(97,"Detalles descripci\xF3n"),e()(),n(98,"div",38),s(99,"textarea",50),e()(),n(100,"div",51)(101,"button",52),x("click",function(){m(r);let t=b();return u(t.enviarFactura())}),o(102),e(),n(103,"button",53),x("click",function(){m(r);let t=b();return u(t.generarFactura())}),o(104),e()()()()}if(l&2){let r=b();c(2),g(r.isEditing?"Editar Factura":"Crear Factura"),c(),p("formGroup",r.facturaForm),c(46),p("ngForOf",r.repuestos),c(),p("ngIf",r.repuestos.length===0),c(),p("ngIf",r.repuestos.length>0),c(19),p("ngForOf",r.manoObra),c(),p("ngIf",r.manoObra.length===0),c(),p("ngIf",r.manoObra.length>0),c(19),p("ngForOf",r.desplazamientos),c(),p("ngIf",r.desplazamientos.length===0),c(),p("ngIf",r.desplazamientos.length>0),c(8),p("disabled",r.loading||!r.facturaForm.valid),c(),z(" ",r.loading?"Enviando...":r.isEditing?"Actualizar factura":"Enviar factura"," "),c(),p("disabled",r.loading||!r.facturaForm.valid),c(),z(" ",r.loading?"Generando...":r.isEditing?"Guardar cambios":"Generar factura"," ")}}function wt(l,d){if(l&1&&(n(0,"tr")(1,"td"),o(2),e(),n(3,"td"),o(4),e(),n(5,"td"),o(6),f(7,"currency"),e(),n(8,"td"),o(9),f(10,"currency"),e()()),l&2){let r=d.$implicit;c(2),g(r.nombre||"Sin nombre"),c(2),g(r.cantidad||0),c(2),g(C(7,4,r.precio_neto||0,"EUR","symbol","1.2-2")),c(3),g(C(10,9,r.precio_pvp||0,"EUR","symbol","1.2-2"))}}function yt(l,d){l&1&&(n(0,"tr")(1,"td",67),o(2,"No hay repuestos"),e()())}function Ft(l,d){if(l&1&&(n(0,"tr",63)(1,"td")(2,"b"),o(3,"TOTAL"),e()(),s(4,"td"),n(5,"td",57),o(6),f(7,"currency"),e(),n(8,"td",57),o(9),f(10,"currency"),e()()),l&2){let r=b();c(6),g(C(7,2,r.totalRepuestosNeto,"EUR","symbol","1.2-2")),c(3),g(C(10,7,r.totalRepuestosPvp,"EUR","symbol","1.2-2"))}}function Et(l,d){if(l&1&&(n(0,"tr")(1,"td"),o(2),e(),n(3,"td"),o(4),e(),n(5,"td"),o(6),f(7,"currency"),e()()),l&2){let r=d.$implicit;c(2),g(r.nombre||"Sin descripci\xF3n"),c(2),z("",r.cantidad||0,"h"),c(2),g(C(7,3,r.precio_pvp||0,"EUR","symbol","1.2-2"))}}function St(l,d){if(l&1&&(n(0,"tr")(1,"td"),o(2),e(),n(3,"td"),o(4),e(),n(5,"td"),o(6),f(7,"currency"),e()()),l&2){let r=d.$implicit;c(2),g(r.nombre||"Sin descripci\xF3n"),c(2),g(r.cantidad||0),c(2),g(C(7,3,r.precio_pvp||0,"EUR","symbol","1.2-2"))}}function zt(l,d){l&1&&(n(0,"tr")(1,"td",70),o(2,"No hay mano de obra ni desplazamientos"),e()())}function kt(l,d){if(l&1&&(n(0,"tr",63)(1,"td",64)(2,"b"),o(3,"TOTAL"),e()(),n(4,"td",57),o(5),f(6,"currency"),e()()),l&2){let r=b();c(5),g(C(6,1,r.totalManoObra+r.totalDesplazamiento,"EUR","symbol","1.2-2"))}}var qt=(()=>{let d=class d{constructor(i,t,a,_,F){this.fb=i,this.facturasService=t,this.router=a,this.route=_,this.pdfService=F,this.repuestos=[],this.manoObra=[],this.desplazamientos=[],this.mostrarVistaPrevia=!1,this.loading=!1,this.isEditing=!1,this.facturaForm=this.fb.group({numeroFactura:["",w.required],fecha:[new Date().toISOString().split("T")[0],w.required],nombre:["",w.required],direccion:["",w.required],cif:["",w.required],email:["",[w.required,w.email]],notas:[""]}),I({refreshOutline:dt,trash:N,download:V,print:T,eyeOutline:lt,downloadOutline:ct,printOutline:pt,trashOutline:st,createOutline:at})}ngOnInit(){I({trash:N,closeOutline:rt,download:V,print:T}),this.route.params.subscribe(i=>{let t=i.id;t?(this.facturaId=t,this.isEditing=!0,this.cargarFacturaParaEditar(t)):this.generarNumeroFactura()})}cargarFacturaParaEditar(i){this.loading=!0,this.facturasService.getFactura(i).subscribe({next:t=>{this.facturaOriginal=t,this.cargarDatosFactura(t),this.loading=!1},error:t=>{console.error("Error al cargar factura para editar:",t),this.loading=!1,this.router.navigate(["/facturas"])}})}cargarDatosFactura(i){let t=i.factura,a=i.lineas;this.facturaForm.patchValue({numeroFactura:t.numero_factura,fecha:t.fecha_emision,nombre:t.nombre_cliente,direccion:t.direccion_cliente,cif:t.cif_cliente,email:t.email_cliente,notas:t.notas||""}),this.repuestos=a.filter(_=>_.tipo==="repuesto"),this.manoObra=a.filter(_=>_.tipo==="mano_obra"),this.desplazamientos=a.filter(_=>_.tipo==="desplazamiento"),console.log("\u2705 Factura cargada para edici\xF3n:",{factura:t,lineas:a,repuestos:this.repuestos,manoObra:this.manoObra,desplazamientos:this.desplazamientos})}generarNumeroFactura(){this.isEditing||this.facturasService.getSiguienteNumero().subscribe({next:i=>{this.facturaForm.patchValue({numeroFactura:i})},error:i=>{console.error("Error al generar n\xFAmero de factura:",i);let t=new Date().getFullYear();this.facturaForm.patchValue({numeroFactura:`F${t}-001`})}})}agregarRepuesto(){this.repuestos.push({tipo:"repuesto",nombre:"",cantidad:1,precio_neto:0,precio_pvp:0})}eliminarRepuesto(i){this.repuestos.splice(i,1)}agregarManoObra(){this.manoObra.push({tipo:"mano_obra",nombre:"",cantidad:1,precio_pvp:0})}eliminarManoObra(i){this.manoObra.splice(i,1)}agregarDesplazamiento(){this.desplazamientos.push({tipo:"desplazamiento",nombre:"",cantidad:1,precio_pvp:0})}eliminarDesplazamiento(i){this.desplazamientos.splice(i,1)}get totalRepuestosNeto(){return this.repuestos.reduce((i,t)=>i+t.cantidad*(t.precio_neto||0),0)}get totalRepuestosPvp(){return this.repuestos.reduce((i,t)=>i+t.cantidad*t.precio_pvp,0)}get totalManoObra(){return this.manoObra.reduce((i,t)=>i+t.cantidad*t.precio_pvp,0)}get totalDesplazamiento(){return this.desplazamientos.reduce((i,t)=>i+t.cantidad*t.precio_pvp,0)}get subtotal(){return this.totalRepuestosPvp+this.totalManoObra+this.totalDesplazamiento}get iva(){return+(this.subtotal*.21).toFixed(2)}get total(){return+(this.subtotal+this.iva).toFixed(2)}enviarFactura(){if(console.log("Bot\xF3n enviar factura clickeado"),console.log("Formulario v\xE1lido:",this.facturaForm.valid),console.log("Errores del formulario:",this.facturaForm.errors),console.log("Valores del formulario:",this.facturaForm.value),this.facturaForm.valid){console.log("Formulario es v\xE1lido, procediendo..."),this.loading=!0;let i=this.prepararDatosFactura();i.estado="En curso",console.log("Datos de factura a enviar:",i),this.isEditing&&this.facturaId?this.facturasService.actualizarFactura(this.facturaId,i).subscribe({next:t=>{console.log("Factura actualizada exitosamente:",t),this.loading=!1,this.router.navigate(["/facturas"])},error:t=>{console.error("Error al actualizar factura:",t),this.loading=!1}}):this.facturasService.crearFactura(i).subscribe({next:t=>{console.log("Factura creada exitosamente:",t),this.loading=!1,this.router.navigate(["/facturas"])},error:t=>{console.error("Error al crear factura:",t),this.loading=!1}})}else console.log("Formulario no es v\xE1lido"),Object.keys(this.facturaForm.controls).forEach(i=>{let t=this.facturaForm.get(i);t!=null&&t.invalid&&console.log(`Campo ${i} es inv\xE1lido:`,t.errors)})}generarFactura(){if(console.log("Bot\xF3n generar factura clickeado"),console.log("Formulario v\xE1lido:",this.facturaForm.valid),this.facturaForm.valid){console.log("Formulario es v\xE1lido, procediendo..."),this.loading=!0;let i=this.prepararDatosFactura();i.estado="Pendiente",console.log("Datos de factura a generar:",i),this.isEditing&&this.facturaId?this.facturasService.actualizarFactura(this.facturaId,i).subscribe({next:t=>{console.log("Factura actualizada exitosamente:",t),this.loading=!1,this.router.navigate(["/facturas"])},error:t=>{console.error("Error al actualizar factura:",t),this.loading=!1}}):this.facturasService.crearFactura(i).subscribe({next:t=>{console.log("Factura generada exitosamente:",t),this.loading=!1,this.router.navigate(["/facturas"])},error:t=>{console.error("Error al generar factura:",t),this.loading=!1}})}else console.log("Formulario no es v\xE1lido"),Object.keys(this.facturaForm.controls).forEach(i=>{let t=this.facturaForm.get(i);t!=null&&t.invalid&&console.log(`Campo ${i} es inv\xE1lido:`,t.errors)})}prepararDatosFactura(){let i=this.facturaForm.value,t=[...this.repuestos,...this.manoObra,...this.desplazamientos];return{numero_factura:i.numeroFactura,fecha_emision:i.fecha,nombre_cliente:i.nombre,direccion_cliente:i.direccion,cif_cliente:i.cif,email_cliente:i.email,subtotal:this.subtotal,iva:this.iva,total:this.total,estado:"Pendiente",notas:i.notas,lineas:t}}toggleVistaPrevia(){this.mostrarVistaPrevia=!this.mostrarVistaPrevia}debugFormulario(){console.log("=== DEBUG FORMULARIO ==="),console.log("Formulario v\xE1lido:",this.facturaForm.valid),console.log("Valores:",this.facturaForm.value),console.log("Errores:",this.facturaForm.errors),Object.keys(this.facturaForm.controls).forEach(i=>{let t=this.facturaForm.get(i);console.log(`Campo ${i}:`,{valor:t==null?void 0:t.value,v\u00E1lido:t==null?void 0:t.valid,errores:t==null?void 0:t.errors,touched:t==null?void 0:t.touched,dirty:t==null?void 0:t.dirty})})}descargarFactura(){return k(this,null,function*(){var i;try{console.log("\u{1F527} Iniciando descarga de factura...");let a=`factura_${((i=this.facturaForm.get("numeroFactura"))==null?void 0:i.value)||"factura"}.pdf`,_=this.prepararDatosFactura();this.pdfService.generarPdfNativo(_,a),console.log("\u2705 Factura descargada exitosamente")}catch(t){console.error("\u274C Error al descargar factura:",t)}})}imprimirFactura(){return k(this,null,function*(){try{console.log("\u{1F527} Iniciando impresi\xF3n de factura...");let i=this.prepararDatosFactura();yield this.pdfService.imprimirFacturaNativa(i),console.log("\u2705 Impresi\xF3n iniciada exitosamente")}catch(i){console.error("\u274C Error al imprimir factura:",i)}})}generarPdfDesdeDatos(){var i;try{console.log("\u{1F527} Generando PDF desde datos...");let t=this.prepararDatosFactura(),_=`factura_${((i=this.facturaForm.get("numeroFactura"))==null?void 0:i.value)||"factura"}.pdf`;this.pdfService.generarPdfNativo(t,_),console.log("\u2705 PDF desde datos generado exitosamente")}catch(t){console.error("\u274C Error al generar PDF desde datos:",t)}}};d.\u0275fac=function(t){return new(t||d)(E(et),E(gt),E(q),E(G),E(mt))},d.\u0275cmp=B({type:d,selectors:[["app-crear-factura"]],inputs:{facturaId:"facturaId"},decls:111,vars:38,consts:[[1,"factura-container"],["class","loading-state",4,"ngIf"],["class","factura-formulario",4,"ngIf"],[1,"factura-preview"],[1,"header-container"],[1,"actions-preview"],["type","button",1,"btn-outline",3,"click"],["name","download"],[1,"button-text"],["type","button",1,"btn-primary",3,"click"],["name","print"],[1,"preview-header"],[1,"logo-box"],["src","assets/icon/favicon.png","alt","Logo"],[1,"empresa-datos"],[1,"empresa-nombre"],[2,"margin-top","20px"],[1,"factura-info"],[1,"factura-label"],[2,"color","#111827","font-weight","500"],[1,"preview-tabla"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","total-row",4,"ngIf"],[1,"preview-totales-box"],[1,"totales-row"],[1,"totales-row","total-final"],[1,"preview-notas"],[1,"notas-texto"],[1,"preview-footer"],[1,"toggle-preview-btn",3,"click"],[3,"name"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"factura-formulario"],[3,"formGroup"],[1,"grid-datos"],[1,"form-group"],["type","text","formControlName","numeroFactura","placeholder","#876370A"],["type","date","formControlName","fecha"],["type","text","formControlName","nombre","placeholder","Ejemplo"],["type","text","formControlName","direccion","placeholder","Calle"],["type","text","formControlName","cif","placeholder","12345678A"],["type","email","formControlName","email","placeholder","ejemplo@gmail.com"],[1,"tabla-section"],[1,"tabla-header"],["type","button",1,"icon-btn","add-btn",3,"click"],["class","empty-row",4,"ngIf"],[1,"tabla-header",2,"margin-bottom","20px"],["formControlName","notas","placeholder","Notas"],[1,"botones-footer"],["type","button",1,"btn-outline",3,"click","disabled"],["type","button",1,"btn-primary",3,"click","disabled"],["type","text","placeholder","Nombre del repuesto",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01","placeholder","0.00",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"success"],[1,"trash-btn"],["type","button",1,"icon-btn","danger",3,"click"],["name","trash"],[1,"empty-row"],["colspan","5",1,"text-center"],[1,"total-row"],["colspan","2"],["type","text","placeholder","Descripci\xF3n del trabajo",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01","placeholder","Horas",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["colspan","4",1,"text-center"],["type","text","placeholder","Tipo de desplazamiento",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","min","0","step","0.01","placeholder","Cantidad",1,"table-input",3,"ngModelChange","ngModel","ngModelOptions"],["colspan","3",1,"text-center"]],template:function(t,a){if(t&1&&(n(0,"div",0),y(1,ut,5,0,"div",1)(2,vt,105,15,"div",2),n(3,"div",3)(4,"div",4)(5,"h2"),o(6,"Vista previa"),e(),n(7,"div",5)(8,"button",6),x("click",function(){return a.descargarFactura()}),s(9,"ion-icon",7),n(10,"span",8),o(11,"Descargar"),e()(),n(12,"button",9),x("click",function(){return a.imprimirFactura()}),s(13,"ion-icon",10),n(14,"span",8),o(15,"Imprimir"),e()()()(),n(16,"div",11)(17,"div",12),s(18,"img",13),e(),n(19,"div",14)(20,"div")(21,"span",15),o(22,"Datos de empresa"),e(),n(23,"span"),o(24,"Nombre de empresa"),e(),n(25,"address"),o(26,"Direcci\xF3n de empresa"),e(),n(27,"span"),o(28,"Ciudad de empresa"),e(),n(29,"span"),o(30,"CIF de empresa"),e(),n(31,"span",16),o(32,"ejemplodominio.es"),e(),n(33,"span"),o(34,"+34 123 45 56 65"),e()(),n(35,"div",17)(36,"label",18),o(37,"Factura"),e(),n(38,"label",19),o(39,"N\xBA FACTURA"),e(),n(40,"label"),o(41),e(),n(42,"label",19),o(43,"FECHA DE EMISI\xD3N"),e(),n(44,"label"),o(45),f(46,"date"),e()()()(),n(47,"div",20)(48,"table")(49,"thead")(50,"tr")(51,"th"),o(52,"Repuestos utilizados"),e(),n(53,"th"),o(54,"CANTIDAD"),e(),n(55,"th"),o(56,"NETO"),e(),n(57,"th"),o(58,"PVP"),e()()(),n(59,"tbody"),y(60,wt,11,14,"tr",21)(61,yt,3,0,"tr",22)(62,Ft,11,12,"tr",23),e()()(),n(63,"div",20)(64,"table")(65,"thead")(66,"tr")(67,"th"),o(68,"Mano de obra/Kilometraje"),e(),n(69,"th"),o(70,"CANTIDAD"),e(),n(71,"th"),o(72,"PVP"),e()()(),n(73,"tbody"),y(74,Et,8,8,"tr",21)(75,St,8,8,"tr",21)(76,zt,3,0,"tr",22)(77,kt,7,6,"tr",23),e()()(),n(78,"div",24)(79,"div",25)(80,"span"),o(81,"Subtotal"),e(),n(82,"span"),o(83),f(84,"currency"),e()(),n(85,"div",25)(86,"span"),o(87,"IVA (21%)"),e(),n(88,"span"),o(89),f(90,"currency"),e()(),n(91,"div",26)(92,"span"),o(93,"TOTAL"),e(),n(94,"span"),o(95),f(96,"currency"),e()()(),n(97,"div",27)(98,"b"),o(99,"Notas"),e(),n(100,"div",28),o(101),e()(),n(102,"div",29)(103,"span"),o(104,"Nombre de empresa"),e(),n(105,"span"),o(106,"+34 698 12 12 12"),e(),n(107,"span"),o(108,"ejemploemail.com"),e()()(),n(109,"button",30),x("click",function(){return a.toggleVistaPrevia()}),s(110,"ion-icon",31),e()()),t&2){let _,F,D;c(),p("ngIf",a.loading&&a.isEditing),c(),p("ngIf",!a.loading||!a.isEditing),c(),R("active",a.mostrarVistaPrevia),c(38),g(((_=a.facturaForm.get("numeroFactura"))==null?null:_.value)||"N/A"),c(4),g((F=a.facturaForm.get("fecha"))!=null&&F.value?C(46,18,(F=a.facturaForm.get("fecha"))==null?null:F.value,"longDate","","es"):"N/A"),c(15),p("ngForOf",a.repuestos),c(),p("ngIf",a.repuestos.length===0),c(),p("ngIf",a.repuestos.length>0),c(12),p("ngForOf",a.manoObra),c(),p("ngForOf",a.desplazamientos),c(),p("ngIf",a.manoObra.length===0&&a.desplazamientos.length===0),c(),p("ngIf",a.manoObra.length>0||a.desplazamientos.length>0),c(6),g(C(84,23,a.subtotal,"EUR","symbol","1.2-2")),c(6),g(C(90,28,a.iva,"EUR","symbol","1.2-2")),c(6),g(C(96,33,a.total,"EUR","symbol","1.2-2")),c(6),z(" ",((D=a.facturaForm.get("notas"))==null?null:D.value)||"Sin notas adicionales"," "),c(9),p("name",a.mostrarVistaPrevia?"create-outline":"eye-outline")}},dependencies:[L,W,j,U,A,ot,J,H,Q,$,K,tt,X,Z,nt,Y,it],styles:[".container[_ngcontent-%COMP%]{display:flex;height:100%;padding:20px;gap:20px}.form-column[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;background:#f5f5f5;border-radius:8px}.preview-column[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;background:#fff;border-radius:8px}.form-section[_ngcontent-%COMP%]{padding:24px;max-height:calc(85vh - 140px)}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]{display:flex;gap:12px}.header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:10px 15px;background-color:#fff;color:#26262a;border:none;border-radius:.5rem;cursor:pointer;font-size:15px;font-weight:500;border:1px solid rgba(125,131,152,.2431372549)}.header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:10px 15px;background-color:#4f46e5;color:#fff;border:none;border-radius:.5rem;cursor:pointer;font-size:15px;font-weight:500}.form-control[_ngcontent-%COMP%]{position:relative;width:100%;padding:10px 12px;background-color:#fafafb;border:1px solid transparent;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f3f4f6;cursor:not-allowed}.lineas-factura[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:#fff;border-radius:8px}.lineas-factura[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;font-size:16px;color:#374151}.linea-factura[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-start;margin-bottom:16px;padding:10px;background:#f9f9f9;border-radius:4px}.linea-factura[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;flex:1}.button-group[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:24px}.button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#374151}.button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8fafc;border-color:#9ca3af}.button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#4f46e5;border:1px solid #4F46E5;color:#fff}.button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4338ca;border-color:#4338ca}.button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#dc2626;border:1px solid #dc2626;color:#fff}.button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b91c1c;border-color:#b91c1c}.factura-preview[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:24px;padding:32px;min-width:420px;display:flex;flex-direction:column;gap:24px}.factura-preview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:5px;color:#111827}.factura-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-bottom:12px}.factura-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:#f3f4f6;border:none;border-radius:50%;width:36px;height:36px;font-size:1.2rem;color:#4f46e5;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.factura-preview[_ngcontent-%COMP%]   .preview-toolbar[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:32px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{border-radius:12px;display:flex;align-items:center;justify-content:center}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:44px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:13px;margin-bottom:2px;font-style:normal}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .empresa-nombre[_ngcontent-%COMP%]{color:#4f46e5;font-weight:600;font-size:14px;margin-bottom:8px;text-transform:capitalize}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{text-align:right}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;margin-bottom:2px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .factura-label[_ngcontent-%COMP%]{color:#4f46e5;font-weight:600;font-size:14px;margin-bottom:8px}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   .tabla-titulo[_ngcontent-%COMP%]{font-weight:600;color:#6b7280;margin-bottom:8px;font-size:1rem}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:8px}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px;text-align:left}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#9ca3af;font-weight:400;background:none;border-bottom:1px solid #E5E7EB}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#111827;border-bottom:1px solid #F3F4F6}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#27c26c;font-weight:600}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;color:#4f46e5;border-bottom:none}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]{margin:24px 0 0;background:#eef2ff;border-radius:16px;padding:15px;width:300px;align-self:flex-end}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4f46e5}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   .totales-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;margin-bottom:8px}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   .totales-row.total-final[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff;background:#4f46e5;border-radius:12px;padding:10px 16px;margin-top:12px;margin-bottom:0}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]   .totales-row.total-final[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff!important}.factura-preview[_ngcontent-%COMP%]   .preview-notas[_ngcontent-%COMP%]{margin-top:24px}.factura-preview[_ngcontent-%COMP%]   .preview-notas[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#4f46e5;font-size:1rem}.factura-preview[_ngcontent-%COMP%]   .preview-notas[_ngcontent-%COMP%]   .notas-texto[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin-top:4px}.factura-preview[_ngcontent-%COMP%]   .preview-footer[_ngcontent-%COMP%]{margin-top:32px;display:flex;justify-content:space-between;color:#6b7280;font-size:.95rem;border-top:1px solid #E5E7EB;padding-top:12px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]{display:flex;gap:8px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.factura-preview[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.factura-container[_ngcontent-%COMP%]{width:100%;height:auto;gap:32px;display:flex;padding:25px}.factura-formulario[_ngcontent-%COMP%]{flex:1;box-shadow:0 2px 8px #e0e7ef33;border-radius:24px;padding:32px;background:#fff}.factura-formulario[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:24px;color:#111827}.factura-formulario[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.grid-datos[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px 24px;margin-bottom:32px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:10px 12px;background-color:#fafafb;border:1px solid transparent;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{position:relative;width:100%;padding:10px 12px;background-color:#fafafb;border:1px solid transparent;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s;resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.tabla-section[_ngcontent-%COMP%]{margin:32px 0 0;background:#fff;border-radius:16px}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:500;font-size:1.1rem}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#111827}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]   .icon-btn.add-btn[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border-radius:12px;width:35px;height:35px;font-size:1.3rem;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]   .icon-btn.add-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#fff}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 8px;margin:0 0 8px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#111827;font-size:14px;font-weight:400;background:none;border:none;padding:8px 0;text-align:left}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .trash-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;border-radius:8px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#111827}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.success[_ngcontent-%COMP%]{color:#2b9943;font-weight:500}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .icon-btn.danger[_ngcontent-%COMP%]{background:#e71d351d;color:#e71d36;border-radius:50%;width:32px;height:32px;font-size:1.1rem;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;color:#111827;background:none}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#2b9943;font-weight:700!important}.botones-footer[_ngcontent-%COMP%]{display:flex;gap:16px;margin:32px 0 0}.botones-footer[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{width:100%;background:#fff;color:#4f46e5;border:2px solid #4F46E5;border-radius:12px;padding:12px 32px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s,color .2s}.botones-footer[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{background:#f3f4f6}.botones-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;background:#4f46e5;color:#fff;border:none;border-radius:12px;padding:12px 32px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}.botones-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#2723b8}.factura-info[_ngcontent-%COMP%]{text-align:right;min-width:180px}.factura-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:400;color:#6b7280;margin-bottom:4px}.factura-info[_ngcontent-%COMP%]   .factura-label[_ngcontent-%COMP%]{color:#4f46e5;font-weight:700;font-size:1.1rem;margin-bottom:4px}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]{margin-bottom:8px}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;font-weight:600;text-transform:uppercase;margin-bottom:2px;letter-spacing:.5px}.factura-info[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{font-size:1.05rem;color:#111827;font-weight:600;margin:0}.toggle-preview-btn[_ngcontent-%COMP%]{display:none}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f8fafc}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#4f46e5}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.factura-container[_ngcontent-%COMP%]{flex-direction:column;padding:0;gap:0;position:relative;height:100%}.factura-formulario[_ngcontent-%COMP%]{border-radius:0;padding:16px;box-shadow:none}.factura-formulario[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:16px}.grid-datos[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:0px;margin-bottom:24px}.tabla-section[_ngcontent-%COMP%]{margin:24px 0 0}.tabla-section[_ngcontent-%COMP%]   .tabla-header[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:12px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px}.botones-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:12px 16px;box-shadow:0 -2px 10px #0000001a;margin:0;z-index:100}.factura-preview[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000;border-radius:0;padding:16px;overflow-y:auto;min-width:unset}.factura-preview.active[_ngcontent-%COMP%]{display:block}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:10;padding:12px 0;margin-bottom:16px}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;justify-content:center}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.factura-preview[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .actions-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]{flex-direction:row;gap:16px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .empresa-nombre[_ngcontent-%COMP%]{font-size:13px;text-transform:capitalize}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .factura-label[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .empresa-datos[_ngcontent-%COMP%]   .factura-dato[_ngcontent-%COMP%]{font-size:13px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:12px}.factura-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .empresa-nombre[_ngcontent-%COMP%]{font-size:13px}.factura-preview[_ngcontent-%COMP%]   .preview-tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch}.factura-preview[_ngcontent-%COMP%]   .preview-totales-box[_ngcontent-%COMP%]{width:100%;margin:16px 0}.toggle-preview-btn[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:16px;width:56px;height:56px;border-radius:50%;background:#4f46e5;color:#fff;border:none;box-shadow:0 4px 12px #4f46e54d;display:flex;align-items:center;justify-content:center;z-index:100;cursor:pointer}.toggle-preview-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.toggle-preview-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}}.table-input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid #E5E7EB;border-radius:4px;font-size:13px;background:#fafafb;color:#111827;transition:border-color .2s}.table-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;background:#fff}.table-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.empty-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#6b7280;font-style:italic;text-align:center;padding:20px!important}.text-center[_ngcontent-%COMP%]{text-align:center}@media (max-width: 480px){.factura-formulario[_ngcontent-%COMP%]{padding:12px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:13px}.tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.table-input[_ngcontent-%COMP%]{font-size:12px;padding:4px 6px}.botones-footer[_ngcontent-%COMP%]{padding:8px 12px}.botones-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px!important;font-size:15px!important;font-weight:500!important}}"]});let l=d;return l})();export{qt as CrearFacturaComponent};
