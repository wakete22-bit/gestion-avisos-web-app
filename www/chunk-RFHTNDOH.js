import{a as ft}from"./chunk-PMJS7GFM.js";import"./chunk-Z7B4QQZC.js";import{b as st,c as dt}from"./chunk-AYHRGSYJ.js";import{Ba as ct,C as tt,Ca as rt,Da as it,E as B,Ga as lt,L as nt,Ra as w,Sa as gt,Ta as D,U as et,Y as ot,a as h,b as K,c as Q,d as X,e as Z,f as A,ia as at}from"./chunk-D2B24UYB.js";import"./chunk-SJDIOWVS.js";import{h as q,i as W,j as G,q as J,r as j,v as T}from"./chunk-S7JRATTN.js";import"./chunk-OW3FFWTU.js";import{$ as v,$a as L,Da as o,Ea as _,Fa as u,Ha as $,M as C,N as M,Oa as V,Sa as x,Ua as E,Va as k,Y as l,Z as b,_a as U,ab as F,da as P,db as z,fb as S,gb as I,ia as d,ka as Y,la as R,ma as t,na as n,oa as s,sa as m,sb as H,ta as p,ua as f}from"./chunk-M7VHNEAX.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{k as O}from"./chunk-CRC5ZNR6.js";function Mt(i,g){if(i&1&&(t(0,"div",15)(1,"span",16),o(2,"Descripci\xF3n:"),n(),t(3,"span",17),o(4),n()()),i&2){let e=f();l(4),_(e.factura.notas)}}var pt=(()=>{let g=class g{constructor(c){this.modalController=c,h({warningOutline:D,closeOutline:B,trashOutline:w})}ngOnInit(){h({closeOutline:B,trashOutline:w,warningOutline:D,alertCircleOutline:A})}confirmarEliminacion(){return O(this,null,function*(){yield this.modalController.dismiss({confirmado:!0},"confirm")})}cancelarEliminacion(){return O(this,null,function*(){yield this.modalController.dismiss({confirmado:!1},"cancel")})}cerrarModal(){return O(this,null,function*(){yield this.modalController.dismiss({confirmado:!1},"cancel")})}getEstadoClass(c){switch(c){case"Pendiente":return"pendiente";case"En curso":return"en-curso";case"Completado":return"completado";default:return""}}};g.\u0275fac=function(r){return new(r||g)(b(j))},g.\u0275cmp=v({type:g,selectors:[["app-confirmar-eliminacion-factura-modal"]],inputs:{factura:"factura"},decls:77,vars:16,consts:[[1,"header-content"],[1,"warning-icon"],["name","warning-outline"],[1,"close-button",3,"click"],["name","close-outline"],[1,"modal-body"],[1,"modal-content"],[1,"warning-section"],[1,"warning-circle"],["name","trash-outline"],[1,"warning-text"],[1,"factura-details"],[1,"factura-card"],[1,"factura-header"],[1,"factura-info"],[1,"info-row"],[1,"label"],[1,"value"],["class","info-row",4,"ngIf"],[1,"value","estado-value"],[1,"value","total-value"],[1,"consequences-section"],[1,"consequences-card"],[1,"consequences-list"],[1,"button-group"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,a){r&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"div",1),s(4,"ion-icon",2),n(),t(5,"h2"),o(6,"Confirmar eliminaci\xF3n"),n(),t(7,"button",3),p("click",function(){return a.cerrarModal()}),s(8,"ion-icon",4),n()()()(),t(9,"ion-content",5)(10,"div",6)(11,"div",7)(12,"div",8),s(13,"ion-icon",9),n(),t(14,"h3"),o(15,"\xBFEst\xE1s seguro de que quieres eliminar esta factura?"),n(),t(16,"p",10),o(17,"Esta acci\xF3n no se puede deshacer y eliminar\xE1 permanentemente la factura y todos sus datos asociados."),n()(),t(18,"div",11)(19,"div",12)(20,"div",13)(21,"h4"),o(22,"Detalles de la factura"),n()(),t(23,"div",14)(24,"div",15)(25,"span",16),o(26,"N\xFAmero:"),n(),t(27,"span",17),o(28),n()(),t(29,"div",15)(30,"span",16),o(31,"Cliente:"),n(),t(32,"span",17),o(33),n()(),P(34,Mt,5,1,"div",18),t(35,"div",15)(36,"span",16),o(37,"Estado:"),n(),t(38,"span",19),o(39),n()(),t(40,"div",15)(41,"span",16),o(42,"Fecha emisi\xF3n:"),n(),t(43,"span",17),o(44),x(45,"date"),n()(),t(46,"div",15)(47,"span",16),o(48,"Total:"),n(),t(49,"span",20),o(50),x(51,"currency"),n()()()()(),t(52,"div",21)(53,"div",22)(54,"h4"),o(55,"Consecuencias de la eliminaci\xF3n:"),n(),t(56,"ul",23)(57,"li"),o(58,"La factura se eliminar\xE1 permanentemente de la base de datos"),n(),t(59,"li"),o(60,"Todos los datos financieros asociados ser\xE1n eliminados"),n(),t(61,"li"),o(62,"No se podr\xE1 recuperar la informaci\xF3n de la factura"),n(),t(63,"li"),o(64,"Si la factura est\xE1 asociada a otros registros, podr\xEDan verse afectados"),n(),t(65,"li"),o(66,"Se perder\xE1 el historial de pagos y transacciones"),n(),t(67,"li"),o(68,"Los reportes financieros podr\xEDan verse afectados"),n()()()()()(),t(69,"ion-footer")(70,"ion-toolbar")(71,"div",24)(72,"button",25),p("click",function(){return a.cancelarEliminacion()}),o(73," Cancelar "),n(),t(74,"button",26),p("click",function(){return a.confirmarEliminacion()}),s(75,"ion-icon",9),o(76," Eliminar permanentemente "),n()()()()),r&2&&(l(28),u("#",a.factura.numero_factura,""),l(5),_(a.factura.nombre_cliente),l(),d("ngIf",a.factura.notas),l(4),R(a.getEstadoClass(a.factura.estado)),l(),u(" ",a.factura.estado," "),l(5),_(E(45,8,a.factura.fecha_emision,"dd/MM/yyyy")),l(6),_(k(51,11,a.factura.total,"EUR","symbol","1.2-2")))},dependencies:[T,I,F,S,z,G,J,q,W],styles:['@charset "UTF-8";ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #FEF2F2;--border-color: #FECACA;--color: #DC2626}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#fee2e2;border-radius:50%}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#dc2626}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#dc2626;flex:1}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#dc2626;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#fee2e2;transform:scale(1.1)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}ion-content[_ngcontent-%COMP%]{--background: #FAFAFA;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}ion-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0}ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;min-height:0;height:100%;padding:24px}.warning-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px;background:#fef2f2;border-radius:16px;border:1px solid #FECACA}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;background:#fee2e2;border-radius:50%;margin:0 auto 20px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#dc2626}.warning-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:24px;font-weight:600;color:#dc2626}.warning-section[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#991b1b;line-height:1.5}.factura-details[_ngcontent-%COMP%]{margin-bottom:32px}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #E5E7EB;overflow:hidden;box-shadow:0 1px 3px #0000001a}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-header[_ngcontent-%COMP%]{background:#f9fafb;padding:16px 20px;border-bottom:1px solid #E5E7EB}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#374151}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{padding:20px}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #F3F4F6}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6b7280}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827;text-align:right;max-width:60%}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.pendiente[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.en-curso[_ngcontent-%COMP%]{color:#d97706;font-weight:700}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.completado[_ngcontent-%COMP%]{color:#10b981;font-weight:700}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.total-value[_ngcontent-%COMP%]{color:#059669;font-weight:700;font-size:16px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #E5E7EB;padding:20px;box-shadow:0 1px 3px #0000001a}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#374151;display:flex;align-items:center;gap:8px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"\\26a0\\fe0f";font-size:18px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]{margin:0;padding:0 0 0 20px;list-style:none}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-bottom:12px;font-size:14px;color:#6b7280;line-height:1.5}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#dc2626;font-weight:700;position:absolute;left:-20px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #FFFFFF;--border-color: #E5E7EB}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;justify-content:flex-end}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:500;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease;border:none;min-height:44px;width:50%}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #D1D5DB}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e5e7eb;border-color:#9ca3af}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#dc2626;color:#fff;border:1px solid #DC2626}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b91c1c;border-color:#b91c1c}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:active:not(:disabled){background-color:#991b1b}@media (max-width: 768px){ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:16px}.warning-section[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:16px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.warning-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.warning-section[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:14px}.factura-details[_ngcontent-%COMP%]{margin-bottom:24px}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{padding:16px}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{padding:10px 0}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]{padding:16px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin-bottom:12px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;margin-bottom:10px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{gap:12px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:13px;min-height:40px}}@media (max-width: 480px){ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:12px}.warning-section[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:12px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.warning-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.warning-section[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:13px}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]{padding:12px}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{padding:8px 0}.factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .factura-details[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .factura-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:12px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]{padding:12px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;margin-bottom:8px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:row;gap:8px;padding:0 15px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:50%;justify-content:center;padding:5px 20px}}']});let i=g;return i})();var Pt=(i,g,e)=>({"en-curso":i,pendiente:g,completado:e}),Ot=(i,g,e)=>({yellow:i,red:g,green:e});function bt(i,g){i&1&&(t(0,"div",3)(1,"div",4),s(2,"ion-icon",5),t(3,"p"),o(4,"Cargando facturas..."),n()()())}function mt(i,g){if(i&1){let e=m();t(0,"div",6)(1,"div",7),s(2,"ion-icon",8),t(3,"p"),o(4),n(),t(5,"button",9),p("click",function(){C(e);let r=f();return M(r.cargarFacturas())}),s(6,"ion-icon",10),o(7," Reintentar "),n()()()}if(i&2){let e=f();l(4),_(e.error)}}function xt(i,g){if(i&1){let e=m();t(0,"div",37)(1,"div",38),o(2),n(),t(3,"div",39)(4,"span",40),o(5),n()(),t(6,"div",41),o(7),n(),t(8,"div",42)(9,"div",43),o(10),n()(),t(11,"div",44),o(12),x(13,"date"),n(),t(14,"div",45),o(15),x(16,"currency"),n(),t(17,"div",46)(18,"button",47),p("click",function(){let r=C(e).$implicit,a=f(3);return M(a.verFactura(r.id))}),s(19,"ion-icon",48),n(),t(20,"button",49),p("click",function(){let r=C(e).$implicit,a=f(3);return M(a.eliminarFactura(r))}),s(21,"ion-icon",50),n()()()}if(i&2){let e=g.$implicit;d("ngClass",V(17,Pt,e.estado==="En curso",e.estado==="Pendiente",e.estado==="Completado")),l(2),u("#",e.numero_factura,""),l(2),d("ngClass",V(21,Ot,e.estado==="En curso",e.estado==="Pendiente",e.estado==="Completado")),l(),u(" ",e.estado," "),l(2),_(e.nombre_cliente),l(2),d("title",e.notas||"Sin descripci\xF3n"),l(),u(" ",e.notas||"Sin descripci\xF3n"," "),l(2),_(E(13,9,e.fecha_emision,"dd/MM/yyyy")),l(3),_(k(16,12,e.total,"EUR","symbol","1.2-2"))}}function ht(i,g){if(i&1&&(t(0,"div",30)(1,"div",31)(2,"div",12)(3,"div",32)(4,"div",33),o(5,"N\xFAmero"),n(),t(6,"div",34),o(7,"Estado"),n(),t(8,"div",33),o(9,"Cliente"),n(),t(10,"div",33),o(11,"Descripci\xF3n"),n(),t(12,"div",34),o(13,"Fecha"),n(),t(14,"div",34),o(15,"PVP"),n(),t(16,"div",33),o(17,"Acciones"),n()()(),t(18,"div",35),P(19,xt,22,25,"div",36),n()()()),i&2){let e=f(2);l(19),d("ngForOf",e.facturas)}}function wt(i,g){if(i&1){let e=m();t(0,"div",51)(1,"div",52),s(2,"ion-icon",53),t(3,"h3"),o(4,"No hay facturas"),n(),t(5,"p"),o(6,"A\xFAn no se han creado facturas. Crea la primera para comenzar."),n(),t(7,"button",54),p("click",function(){C(e);let r=f(2);return M(r.abrirCrearFactura())}),s(8,"ion-icon",23),o(9," Crear factura "),n()()()}}function yt(i,g){if(i&1){let e=m();t(0,"button",59),p("click",function(){let r=C(e).$implicit,a=f(3);return M(a.onCambiarPagina(r))}),o(1),n()}if(i&2){let e=g.$implicit,c=f(3);Y("active",e===c.paginaActual),d("disabled",e==="..."),l(),u(" ",e," ")}}function vt(i,g){if(i&1&&(t(0,"div",55)(1,"span",56),o(2),n(),t(3,"div",57),P(4,yt,2,4,"button",58),n()()),i&2){let e=f(2);l(2),$(" Mostrando datos ",(e.paginaActual-1)*e.porPagina+1," a ",e.Math.min(e.paginaActual*e.porPagina,e.totalFacturas)," de ",e.totalFacturas," facturas "),l(2),d("ngForOf",e.getPaginas())}}function Et(i,g){if(i&1){let e=m();t(0,"section",11)(1,"div",12)(2,"div",13)(3,"div",14),o(4,"Tabla de facturas"),n(),t(5,"div",15),o(6),n()(),t(7,"div",16),s(8,"input",17)(9,"ion-icon",18),n(),t(10,"div",19),s(11,"input",20),t(12,"select")(13,"option"),o(14,"Ordenar por: Recientes"),n()(),t(15,"div",21)(16,"button",22),p("click",function(){C(e);let r=f();return M(r.abrirCrearFactura())}),s(17,"ion-icon",23),o(18," A\xF1adir factura "),n()()()(),t(19,"div",24)(20,"select",25)(21,"option"),o(22,"Ordenar: Recientes"),n(),t(23,"option"),o(24,"Ordenar: Antiguos"),n(),t(25,"option"),o(26,"Ordenar: Estado"),n()(),t(27,"div",26)(28,"button",22),p("click",function(){C(e);let r=f();return M(r.abrirCrearFactura())}),s(29,"ion-icon",23),n()()(),P(30,ht,20,1,"div",27)(31,wt,10,0,"div",28)(32,vt,5,4,"div",29),n()}if(i&2){let e=f();l(6),u("Facturas: ",e.totalFacturas,""),l(24),d("ngIf",!e.loading&&e.facturas.length>0),l(),d("ngIf",e.facturas.length===0&&!e.loading),l(),d("ngIf",e.facturas.length>0&&e.totalFacturas>0)}}var Ut=(()=>{let g=class g{constructor(c,r,a){this.router=c,this.facturasService=r,this.modalController=a,this.displayedColumns=["numero","estado","nombre","detalle","fecha","pvp"],this.facturas=[],this.loading=!0,this.error=null,this.totalFacturas=0,this.paginaActual=1,this.porPagina=10,h({refreshOutline:it,alertCircleOutline:A,searchOutline:lt,addCircle:Q,eyeOutline:et,receiptOutline:rt,mapOutline:at,alertCircle:Z,close:tt,add:K,addCircleOutline:X,receipt:ct,hourglassOutline:ot,warning:gt,document:nt,trashOutline:w})}ngOnInit(){this.cargarFacturas()}cargarFacturas(){this.loading=!0,this.error=null,this.facturasService.getFacturas(this.paginaActual,this.porPagina).subscribe({next:c=>{this.facturas=c.facturas,this.totalFacturas=c.total,this.loading=!1},error:c=>{console.error("Error al cargar facturas:",c),this.error="Error al cargar las facturas. Por favor, int\xE9ntalo de nuevo.",this.loading=!1}})}abrirCrearFactura(){this.router.navigate(["/crear-factura"])}verFactura(c){this.router.navigate(["/facturas",c])}cambiarPagina(c){c!==this.paginaActual&&(this.paginaActual=c,this.cargarFacturas())}onCambiarPagina(c){typeof c=="number"&&this.cambiarPagina(c)}getPaginas(){let c=Math.ceil(this.totalFacturas/this.porPagina),r=[];if(c<=7)for(let a=1;a<=c;a++)r.push(a);else if(this.paginaActual<=4){for(let a=1;a<=5;a++)r.push(a);r.push("..."),r.push(c)}else if(this.paginaActual>=c-3){r.push(1),r.push("...");for(let a=c-4;a<=c;a++)r.push(a)}else{r.push(1),r.push("...");for(let a=this.paginaActual-1;a<=this.paginaActual+1;a++)r.push(a);r.push("..."),r.push(c)}return r}get Math(){return Math}eliminarFactura(c){return O(this,null,function*(){let r=yield this.modalController.create({component:pt,cssClass:"modal-confirmar-eliminacion",showBackdrop:!0,backdropDismiss:!0,componentProps:{factura:c}});yield r.present();let{data:a,role:y}=yield r.onWillDismiss();y==="confirm"&&(a!=null&&a.confirmado)&&(this.loading=!0,this.error=null,this.facturasService.eliminarFactura(c.id).subscribe({next:()=>{console.log("Factura eliminada exitosamente"),this.loading=!1,this.cargarFacturas()},error:N=>{console.error("Error al eliminar factura:",N),N.code==="23503"?this.error="No se puede eliminar la factura porque tiene datos relacionados. Contacta al administrador.":this.error="Error al eliminar la factura. Por favor, int\xE9ntalo de nuevo.",this.loading=!1}}))})}};g.\u0275fac=function(r){return new(r||g)(b(H),b(ft),b(j))},g.\u0275cmp=v({type:g,selectors:[["app-facturas"]],decls:4,vars:3,consts:[["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","dashboard-table",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"error-state"],[1,"error-message"],["name","alert-circle-outline"],[1,"btn-retry",3,"click"],["name","refresh-outline"],[1,"dashboard-table"],[1,"table-header"],[1,"table-header-left"],[1,"table-title"],[1,"table-meta"],[1,"mobile-search"],["type","text","placeholder","Buscar factura..."],["name","search-outline"],[1,"table-search","desktop-only"],["type","text","placeholder","Buscar..."],[1,"header-actions"],[1,"btn-add",3,"click"],["name","add-circle"],[1,"mobile-actions"],[1,"mobile-filter"],[1,"mobile-buttons"],["class","compact-facturas-table",4,"ngIf"],["class","no-data-container",4,"ngIf"],["class","table-pagination",4,"ngIf"],[1,"compact-facturas-table"],[1,"facturas-table"],[1,"header-row"],[1,"header-cell"],[1,"header-cell","desktop-only"],[1,"table-body"],["class","factura-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"factura-row",3,"ngClass"],[1,"factura-cell","numero-factura"],[1,"factura-cell","estado-factura","desktop-only"],[1,"badge",3,"ngClass"],[1,"factura-cell","nombre-cliente"],[1,"factura-cell","descripcion-factura"],[1,"descripcion-texto",3,"title"],[1,"factura-cell","fecha-factura","desktop-only"],[1,"factura-cell","pvp-factura","desktop-only"],[1,"factura-cell","acciones"],["title","Ver detalles",1,"btn-ver",3,"click"],["name","eye-outline"],["title","Eliminar factura",1,"btn-eliminar",3,"click"],["name","trash-outline"],[1,"no-data-container"],[1,"no-data-message"],["name","receipt-outline"],[1,"btn-create",3,"click"],[1,"table-pagination"],[1,"pagination-info"],[1,"pagination"],[3,"active","disabled","click",4,"ngFor","ngForOf"],[3,"click","disabled"]],template:function(r,a){r&1&&(t(0,"ion-content"),P(1,bt,5,0,"div",0)(2,mt,8,1,"div",1)(3,Et,33,4,"section",2),n()),r&2&&(l(),d("ngIf",a.loading),l(),d("ngIf",a.error&&!a.loading),l(),d("ngIf",!a.loading&&!a.error))},dependencies:[I,U,L,F,S,z,q,T,st,dt],styles:[`ion-content[_ngcontent-%COMP%]{--background: #FFF}.dashboard-table[_ngcontent-%COMP%]{background:#fff;padding:25px}.table-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;flex-wrap:wrap;gap:16px}.table-title[_ngcontent-%COMP%]{font-size:18px;color:#26262a;font-weight:500}.table-meta[_ngcontent-%COMP%]{color:#4f46e5;font-size:14px}.table-search[_ngcontent-%COMP%]{display:flex;gap:20px}.table-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;border:none;background:#f9fbff;color:#26262a}.table-search[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;background:#f9fbff;border:none;color:#26262a}.mobile-search[_ngcontent-%COMP%]{display:none;position:relative;width:100%;padding:0 16px}.mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 40px 8px 16px;border-radius:8px;border:1px solid #e2e8f0;font-size:14px;background:#fff}.mobile-search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;right:26px;top:50%;transform:translateY(-50%);font-size:18px;color:#64748b}.mobile-actions[_ngcontent-%COMP%]{display:none;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 16px;border-radius:12px;border:1px solid #E2E8F0;background:#f8fafc;font-size:14px;color:#475569;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:#cbd5e1;background-color:#fff}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:none}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.custom-mat-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 8px;margin-bottom:12px}.custom-mat-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#64748b;font-size:14px;font-weight:400;text-align:left;background:transparent}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#26262a;font-size:14px}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.mobile-cards[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:12px;margin-bottom:16px}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #f1f5f9}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-weight:500;color:#64748b}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px;color:#334155;font-size:14px}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row.detail[_ngcontent-%COMP%]{color:#64748b;margin:8px 0;justify-content:flex-start}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%]{color:#64748b;font-weight:500}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%], .mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:500}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{padding:12px 16px;border-top:1px solid #f1f5f9}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px;border:none;border-radius:10px;background:#f8fafc;color:#4f46e5;font-weight:500;font-size:14px;transition:all .2s ease}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.mobile-cards[_ngcontent-%COMP%]   .factura-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:4px}.badge.yellow[_ngcontent-%COMP%]{background:#fff7e6;color:#b25e02}.badge.red[_ngcontent-%COMP%]{background:#fee4e2;color:#d92d20}.badge.green[_ngcontent-%COMP%]{background:#e6f4ea;color:#137333}.view-icon[_ngcontent-%COMP%]{color:#64748b;font-size:20px;cursor:pointer}.table-header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex-shrink:0}.table-pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:16px;flex-wrap:wrap;gap:12px}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;gap:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f3f4f6;min-width:32px;height:32px;border:none;border-radius:6px;padding:4px 8px;font-size:14px;color:#26262a;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0px 2rem;color:#fff;gap:2rem;padding-top:20px}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;color:#26262a}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn-map[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:10px 15px;background-color:#fff;color:#000;border:none;border-radius:.5rem;cursor:pointer;font-size:15px;font-weight:500;border:1px solid rgba(125,131,152,.2431372549);text-wrap:nowrap}.btn-add[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;font-size:14px;font-weight:500;transition:all .2s ease;white-space:nowrap;cursor:pointer;border:none;min-height:42px;background-color:#4f46e5;color:#fff;box-shadow:0 1px 2px #4f46e51a}.btn-add[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-add[_ngcontent-%COMP%]:hover{background-color:#4338ca;box-shadow:0 2px 4px #4f46e533}.btn-add[_ngcontent-%COMP%]:active{transform:scale(.98)}.header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.header-left[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#64748b}@media (max-width: 768px){.dashboard-table[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-search[_ngcontent-%COMP%], .mobile-actions[_ngcontent-%COMP%]{display:flex}.table-header[_ngcontent-%COMP%]{margin-bottom:12px;align-items:center;gap:12px}.table-header-left[_ngcontent-%COMP%]{flex:1;padding:0 16px}.table-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px;width:100%}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{width:100%;justify-content:center}.compact-facturas-table[_ngcontent-%COMP%]{border-radius:0!important;border-left:none!important;border-right:none!important;max-height:none}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:11px;padding:8px 4px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{padding:8px 4px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.numero-factura[_ngcontent-%COMP%]{font-size:13px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:12px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.descripcion-factura[_ngcontent-%COMP%]   .descripcion-texto[_ngcontent-%COMP%]{font-size:11px;line-height:1.3}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.dashboard-table[_ngcontent-%COMP%]{height:100%;padding:0}.mobile-actions[_ngcontent-%COMP%]{gap:12px;padding:0 16px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;width:20%;justify-content:stretch}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]{grid-template-columns:minmax(110px,120px) 1fr minmax(0,1.5fr) 70px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:10px;padding:6px 2px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{padding:6px 2px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.numero-factura[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:11px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.descripcion-factura[_ngcontent-%COMP%]   .descripcion-texto[_ngcontent-%COMP%]{font-size:10px;line-height:1.2}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:22px;height:22px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}}.compact-facturas-table[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto;border-radius:8px;border:1px solid #E5E7EB;background:#fff;margin-bottom:16px;max-width:100%;overflow-x:auto}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:60px 1fr minmax(0,1.5fr) 80px;font-size:12px;min-width:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:contents}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{padding:12px 8px;background:#f9fafb;border-bottom:1px solid #E5E7EB;font-weight:500;color:#374151;font-size:12px;text-transform:uppercase;letter-spacing:.5px;display:flex;align-items:center;min-width:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{display:contents}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]{display:contents;cursor:pointer;transition:all .2s ease;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]:hover   .factura-cell[_ngcontent-%COMP%]{background-color:#f9fafb}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]:active{transform:scale(.98)}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.en-curso[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #F59E0B}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.en-curso[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{background-color:#fffbeb}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.en-curso[_ngcontent-%COMP%]:hover   .factura-cell[_ngcontent-%COMP%]{background-color:#fef3c7}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.pendiente[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #EF4444}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.pendiente[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{background-color:#fef2f2}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.pendiente[_ngcontent-%COMP%]:hover   .factura-cell[_ngcontent-%COMP%]{background-color:#fee2e2}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.completado[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #10B981}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.completado[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{background-color:#ecfdf5}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row.completado[_ngcontent-%COMP%]:hover   .factura-cell[_ngcontent-%COMP%]{background-color:#d1fae5}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #F3F4F6;display:flex;align-items:center;min-width:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.numero-factura[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:14px;justify-content:start;flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.estado-factura[_ngcontent-%COMP%]{justify-content:start;font-size:11px;flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.estado-factura[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap;max-width:120px;overflow:hidden;text-overflow:ellipsis}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.estado-factura[_ngcontent-%COMP%]   .badge.yellow[_ngcontent-%COMP%]{background:var(--estado-en-curso-bg);color:var(--estado-en-curso-color)}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.estado-factura[_ngcontent-%COMP%]   .badge.red[_ngcontent-%COMP%]{background:var(--estado-pendiente-bg);color:var(--estado-pendiente-color)}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.estado-factura[_ngcontent-%COMP%]   .badge.green[_ngcontent-%COMP%]{background:var(--estado-completado-bg);color:var(--estado-completado-color)}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.nombre-cliente[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0;flex:1}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.descripcion-factura[_ngcontent-%COMP%]{min-width:0;flex:1}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.descripcion-factura[_ngcontent-%COMP%]   .descripcion-texto[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6b7280;font-size:12px;line-height:1.4;max-width:100%}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.fecha-factura[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.pvp-factura[_ngcontent-%COMP%]{font-size:12px;color:#374151;font-weight:500;justify-content:start;flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]{justify-content:start;gap:4px;flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;background:transparent;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#6b7280}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#10b981}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#059669}@media (min-width: 769px){.compact-facturas-table[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]{grid-template-columns:130px 140px minmax(150px,1fr) minmax(200px,2fr) 120px 100px 120px;font-size:13px;min-width:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:12px;padding:12px 8px;min-width:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell[_ngcontent-%COMP%]{padding:12px 8px;min-width:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.numero-factura[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.estado-factura[_ngcontent-%COMP%]{flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:13px;min-width:0;flex:1}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.descripcion-factura[_ngcontent-%COMP%]{min-width:0;flex:1}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.descripcion-factura[_ngcontent-%COMP%]   .descripcion-texto[_ngcontent-%COMP%]{font-size:12px;max-width:100%}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.fecha-factura[_ngcontent-%COMP%], .compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.pvp-factura[_ngcontent-%COMP%], .compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]{flex-shrink:0}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px}.compact-facturas-table[_ngcontent-%COMP%]   .facturas-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .factura-row[_ngcontent-%COMP%]   .factura-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-only[_ngcontent-%COMP%]{display:flex!important}}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#fafbff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#fff;border-radius:16px;box-shadow:0 2px 8px #e0e7ef33;border:1px solid #E2E8F0}.loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#4f46e5;margin-bottom:16px}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#fafbff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#fff;border-radius:16px;box-shadow:0 2px 8px #e0e7ef33;border:1px solid #E2E8F0;max-width:400px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#d92d20;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:20px;margin:0 0 8px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0 0 24px;line-height:1.5}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin:0}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:active{transform:translateY(0)}.no-data-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;background:#fff;border-radius:16px;border:1px solid #E2E8F0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:400px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#acacac;margin-bottom:16px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:20px;margin:0 0 8px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0 0 24px;line-height:1.5}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin:0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-confirmar-eliminacion[_ngcontent-%COMP%]{--width: 90%;--max-width: 600px;--height: auto;--max-height: 90vh;--border-radius: 16px;--backdrop-opacity: .5}`]});let i=g;return i})();export{Ut as FacturasComponent};
