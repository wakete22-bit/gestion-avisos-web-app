import{a as fn}from"./chunk-YGK7J5NX.js";import{a as ft}from"./chunk-D5R2NTFC.js";import{a as mn}from"./chunk-LIVFQAAE.js";import{a as bn}from"./chunk-W4FO5HNK.js";import{a as Mt}from"./chunk-NJVX7ULJ.js";import{a as xt}from"./chunk-7QBPGDUZ.js";import{a as dn}from"./chunk-363ZOX5P.js";import"./chunk-Z7B4QQZC.js";import{a as _t,b as ut,c as vt}from"./chunk-AYHRGSYJ.js";import{B as rn,C as Jn,D as Zn,Da as gt,E as D,Ga as pt,J as nt,Ma as dt,Na as pn,Oa as mt,Pa as bt,Ra as X,T as tt,Ta as Cn,U as et,Y as ot,a as F,aa as it,b as Un,ba as sn,c as Hn,d as Wn,e as Gn,ea as at,f as on,fa as ct,i as an,ia as rt,k as Yn,la as H,na as st,pa as lt,q as Qn,w as Xn,wa as ln,y as cn,ya as gn,z as Kn}from"./chunk-D2B24UYB.js";import"./chunk-O4UEL7WC.js";import{a as Ct}from"./chunk-SJDIOWVS.js";import{c as zn,d as An,e as In,f as Fn,g as Vn,h as en,i as Nn,j as Tn,l as $n,m as jn,n as Bn,o as Dn,q as qn,r as U,v as j}from"./chunk-S7JRATTN.js";import"./chunk-IKRJSOOB.js";import{a as Ln,b as Rn}from"./chunk-OW3FFWTU.js";import{$ as T,$a as L,A,Da as s,Ea as P,F as V,Fa as w,Ga as Q,Ha as On,I as N,M as f,N as x,Pa as wn,Ra as vn,Sa as Z,Ua as nn,Xa as yn,Y as r,Z as E,_a as kn,ab as R,c as B,da as M,db as tn,f as W,g as xn,gb as $,ia as b,ja as un,k as G,ka as I,kb as En,la as hn,ma as i,na as a,oa as m,pa as K,qa as J,sa as y,sb as Sn,t as Y,ta as v,u as Mn,ua as d,w as Pn}from"./chunk-M7VHNEAX.js";import"./chunk-3SUPCH3T.js";import"./chunk-QUJFQN2Y.js";import"./chunk-OGR5ZLHR.js";import"./chunk-CUT3BV6K.js";import"./chunk-73IMGLZG.js";import"./chunk-G2E2NLL6.js";import"./chunk-ILJSYHS4.js";import"./chunk-OAP23YNX.js";import"./chunk-YYM7CL2V.js";import"./chunk-5LR2YXX6.js";import"./chunk-WDU4QEMV.js";import"./chunk-CKP3SGE2.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-JILLMCFB.js";import"./chunk-WWN5RJW3.js";import"./chunk-H3LYBNOM.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{k as O}from"./chunk-CRC5ZNR6.js";function At(c,l){if(c&1&&(i(0,"div",15)(1,"span",16),s(2,"Descripci\xF3n:"),a(),i(3,"span",17),s(4),a()()),c&2){let o=d();r(4),P(o.aviso.descripcion_problema)}}function It(c,l){if(c&1&&(i(0,"li"),s(1),a()),c&2){let o=l.$implicit;r(),P(o)}}function Ft(c,l){if(c&1&&(i(0,"div",28)(1,"h5"),s(2,"\u26A0\uFE0F Elementos que ser\xE1n afectados:"),a(),i(3,"ul",29),M(4,It,2,1,"li",30),a(),i(5,"p",10)(6,"strong"),s(7,"IMPORTANTE:"),a(),s(8," Estos elementos tambi\xE9n se ver\xE1n afectados por la eliminaci\xF3n. "),a()()),c&2){let o=d();r(4),b("ngForOf",o.dependencias)}}var Ot=(()=>{let l=class l{constructor(n){this.modalController=n,F({warningOutline:Cn,closeOutline:D,trashOutline:X})}ngOnInit(){F({closeOutline:D,trashOutline:X,warningOutline:Cn,alertCircleOutline:on})}confirmarEliminacion(){return O(this,null,function*(){yield this.modalController.dismiss({confirmado:!0},"confirm")})}cancelarEliminacion(){return O(this,null,function*(){yield this.modalController.dismiss({confirmado:!1},"cancel")})}cerrarModal(){return O(this,null,function*(){yield this.modalController.dismiss({confirmado:!1},"cancel")})}getEstadoClass(n){switch(n){case"Pendiente":return"pendiente";case"En curso":return"en-curso";case"Pendiente de presupuesto":return"pendiente-presupuesto";case"Listo para facturar":return"listo-para-facturar";case"Completado":return"completado";case"Cancelado":return"cancelado";default:return""}}};l.\u0275fac=function(t){return new(t||l)(E(U))},l.\u0275cmp=T({type:l,selectors:[["app-confirmar-eliminacion-aviso-modal"]],inputs:{aviso:"aviso",dependencias:"dependencias"},decls:78,vars:15,consts:[[1,"header-content"],[1,"warning-icon"],["name","warning-outline"],[1,"close-button",3,"click"],["name","close-outline"],[1,"modal-body"],[1,"modal-content"],[1,"warning-section"],[1,"warning-circle"],["name","trash-outline"],[1,"warning-text"],[1,"aviso-details"],[1,"aviso-card"],[1,"aviso-header"],[1,"aviso-info"],[1,"info-row"],[1,"label"],[1,"value"],["class","info-row",4,"ngIf"],[1,"value","estado-value"],[1,"value","urgencia-value"],[1,"consequences-section"],[1,"consequences-card"],[1,"consequences-list"],["class","dependencies-warning",4,"ngIf"],[1,"button-group"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"dependencies-warning"],[1,"dependencies-list"],[4,"ngFor","ngForOf"]],template:function(t,e){t&1&&(i(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"div",1),m(4,"ion-icon",2),a(),i(5,"h2"),s(6,"Confirmar eliminaci\xF3n"),a(),i(7,"button",3),v("click",function(){return e.cerrarModal()}),m(8,"ion-icon",4),a()()()(),i(9,"ion-content",5)(10,"div",6)(11,"div",7)(12,"div",8),m(13,"ion-icon",9),a(),i(14,"h3"),s(15,"\xBFEst\xE1s seguro de que quieres eliminar este aviso?"),a(),i(16,"p",10),s(17,"Esta acci\xF3n no se puede deshacer y eliminar\xE1 permanentemente el aviso y todas sus fotos asociadas."),a()(),i(18,"div",11)(19,"div",12)(20,"div",13)(21,"h4"),s(22,"Detalles del aviso"),a()(),i(23,"div",14)(24,"div",15)(25,"span",16),s(26,"N\xFAmero:"),a(),i(27,"span",17),s(28),a()(),i(29,"div",15)(30,"span",16),s(31,"Cliente:"),a(),i(32,"span",17),s(33),a()(),M(34,At,5,1,"div",18),i(35,"div",15)(36,"span",16),s(37,"Estado:"),a(),i(38,"span",19),s(39),a()(),i(40,"div",15)(41,"span",16),s(42,"Direcci\xF3n:"),a(),i(43,"span",17),s(44),a()(),i(45,"div",15)(46,"span",16),s(47,"Urgencia:"),a(),i(48,"span",20),s(49),a()(),i(50,"div",15)(51,"span",16),s(52,"Fecha creaci\xF3n:"),a(),i(53,"span",17),s(54),Z(55,"date"),a()()()()(),i(56,"div",21)(57,"div",22)(58,"h4"),s(59,"Consecuencias de la eliminaci\xF3n:"),a(),i(60,"ul",23)(61,"li"),s(62,"El aviso se eliminar\xE1 permanentemente de la base de datos"),a(),i(63,"li"),s(64,"Todas las fotos asociadas al aviso ser\xE1n eliminadas"),a(),i(65,"li"),s(66,"No se podr\xE1 recuperar la informaci\xF3n del aviso"),a(),i(67,"li"),s(68,"Se perder\xE1 el historial completo del servicio"),a()(),M(69,Ft,9,1,"div",24),a()()()(),i(70,"ion-footer")(71,"ion-toolbar")(72,"div",25)(73,"button",26),v("click",function(){return e.cancelarEliminacion()}),s(74," Cancelar "),a(),i(75,"button",27),v("click",function(){return e.confirmarEliminacion()}),m(76,"ion-icon",9),s(77," Eliminar permanentemente "),a()()()()),t&2&&(r(28),P(e.aviso.numero_secuencial||"N/A"),r(5),P(e.aviso.nombre_cliente_aviso),r(),b("ngIf",e.aviso.descripcion_problema),r(4),hn(e.getEstadoClass(e.aviso.estado)),r(),w(" ",e.aviso.estado," "),r(5),P(e.aviso.direccion_cliente_aviso||"No especificada"),r(4),I("alta",e.aviso.es_urgente||e.aviso.urgencia==="Alta"),r(),w(" ",e.aviso.es_urgente||e.aviso.urgencia==="Alta"?"Alta":"Normal"," "),r(5),P(nn(55,12,e.aviso.fecha_creacion,"dd/MM/yyyy")),r(15),b("ngIf",e.dependencias&&e.dependencias.length>0))},dependencies:[j,$,L,R,tn,Tn,qn,en,Nn],styles:['@charset "UTF-8";ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #FEF2F2;--border-color: #FECACA;--color: #DC2626}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#fee2e2;border-radius:50%}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#dc2626}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#dc2626;flex:1}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#dc2626;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#fee2e2;transform:scale(1.1)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}ion-content[_ngcontent-%COMP%]{--background: #FAFAFA;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}ion-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0}ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;min-height:0;height:100%;padding:24px}.warning-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px;background:#fef2f2;border-radius:16px;border:1px solid #FECACA}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;background:#fee2e2;border-radius:50%;margin:0 auto 20px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#dc2626}.warning-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:24px;font-weight:600;color:#dc2626}.warning-section[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#991b1b;line-height:1.5}.aviso-details[_ngcontent-%COMP%]{margin-bottom:32px}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #E5E7EB;overflow:hidden;box-shadow:0 1px 3px #0000001a}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-header[_ngcontent-%COMP%]{background:#f9fafb;padding:16px 20px;border-bottom:1px solid #E5E7EB}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#374151}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]{padding:20px}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #F3F4F6}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6b7280}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827;text-align:right;max-width:60%}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.pendiente[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.en-curso[_ngcontent-%COMP%]{color:#d97706;font-weight:700}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.pendiente-presupuesto[_ngcontent-%COMP%]{color:#3b82f6;font-weight:700}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.listo-para-facturar[_ngcontent-%COMP%]{color:#059669;font-weight:700}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.completado[_ngcontent-%COMP%]{color:#10b981;font-weight:700}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.estado-value.cancelado[_ngcontent-%COMP%]{color:#6b7280;font-weight:700}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value.urgencia-value.alta[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #E5E7EB;padding:20px;box-shadow:0 1px 3px #0000001a}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#374151;display:flex;align-items:center;gap:8px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"\\26a0\\fe0f";font-size:18px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]{margin:0;padding:0 0 0 20px;list-style:none}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-bottom:12px;font-size:14px;color:#6b7280;line-height:1.5}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#dc2626;font-weight:700;position:absolute;left:-20px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #FFFFFF;--border-color: #E5E7EB}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;justify-content:flex-end}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:500;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease;border:none;min-height:44px;width:50%}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #D1D5DB}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e5e7eb;border-color:#9ca3af}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#dc2626;color:#fff;border:1px solid #DC2626}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b91c1c;border-color:#b91c1c}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:active:not(:disabled){background-color:#991b1b}@media (max-width: 768px){ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:16px}.warning-section[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:16px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.warning-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.warning-section[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:14px}.aviso-details[_ngcontent-%COMP%]{margin-bottom:24px}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]{padding:16px}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{padding:10px 0}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]{padding:16px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin-bottom:12px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;margin-bottom:10px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{gap:12px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:13px;min-height:40px}}@media (max-width: 480px){ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:12px}.warning-section[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:12px}.warning-section[_ngcontent-%COMP%]   .warning-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.warning-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.warning-section[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:13px}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]{padding:12px}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{padding:8px 0}.aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .aviso-details[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .aviso-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:12px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]{padding:12px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.consequences-section[_ngcontent-%COMP%]   .consequences-card[_ngcontent-%COMP%]   .consequences-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;margin-bottom:8px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:row;gap:8px;padding:0 15px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:50%;justify-content:center;padding:5px 20px}}']});let c=l;return c})();var wt=(()=>{let l=class l{constructor(n){this.modalController=n,this.avisosSeleccionados=[],F({navigateOutline:H,logoGoogle:ct,logoApple:at,playOutline:gn,closeOutline:D})}abrirGoogleMaps(){return O(this,null,function*(){try{console.log("Abriendo Google Maps con",this.avisosSeleccionados.length,"avisos");let n=yield this.obtenerUbicacionActual();if(!n){console.error("No se pudo obtener la ubicaci\xF3n actual");return}let t=this.construirUrlGoogleMaps(n);if(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let g=this.construirUrlGoogleMapsWeb(n),p=document.createElement("a");p.href=t,p.target="_blank",p.style.display="none",document.body.appendChild(p);try{p.click(),setTimeout(()=>{confirm("\xBFNo se abri\xF3 Google Maps? \xBFQuieres abrirlo en el navegador?")&&window.open(g,"_blank")},2e3)}catch{console.log("App nativa no disponible, abriendo en navegador"),window.open(g,"_blank")}finally{document.body.removeChild(p)}}else window.open(t,"_blank");yield this.modalController.dismiss({opcion:"google"})}catch(n){console.error("Error al abrir Google Maps:",n)}})}abrirAppleMaps(){return O(this,null,function*(){try{console.log("Abriendo Apple Maps con",this.avisosSeleccionados.length,"avisos");let n=yield this.obtenerUbicacionActual();if(!n){console.error("No se pudo obtener la ubicaci\xF3n actual");return}let t=this.construirUrlAppleMaps(n),e=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),g=/iPad|iPhone|iPod/.test(navigator.userAgent);if(e&&g){let p=this.construirUrlAppleMapsWeb(n),_=document.createElement("a");_.href=t,_.target="_blank",_.style.display="none",document.body.appendChild(_);try{_.click(),setTimeout(()=>{confirm("\xBFNo se abri\xF3 Apple Maps? \xBFQuieres abrirlo en el navegador?")&&window.open(p,"_blank")},2e3)}catch{console.log("App nativa no disponible, abriendo en navegador"),window.open(p,"_blank")}finally{document.body.removeChild(_)}}else window.open(t,"_blank");yield this.modalController.dismiss({opcion:"apple"})}catch(n){console.error("Error al abrir Apple Maps:",n)}})}iniciarNavegacionApp(){return O(this,null,function*(){console.log("Iniciando navegaci\xF3n en la app con",this.avisosSeleccionados.length,"avisos"),yield this.modalController.dismiss({opcion:"app"})})}cerrar(){return O(this,null,function*(){yield this.modalController.dismiss()})}obtenerUbicacionActual(){return new Promise(n=>{if(!navigator.geolocation){console.error("Geolocalizaci\xF3n no soportada"),n(null);return}navigator.geolocation.getCurrentPosition(t=>{n({latitude:t.coords.latitude,longitude:t.coords.longitude})},t=>{console.error("Error al obtener ubicaci\xF3n:",t),n(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})}construirUrlGoogleMaps(n){let t=`${n.latitude},${n.longitude}`,e=this.avisosSeleccionados.map(k=>k.direccion_cliente_aviso?encodeURIComponent(k.direccion_cliente_aviso):null).filter(k=>k!==null),g=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=/iPad|iPhone|iPod/.test(navigator.userAgent),_=/Android/.test(navigator.userAgent);if(g){if(_){if(e.length===1)return`google.navigation:q=${e[0]}`;{let k=e[e.length-1],z=e.slice(0,-1).join("|"),S=`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${k}`;return z&&(S+=`&waypoints=${z}`),S+="&travelmode=driving&dir_action=navigate",S}}else if(p){if(e.length===1)return`maps://maps.google.com/maps?daddr=${e[0]}&dirflg=d`;{let k=e[e.length-1],z=e.slice(0,-1).join("|"),S=`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${k}`;return z&&(S+=`&waypoints=${z}`),S+="&travelmode=driving&dir_action=navigate",S}}}if(e.length===1)return`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${e[0]}&travelmode=driving&dir_action=navigate`;let u=e[e.length-1],C=e.slice(0,-1).join("|"),h=`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${u}`;return C&&(h+=`&waypoints=${C}`),h+="&travelmode=driving&dir_action=navigate",console.log("URL de Google Maps construida:",h),h}construirUrlAppleMaps(n){let t=`${n.latitude},${n.longitude}`,e=this.avisosSeleccionados.map(h=>h.direccion_cliente_aviso?encodeURIComponent(h.direccion_cliente_aviso):null).filter(h=>h!==null),g=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=/iPad|iPhone|iPod/.test(navigator.userAgent);if(g&&p){if(e.length===1)return`maps://?saddr=${t}&daddr=${e[0]}&dirflg=d`;{let h=e[e.length-1],k=e.slice(0,-1),z=`https://maps.apple.com/?saddr=${t}&daddr=${h}`;if(k.length>0){let S=k.map(_n=>`via=${_n}`).join("&");z+=`&${S}`}return z+="&dirflg=d",z}}if(e.length===1)return`https://maps.apple.com/?saddr=${t}&daddr=${e[0]}&dirflg=d`;let _=e[e.length-1],u=e.slice(0,-1),C=`https://maps.apple.com/?saddr=${t}&daddr=${_}`;if(u.length>0){let h=u.map(k=>`via=${k}`).join("&");C+=`&${h}`}return C+="&dirflg=d",console.log("URL de Apple Maps construida:",C),C}construirUrlGoogleMapsWeb(n){let t=`${n.latitude},${n.longitude}`,e=this.avisosSeleccionados.map(u=>u.direccion_cliente_aviso?encodeURIComponent(u.direccion_cliente_aviso):null).filter(u=>u!==null);if(e.length===1)return`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${e[0]}&travelmode=driving&dir_action=navigate`;let g=e[e.length-1],p=e.slice(0,-1).join("|"),_=`https://www.google.com/maps/dir/?api=1&origin=${t}&destination=${g}`;return p&&(_+=`&waypoints=${p}`),_+="&travelmode=driving&dir_action=navigate",_}construirUrlAppleMapsWeb(n){let t=`${n.latitude},${n.longitude}`,e=this.avisosSeleccionados.map(u=>u.direccion_cliente_aviso?encodeURIComponent(u.direccion_cliente_aviso):null).filter(u=>u!==null);if(e.length===1)return`https://maps.apple.com/?saddr=${t}&daddr=${e[0]}&dirflg=d`;let g=e[e.length-1],p=e.slice(0,-1),_=`https://maps.apple.com/?saddr=${t}&daddr=${g}`;if(p.length>0){let u=p.map(C=>`via=${C}`).join("&");_+=`&${u}`}return _+="&dirflg=d",_}};l.\u0275fac=function(t){return new(t||l)(E(U))},l.\u0275cmp=T({type:l,selectors:[["app-modal-opciones-navegacion"]],inputs:{avisosSeleccionados:"avisosSeleccionados"},decls:40,vars:4,consts:[[1,"modal-container"],[1,"modal-header"],[1,"btn-cerrar",3,"click"],["name","close-outline"],[1,"modal-body"],[1,"descripcion"],[1,"route-info"],[1,"opciones-navegacion"],[1,"opcion-btn","google-maps",3,"click"],[1,"opcion-icon"],["name","logo-google"],[1,"opcion-content"],[1,"opcion-btn","apple-maps",3,"click"],["name","logo-apple"],[1,"opcion-btn","app-navegacion",3,"click"],["name","play-outline"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Opciones de Navegaci\xF3n"),a(),i(4,"button",2),v("click",function(){return e.cerrar()}),m(5,"ion-icon",3),a()(),i(6,"div",4)(7,"p",5),s(8," Has seleccionado "),i(9,"strong"),s(10),a(),s(11,". "),m(12,"br"),i(13,"span",6),s(14),a()(),i(15,"div",7)(16,"button",8),v("click",function(){return e.abrirGoogleMaps()}),i(17,"div",9),m(18,"ion-icon",10),a(),i(19,"div",11)(20,"h3"),s(21,"Google Maps"),a(),i(22,"p"),s(23,"Abrir ruta en Google Maps"),a()()(),i(24,"button",12),v("click",function(){return e.abrirAppleMaps()}),i(25,"div",9),m(26,"ion-icon",13),a(),i(27,"div",11)(28,"h3"),s(29,"Apple Maps"),a(),i(30,"p"),s(31,"Abrir ruta en Apple Maps"),a()()(),i(32,"button",14),v("click",function(){return e.iniciarNavegacionApp()}),i(33,"div",9),m(34,"ion-icon",15),a(),i(35,"div",11)(36,"h3"),s(37,"Navegaci\xF3n en la App"),a(),i(38,"p"),s(39,"Iniciar modo conducci\xF3n en la aplicaci\xF3n"),a()()()()()()),t&2&&(r(10),Q("",e.avisosSeleccionados.length," aviso",e.avisosSeleccionados.length>1?"s":"",""),r(4),Q("La ruta partir\xE1 desde tu ubicaci\xF3n actual hacia ",e.avisosSeleccionados.length===1?"el destino":"todos los destinos"," seleccionado",e.avisosSeleccionados.length>1?"s":"","."))},dependencies:[$,j],styles:['.modal-container[_ngcontent-%COMP%]{padding:28px;background:#fff;border-radius:20px;margin:0 auto;box-shadow:0 20px 40px #00000026;position:relative;overflow:hidden}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:28px;padding-bottom:20px;border-bottom:2px solid #F1F5F9;position:relative}.modal-header[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(135deg,#10b981,#059669);border-radius:1px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700;color:#111827;background:linear-gradient(135deg,#111827,#374151);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#f8fafc;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;border:1px solid #E2E8F0}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#6b7280}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#374151}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]:active{transform:scale(.95)}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{margin:0 0 28px;color:#64748b;font-size:15px;line-height:1.6;text-align:center;padding:16px 20px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:1px solid #E2E8F0}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#10b981;font-weight:700;font-size:16px}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   .route-info[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:13px;color:#64748b;font-style:italic}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;padding:20px;border:2px solid #F1F5F9;border-radius:16px;background:#fff;cursor:pointer;transition:all .3s ease;text-align:left;width:100%;position:relative;overflow:hidden}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .5s ease}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 8px 25px #0000001a;transform:translateY(-2px)}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]:hover:before{left:100%}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 15px #0000001a}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;position:relative;z-index:1}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:26px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-content[_ngcontent-%COMP%]{flex:1;position:relative;z-index:1}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px;font-size:17px;font-weight:700;color:#111827}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b;line-height:1.5}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.google-maps[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f0fe,#d2e3fc);box-shadow:0 4px 12px #4285f433}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.google-maps[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4285f4}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.google-maps[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:linear-gradient(135deg,#f8faff,#f0f4ff);box-shadow:0 12px 30px #4285f426}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.apple-maps[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);box-shadow:0 4px 12px #007aff33}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.apple-maps[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#007aff}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.apple-maps[_ngcontent-%COMP%]:hover{border-color:#007aff;background:linear-gradient(135deg,#f8faff,#f0f4ff);box-shadow:0 12px 30px #007aff26}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.app-navegacion[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ecfdf5,#d1fae5);box-shadow:0 4px 12px #10b98133}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.app-navegacion[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#10b981}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn.app-navegacion[_ngcontent-%COMP%]:hover{border-color:#10b981;background:linear-gradient(135deg,#f0fdf4,#ecfdf5);box-shadow:0 12px 30px #10b98126}@media (max-width: 480px){.modal-container[_ngcontent-%COMP%]{padding:24px;border-radius:16px;box-shadow:none}.modal-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]{width:32px;height:32px}.modal-header[_ngcontent-%COMP%]   .btn-cerrar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.modal-body[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:14px 16px;font-size:14px;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]{gap:14px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]{padding:16px;gap:14px;border-radius:14px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:4px}.modal-body[_ngcontent-%COMP%]   .opciones-navegacion[_ngcontent-%COMP%]   .opcion-btn[_ngcontent-%COMP%]   .opcion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}']});let c=l;return c})();function Nt(c,l){if(c&1&&(i(0,"div",10)(1,"div",11)(2,"span",12),s(3),a(),i(4,"span",13),s(5),a()(),i(6,"div",14),s(7),a()()),c&2){let o,n,t,e=d(2);r(3),P(e.getManeuverIcon((o=e.getCurrentStep())==null?null:o.maneuver)),r(2),P((n=e.getCurrentStep())==null?null:n.instruction),r(2),P(e.formatDistance(((t=e.getCurrentStep())==null?null:t.distance)||0))}}function Tt(c,l){if(c&1){let o=y();i(0,"ion-button",15),v("click",function(){f(o);let t=d(2);return x(t.startNavigation())}),m(1,"ion-icon",16),a()}}function $t(c,l){if(c&1){let o=y();i(0,"ion-button",17),v("click",function(){f(o);let t=d(2);return x(t.stopNavigation())}),m(1,"ion-icon",18),a()}}function jt(c,l){if(c&1){let o=y();i(0,"ion-button",19),v("click",function(){f(o);let t=d(2);return x(t.nextStep())}),m(1,"ion-icon",20),a()}}function Bt(c,l){if(c&1&&(i(0,"div",23)(1,"span",12),s(2),a(),i(3,"span",13),s(4),a(),i(5,"span",24),s(6),a()()),c&2){let o=l.$implicit,n=d(3);r(2),P(n.getManeuverIcon(o.maneuver)),r(2),P(o.instruction),r(2),P(n.formatDistance(o.distance))}}function Dt(c,l){if(c&1&&(i(0,"div",21),M(1,Bt,7,3,"div",22),a()),c&2){let o=d(2);r(),b("ngForOf",o.getUpcomingSteps())}}function qt(c,l){if(c&1&&(i(0,"div",2)(1,"div",3),M(2,Nt,8,3,"div",4),i(3,"div",5),M(4,Tt,2,0,"ion-button",6)(5,$t,2,0,"ion-button",7)(6,jt,2,0,"ion-button",8),a()(),M(7,Dt,2,1,"div",9),a()),c&2){let o=d();r(2),b("ngIf",o.getCurrentStep()),r(2),b("ngIf",!o.isNavigating),r(),b("ngIf",o.isNavigating),r(),b("ngIf",o.isNavigating),r(),b("ngIf",o.getUpcomingSteps().length>0)}}function Lt(c,l){if(c&1&&(i(0,"div",53)(1,"div",54)(2,"ion-text",55),s(3),a(),i(4,"ion-text",56),s(5),a()(),i(6,"div",57),m(7,"ion-icon",58),i(8,"ion-text",13),s(9),a()(),i(10,"div",59)(11,"ion-text",24),s(12),a(),i(13,"ion-text",60),s(14),a()()()),c&2){let o,n,t,e,g,p=d(2);r(3),Q("Paso ",((p.navigationRoute==null?null:p.navigationRoute.currentStepIndex)||0)+1," de ",(p.navigationRoute==null?null:p.navigationRoute.steps.length)||0,""),r(),I("navigating",p.isNavigating),r(),w(" ",p.isNavigating?"Navegando...":"Listo para navegar"," "),r(2),un("color",p.getManeuverColor((o=p.getCurrentStep())==null?null:o.maneuver)),b("name",p.getManeuverIcon((n=p.getCurrentStep())==null?null:n.maneuver)),r(2),w(" ",(t=p.getCurrentStep())==null?null:t.instruction," "),r(3),w(" ",p.formatDistance(((e=p.getCurrentStep())==null?null:e.distance)||0)," "),r(2),w(" ",p.formatTime(((g=p.getCurrentStep())==null?null:g.duration)||0)," ")}}function Rt(c,l){if(c&1){let o=y();i(0,"ion-button",61),v("click",function(){f(o);let t=d(2);return x(t.startNavigation())}),m(1,"ion-icon",62),s(2," Iniciar Navegaci\xF3n "),a()}}function Ut(c,l){if(c&1){let o=y();i(0,"div",63)(1,"ion-button",64),v("click",function(){f(o);let t=d(2);return x(t.stopNavigation())}),m(2,"ion-icon",65),s(3," Detener "),a(),i(4,"ion-button",66),v("click",function(){f(o);let t=d(2);return x(t.nextStep())}),m(5,"ion-icon",67),s(6," Siguiente "),a()()}}function Ht(c,l){if(c&1&&m(0,"ion-icon",75),c&2){let o=d().$implicit,n=d(3);un("color",n.getManeuverColor(o.maneuver)),b("name",n.getManeuverIcon(o.maneuver))}}function Wt(c,l){if(c&1&&(i(0,"div",23)(1,"div",55),s(2),a(),i(3,"div",71)(4,"ion-text",72),s(5),a(),i(6,"ion-text",73),s(7),a()(),M(8,Ht,1,3,"ion-icon",74),a()),c&2){let o=l.$implicit,n=l.index,t=d(3);I("current",n===t.navigationRoute.currentStepIndex)("completed",n<t.navigationRoute.currentStepIndex),r(2),P(n+1),r(3),P(o.instruction),r(2),P(t.formatDistance(o.distance)),r(),b("ngIf",n===t.navigationRoute.currentStepIndex)}}function Gt(c,l){if(c&1&&(i(0,"div",68)(1,"ion-text",69),s(2,"Instrucciones de navegaci\xF3n:"),a(),M(3,Wt,9,8,"div",70),a()),c&2){let o=d(2);r(3),b("ngForOf",o.navigationRoute.steps)}}function Yt(c,l){if(c&1&&(i(0,"ion-card",25)(1,"ion-card-header")(2,"ion-card-title",26),m(3,"ion-icon",27),s(4," Navegaci\xF3n Profesional "),i(5,"span",28),s(6),a()()(),i(7,"ion-card-content")(8,"div",29)(9,"div",30)(10,"ion-text",31),s(11,"Progreso de la ruta"),a(),i(12,"ion-text",32),s(13),a()(),m(14,"ion-progress-bar",33),i(15,"div",34)(16,"ion-text",35),s(17),a(),i(18,"ion-text",36),s(19),a()()(),i(20,"div",37)(21,"div",38)(22,"div",39),m(23,"ion-icon",40),i(24,"div",41)(25,"ion-text",42),s(26,"Distancia total"),a(),i(27,"ion-text",43),s(28),a()()(),i(29,"div",39),m(30,"ion-icon",44),i(31,"div",41)(32,"ion-text",42),s(33,"Tiempo total"),a(),i(34,"ion-text",43),s(35),a()()(),i(36,"div",45),m(37,"ion-icon",46),i(38,"div",41)(39,"ion-text",42),s(40,"Distancia restante"),a(),i(41,"ion-text",43),s(42),a()()(),i(43,"div",45),m(44,"ion-icon",47),i(45,"div",41)(46,"ion-text",42),s(47,"Tiempo restante"),a(),i(48,"ion-text",43),s(49),a()()()()(),M(50,Lt,15,11,"div",48),i(51,"div",49),M(52,Rt,3,0,"ion-button",50)(53,Ut,7,0,"div",51),a(),M(54,Gt,4,1,"div",52),a()()),c&2){let o=d();r(5),I("navigating",o.isNavigating),r(),w(" ",o.isNavigating?"\u{1F7E2} Navegando":"\u23F8\uFE0F Pausado"," "),r(7),w("",o.getNavigationProgress().toFixed(0),"%"),r(),b("value",o.getNavigationProgress()/100),r(3),w("",o.formatDistance(o.getRemainingDistance())," restantes"),r(2),w("",o.formatTime(o.getRemainingTime())," restantes"),r(9),P(o.formatDistance((o.navigationRoute==null?null:o.navigationRoute.totalDistance)||0)),r(7),P(o.formatTime((o.navigationRoute==null?null:o.navigationRoute.totalDuration)||0)),r(7),P(o.formatDistance(o.getRemainingDistance())),r(7),P(o.formatTime(o.getRemainingTime())),r(),b("ngIf",o.getCurrentStep()),r(2),b("ngIf",!o.isNavigating),r(),b("ngIf",o.isNavigating),r(),b("ngIf",o.navigationRoute)}}var yt=(()=>{let l=class l{constructor(n){this.mapboxService=n,this.waypoints=[],this.navigationRoute=null,this.isNavigating=!1,this.isMobile=!1,this.destroy$=new B,F({play:ln,stop:pn,arrowForward:an,navigateOutline:H,speedometerOutline:dt,timeOutline:bt,locationOutline:sn,hourglassOutline:ot,playOutline:gn,stopOutline:mt,chevronForwardOutline:rn,closeOutline:D,pauseOutline:lt,chevronBackOutline:cn,arrowUpOutline:Yn})}ngOnInit(){this.isMobile=window.innerWidth<=768,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=768}),this.mapboxService.getCurrentNavigation().pipe(A(this.destroy$)).subscribe(n=>{this.navigationRoute=n,this.isNavigating=(n==null?void 0:n.isNavigating)||!1,console.log("\u{1F9ED} Panel de navegaci\xF3n actualizado:",{tieneRuta:!!n,navegando:this.isNavigating,pasoActual:(n==null?void 0:n.currentStepIndex)||0,totalPasos:(n==null?void 0:n.steps.length)||0,esMovil:this.isMobile})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startNavigation(){if(this.waypoints.length<2){console.warn("Se necesitan al menos 2 waypoints para la navegaci\xF3n");return}this.mapboxService.startNavigation(this.waypoints)}stopNavigation(){this.mapboxService.stopNavigation()}nextStep(){this.mapboxService.nextStep()}getCurrentStep(){return this.mapboxService.getCurrentStep()}getNavigationProgress(){return this.mapboxService.getNavigationProgress()}getRemainingDistance(){return this.mapboxService.getRemainingDistance()}getRemainingTime(){return this.mapboxService.getRemainingTime()}formatDistance(n){return this.mapboxService.formatDistance(n)}formatTime(n){return this.mapboxService.formatTime(n)}getManeuverIcon(n){return this.mapboxService.getManeuverIcon(n)}getManeuverColor(n){if(!n)return"#4F46E5";switch(n.type){case"depart":return"#10B981";case"arrive":return"#DC2626";case"turn":return"#F59E0B";default:return"#4F46E5"}}getUpcomingSteps(){var t;if(!((t=this.navigationRoute)!=null&&t.steps))return[];let n=this.navigationRoute.currentStepIndex||0;return this.navigationRoute.steps.slice(n+1,n+4)}};l.\u0275fac=function(t){return new(t||l)(E(bn))},l.\u0275cmp=T({type:l,selectors:[["app-mapbox-navigation-panel"]],inputs:{waypoints:"waypoints"},decls:2,vars:2,consts:[["class","mobile-navigation",4,"ngIf"],["class","mapbox-navigation-panel",4,"ngIf"],[1,"mobile-navigation"],[1,"mobile-header"],["class","current-instruction",4,"ngIf"],[1,"mobile-controls"],["color","success","size","small",3,"click",4,"ngIf"],["color","danger","size","small",3,"click",4,"ngIf"],["color","warning","size","small",3,"click",4,"ngIf"],["class","upcoming-steps",4,"ngIf"],[1,"current-instruction"],[1,"instruction-row"],[1,"maneuver-icon"],[1,"instruction-text"],[1,"instruction-distance"],["color","success","size","small",3,"click"],["name","play"],["color","danger","size","small",3,"click"],["name","stop"],["color","warning","size","small",3,"click"],["name","arrow-forward"],[1,"upcoming-steps"],["class","step-item",4,"ngFor","ngForOf"],[1,"step-item"],[1,"step-distance"],[1,"mapbox-navigation-panel"],[1,"navigation-title"],["name","navigate-outline"],[1,"route-status"],[1,"navigation-progress"],[1,"progress-header"],[1,"progress-label"],[1,"progress-percentage"],["color","primary",1,"progress-bar",3,"value"],[1,"progress-details"],[1,"progress-distance"],[1,"progress-time"],[1,"route-info"],[1,"route-stats"],[1,"stat","primary"],["name","speedometer-outline",1,"stat-icon"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],["name","time-outline",1,"stat-icon"],[1,"stat","secondary"],["name","location-outline",1,"stat-icon"],["name","hourglass-outline",1,"stat-icon"],["class","current-step",4,"ngIf"],[1,"navigation-controls"],["color","primary","fill","solid","class","nav-btn-start",3,"click",4,"ngIf"],["class","nav-controls-active",4,"ngIf"],["class","steps-list",4,"ngIf"],[1,"current-step"],[1,"step-header"],[1,"step-number"],[1,"step-status"],[1,"step-instruction"],[1,"maneuver-icon",3,"name"],[1,"step-details"],[1,"step-duration"],["color","primary","fill","solid",1,"nav-btn-start",3,"click"],["name","play-outline","slot","start"],[1,"nav-controls-active"],["color","danger","fill","outline",1,"nav-btn-stop",3,"click"],["name","stop-outline","slot","start"],["color","warning","fill","outline",1,"nav-btn-next",3,"click"],["name","chevron-forward-outline","slot","start"],[1,"steps-list"],[1,"steps-title"],["class","step-item",3,"current","completed",4,"ngFor","ngForOf"],[1,"step-content"],[1,"step-instruction-text"],[1,"step-distance-text"],["class","current-step-icon",3,"name","color",4,"ngIf"],[1,"current-step-icon",3,"name"]],template:function(t,e){t&1&&M(0,qt,8,5,"div",0)(1,Yt,55,15,"ion-card",1),t&2&&(b("ngIf",e.isMobile&&e.navigationRoute),r(),b("ngIf",!e.isMobile&&e.navigationRoute))},dependencies:[$,L,R,An,In,Fn,Vn,zn,j,Dn,$n],styles:[".mapbox-navigation-panel[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;width:420px;max-height:85vh;z-index:1000;box-shadow:0 8px 32px #0003;border-radius:16px;overflow:hidden;background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1)}@media (max-width: 768px){.mapbox-navigation-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;width:100%;max-height:50vh;border-radius:0;font-size:14px;background:linear-gradient(135deg,#1a1a2e,#16213e);box-shadow:0 4px 6px #0000004d}}.navigation-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;font-size:1.2rem;font-weight:700;color:#fff}.navigation-title[_ngcontent-%COMP%]   .route-status[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;padding:4px 12px;background:#ffffff1a;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.navigation-title[_ngcontent-%COMP%]   .route-status.navigating[_ngcontent-%COMP%]{background:#10b98133;color:#10b981;animation:_ngcontent-%COMP%_pulse 2s infinite}.navigation-progress[_ngcontent-%COMP%]{margin-bottom:20px;background:#ffffff0d;border-radius:12px;padding:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.navigation-progress[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.navigation-progress[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#ffffffe6}.navigation-progress[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#10b981}.navigation-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{margin-bottom:12px;--background: rgba(255, 255, 255, .1);--progress-background: linear-gradient(90deg, #10B981 0%, #059669 100%);height:8px;border-radius:4px}.navigation-progress[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.navigation-progress[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]   .progress-distance[_ngcontent-%COMP%], .navigation-progress[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]   .progress-time[_ngcontent-%COMP%]{font-size:.85rem;color:#ffffffb3;font-weight:500}.route-info[_ngcontent-%COMP%]{margin-bottom:20px}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#ffffff14;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background:#ffffff1f;transform:translateY(-2px)}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat.primary[_ngcontent-%COMP%]{background:#10b9811a;border-color:#10b98133}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat.secondary[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f633}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#fffc;flex-shrink:0}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#ffffffb3;margin-bottom:4px;font-weight:500}.route-info[_ngcontent-%COMP%]   .route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:700;color:#fff;line-height:1.2}.current-step[_ngcontent-%COMP%]{background:#ffffff26;border-radius:8px;padding:16px;margin-bottom:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.current-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.current-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#ffffffe6}.current-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   .step-status[_ngcontent-%COMP%]{font-size:.8rem;color:#ffffffb3}.current-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   .step-status.navigating[_ngcontent-%COMP%]{color:#10b981;font-weight:600;animation:_ngcontent-%COMP%_pulse 2s infinite}.current-step[_ngcontent-%COMP%]   .step-instruction[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.current-step[_ngcontent-%COMP%]   .step-instruction[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:1.5rem}.current-step[_ngcontent-%COMP%]   .step-instruction[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#fff}.current-step[_ngcontent-%COMP%]   .step-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.current-step[_ngcontent-%COMP%]   .step-details[_ngcontent-%COMP%]   .step-distance[_ngcontent-%COMP%], .current-step[_ngcontent-%COMP%]   .step-details[_ngcontent-%COMP%]   .step-duration[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.navigation-controls[_ngcontent-%COMP%]{margin-bottom:16px}.navigation-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .2);--color: white;--border-radius: 8px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .2);transition:all .2s ease}.navigation-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .3);transform:translateY(-1px)}.navigation-controls[_ngcontent-%COMP%]   .nav-btn-start[_ngcontent-%COMP%]{width:100%}.navigation-controls[_ngcontent-%COMP%]   .nav-controls-active[_ngcontent-%COMP%]{display:flex;gap:8px}.navigation-controls[_ngcontent-%COMP%]   .nav-controls-active[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;font-size:.9rem}.steps-list[_ngcontent-%COMP%]   .steps-title[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:600;color:#fff;margin-bottom:12px}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.1)}.steps-list[_ngcontent-%COMP%]   .step-item.current[_ngcontent-%COMP%]{background:#fff3;border-radius:6px;padding:8px 12px;margin:0 -12px;animation:_ngcontent-%COMP%_pulse 2s infinite}.steps-list[_ngcontent-%COMP%]   .step-item.completed[_ngcontent-%COMP%]{opacity:.6}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background:#ffffff4d;color:#fff;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;flex-shrink:0}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex:1}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-instruction-text[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#fff;margin-bottom:2px}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-distance-text[_ngcontent-%COMP%]{font-size:.8rem;color:#ffffffb3}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .current-step-icon[_ngcontent-%COMP%]{font-size:1.2rem}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.mobile-navigation[_ngcontent-%COMP%]{background:#1a1a2e;color:#fff;padding:0;margin:0;border-radius:0;box-shadow:0 4px 6px #0000004d}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#1a1a2e;border-bottom:1px solid rgba(255,255,255,.1)}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]{flex:1}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:4px}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-row[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#4f46e5}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-row[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#fff;flex:1}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-distance[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;margin-left:27px}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--border-radius: 20px;width:40px;height:40px}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;background:#1a1a2e}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.05)}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff9;width:20px;text-align:center}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{flex:1;font-size:.9rem;color:#fffc;line-height:1.3}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-distance[_ngcontent-%COMP%]{font-size:.8rem;color:#fff9;white-space:nowrap}@media (max-width: 768px){.route-stats[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:8px}.current-step[_ngcontent-%COMP%]{padding:12px}.current-step[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.current-step[_ngcontent-%COMP%]   .step-instruction[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.navigation-controls[_ngcontent-%COMP%]   .nav-controls-active[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.navigation-controls[_ngcontent-%COMP%]   .nav-controls-active[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;font-size:.85rem;--padding-start: 12px;--padding-end: 12px}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{padding:8px 0}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-instruction-text[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.3}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-distance-text[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 480px){.mapbox-navigation-panel[_ngcontent-%COMP%]{top:5px;left:5px;right:5px;max-height:65vh;border-radius:8px;font-size:13px}.route-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:6px}.route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{padding:8px}.route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem}.route-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1rem}.current-step[_ngcontent-%COMP%]{padding:10px;margin-bottom:12px}.current-step[_ngcontent-%COMP%]   .step-instruction[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4}.current-step[_ngcontent-%COMP%]   .step-details[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.current-step[_ngcontent-%COMP%]   .step-details[_ngcontent-%COMP%]   .step-distance[_ngcontent-%COMP%], .current-step[_ngcontent-%COMP%]   .step-details[_ngcontent-%COMP%]   .step-duration[_ngcontent-%COMP%]{font-size:.8rem}.steps-list[_ngcontent-%COMP%]   .steps-title[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:8px}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{padding:6px 0}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:20px;height:20px;font-size:.7rem}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-instruction-text[_ngcontent-%COMP%]{font-size:.8rem}.steps-list[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-distance-text[_ngcontent-%COMP%]{font-size:.7rem}}"]});let c=l;return c})();var kt=(()=>{let l=class l{constructor(n){this.http=n,this.baseUrl="https://api.maptiler.com/geocoding"}geocode(n){let t=`${this.baseUrl}/${encodeURIComponent(n)}.json?key=${Ln.maptilerApiKey}`;return this.http.get(t).pipe(G(e=>e&&e.features&&e.features.length>0?e.features[0].geometry.coordinates:null),Y(e=>(console.error("Error en geocodificaci\xF3n:",e),xn(null))))}};l.\u0275fac=function(t){return new(t||l)(N(En))},l.\u0275prov=V({token:l,factory:l.\u0275fac,providedIn:"root"});let c=l;return c})();var Et=(()=>{let l=class l{optimizeImage(n,t=1920,e=1080,g=.8){return O(this,null,function*(){return new Promise((p,_)=>{let u=document.createElement("canvas"),C=u.getContext("2d"),h=new Image;h.onload=()=>{let{width:k,height:z}=this.calculateDimensions(h.width,h.height,t,e);u.width=k,u.height=z,C==null||C.drawImage(h,0,0,k,z),u.toBlob(S=>{if(S){let _n=new File([S],n.name,{type:n.type,lastModified:Date.now()});p(_n)}else _(new Error("Error al optimizar imagen"))},n.type,g)},h.onerror=()=>_(new Error("Error al cargar imagen")),h.src=URL.createObjectURL(n)})})}calculateDimensions(n,t,e,g){if(n<=e&&t<=g)return{width:n,height:t};let p=Math.min(e/n,g/t);return{width:Math.round(n*p),height:Math.round(t*p)}}optimizeMultipleImages(n){return O(this,null,function*(){let t=[];for(let e of n)try{let g=yield this.optimizeImage(e);t.push(g)}catch(g){console.warn("Error optimizando imagen:",g),t.push(e)}return t})}needsOptimization(n,t=2){return n.size>t*1024*1024}};l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=V({token:l,factory:l.\u0275fac,providedIn:"root"});let c=l;return c})();var St=(()=>{let l=class l{constructor(n,t,e){this.avisosService=n,this.clientesService=t,this.inventarioService=e,this.destroy$=new B,this.isPrefetching=!1,this.prefetchQueue=[]}prefetchCriticalData(){return O(this,null,function*(){if(this.isPrefetching){console.log("\u26A0\uFE0F Prefetch ya en progreso, saltando...");return}this.isPrefetching=!0;try{console.log("\u{1F680} Iniciando prefetch de datos cr\xEDticos..."),yield this.prefetchSequentially([()=>this.avisosService.getAvisosActivos(1,20).subscribe(),()=>this.clientesService.getClientes(1,10,void 0,"nombre_completo","asc",!0).subscribe(),()=>this.inventarioService.getInventario(1,10,void 0,"nombre","asc",!0).subscribe()]),console.log("\u2705 Prefetch de datos cr\xEDticos completado")}catch(n){console.warn("\u26A0\uFE0F Error en prefetch:",n)}finally{this.isPrefetching=!1}})}prefetchSequentially(n){return O(this,null,function*(){for(let t of n)yield new Promise(e=>{setTimeout(()=>{t(),e()},100)})})}prefetchBasedOnNavigation(n){this.prefetchQueue.push(()=>{switch(n){case"/avisos":this.prefetchAvisosData();break;case"/clientes":this.prefetchClientesData();break;case"/inventario":this.prefetchInventarioData();break}}),setTimeout(()=>{let t=this.prefetchQueue.shift();t&&t()},500)}prefetchAvisosData(){this.avisosService.getAvisosActivos(2,20).subscribe()}prefetchClientesData(){this.clientesService.getClientes(2,10).subscribe()}prefetchInventarioData(){this.inventarioService.getInventario(2,10).subscribe()}cleanupUnusedPrefetch(){this.prefetchQueue=[],console.log("\u{1F9F9} Limpieza de prefetch completada")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cleanupUnusedPrefetch()}};l.\u0275fac=function(t){return new(t||l)(N(dn),N(mn),N(xt))},l.\u0275prov=V({token:l,factory:l.\u0275fac,providedIn:"root"});let c=l;return c})();var zt=(()=>{let l=class l{constructor(n){this.supabaseClientService=n}testSupabaseConnection(){console.log("\u{1F50D} Probando conexi\xF3n a Supabase...");let n=this.supabaseClientService.getClient();return W(n.from("avisos").select("id").limit(1)).pipe(G(({data:t,error:e})=>e?(console.error("\u274C Error en conexi\xF3n Supabase:",e),{success:!1,message:`Error de conexi\xF3n: ${e.message}`,data:e}):(console.log("\u2705 Conexi\xF3n a Supabase exitosa"),{success:!0,message:"Conexi\xF3n exitosa",data:t})),Y(t=>(console.error("\u274C Error cr\xEDtico en conexi\xF3n:",t),W(Promise.resolve({success:!1,message:`Error cr\xEDtico: ${t.message}`,data:t})))))}testAvisosQuery(){console.log("\u{1F50D} Probando consulta de avisos...");let n=this.supabaseClientService.getClient();return W(n.from("avisos").select(`
          id,
          nombre_cliente_aviso,
          estado
        `).limit(5)).pipe(G(({data:t,error:e,count:g})=>e?(console.error("\u274C Error en consulta de avisos:",e),{success:!1,message:`Error en consulta: ${e.message}`,data:e}):(console.log("\u2705 Consulta de avisos exitosa:",t==null?void 0:t.length,"registros"),{success:!0,message:`Consulta exitosa: ${(t==null?void 0:t.length)||0} avisos encontrados`,data:{avisos:t,total:g}})),Y(t=>(console.error("\u274C Error cr\xEDtico en consulta:",t),W(Promise.resolve({success:!1,message:`Error cr\xEDtico: ${t.message}`,data:t})))))}};l.\u0275fac=function(t){return new(t||l)(N(Rn))},l.\u0275prov=V({token:l,factory:l.\u0275fac,providedIn:"root"});let c=l;return c})();var te=(c,l,o,n,t,e,g)=>({pendiente:c,"en-curso":l,"pendiente-presupuesto":o,"listo-para-facturar":n,completado:t,cancelado:e,seleccionado:g}),ee=(c,l,o,n,t,e,g)=>({yellow:c,red:l,green:o,"no-visitado":n,"visitado-pendiente":t,"pendiente-presupuesto":e,"listo-para-facturar":g}),oe=(c,l,o,n,t)=>({pendiente:c,"en-curso":l,"pendiente-presupuesto":o,"listo-para-facturar":n,seleccionado:t});function ie(c,l){c&1&&(i(0,"div",8)(1,"div",9),m(2,"ion-icon",10),i(3,"p"),s(4,"Cargando avisos..."),a()()())}function ae(c,l){if(c&1){let o=y();i(0,"div",11)(1,"div",12),m(2,"ion-icon",13),i(3,"p"),s(4),a(),i(5,"button",14),v("click",function(){f(o);let t=d();return x(t.refrescarAvisos())}),m(6,"ion-icon",15),s(7," Reintentar "),a()()()}if(c&2){let o=d();r(4),P(o.error)}}function ce(c,l){c&1&&(i(0,"span",43),s(1," | Ruta activa - Usa los botones para navegaci\xF3n real "),a())}function re(c,l){if(c&1&&(i(0,"span",41),s(1),M(2,ce,2,0,"span",42),a()),c&2){let o=d(2);r(),w(" | Seleccionados: ",o.getNumeroAvisosSeleccionados()," "),r(),b("ngIf",o.getNumeroAvisosSeleccionados()>1)}}function se(c,l){if(c&1){let o=y();i(0,"div",44)(1,"button",45),v("click",function(){f(o);let t=d(2);return x(t.abrirModalOpcionesNavegacion())}),m(2,"ion-icon",46),i(3,"span"),s(4),a()()()}if(c&2){let o=d(2);r(4),w("Navegar (",o.getNumeroAvisosSeleccionados(),")")}}function le(c,l){if(c&1){let o=y();i(0,"button",47),v("click",function(){f(o);let t=d(2);return x(t.limpiarSeleccion())}),m(1,"ion-icon",48),s(2),a()}if(c&2){let o=d(2);r(2),w(" Limpiar (",o.getNumeroAvisosSeleccionados(),") ")}}function ge(c,l){if(c&1){let o=y();i(0,"button",49),v("click",function(){f(o);let t=d(2);return x(t.abrirModalOpcionesNavegacion())}),m(1,"ion-icon",46),s(2),a()}if(c&2){let o=d(2);r(2),w(" Navegar (",o.getNumeroAvisosSeleccionados(),") ")}}function pe(c,l){c&1&&(i(0,"div",57),s(1,"Seleccionar"),a())}function de(c,l){if(c&1){let o=y();i(0,"div",81)(1,"input",82),v("change",function(t){f(o);let e=d().$implicit,g=d(4);return x(g.toggleSeleccionAviso(e,t))}),a()()}if(c&2){let o=d().$implicit,n=d(4);r(),b("checked",n.estaSeleccionado(o))}}function me(c,l){c&1&&m(0,"ion-icon",83)}function be(c,l){c&1&&m(0,"ion-icon",84)}function _e(c,l){if(c&1){let o=y();i(0,"div",61),M(1,de,2,1,"div",62),i(2,"div",63),s(3),a(),i(4,"div",64)(5,"span",65),s(6),a()(),i(7,"div",66),s(8),a(),i(9,"div",67)(10,"div",68),s(11),a()(),i(12,"div",69),s(13),Z(14,"date"),a(),i(15,"div",70),M(16,me,1,0,"ion-icon",71)(17,be,1,0,"ion-icon",72),a(),i(18,"div",73)(19,"button",74),v("click",function(){let t=f(o).$implicit,e=d(4);return x(e.verDetalleAviso(t))}),m(20,"ion-icon",75),a(),i(21,"button",76),v("click",function(t){let e=f(o).$implicit,g=d(4);return x(g.abrirEnMapasNativos(e,t))}),m(22,"ion-icon",46),a(),i(23,"button",77),v("click",function(){let t=f(o).$implicit,e=d(4);return x(e.editarAviso(t))}),m(24,"ion-icon",78),a(),i(25,"button",79),v("click",function(){let t=f(o).$implicit,e=d(4);return x(e.eliminarAviso(t))}),m(26,"ion-icon",80),a()()()}if(c&2){let o=l.$implicit,n=l.index,t=d(4);b("ngClass",vn(14,te,o.estado==="Pendiente",o.estado==="En curso",o.estado==="Pendiente de presupuesto",o.estado==="Listo para facturar",o.estado==="Completado",o.estado==="Cancelado",t.estaSeleccionado(o))),r(),b("ngIf",t.modoSeleccion),r(2),P(o.numero_secuencial||(t.paginaActual-1)*t.porPagina+n+1),r(2),b("ngClass",vn(22,ee,o.estado==="En curso",o.estado==="Pendiente",o.estado==="Completado",o.estado==="No visitado",o.estado==="Visitado pendiente",o.estado==="Pendiente de presupuesto",o.estado==="Listo para facturar")),r(),w(" ",o.estado," "),r(2),P(o.nombre_cliente_aviso),r(2),b("title",o.descripcion_problema),r(),w(" ",o.descripcion_problema," "),r(2),P(nn(14,11,o.fecha_creacion,"dd/MM/yyyy")),r(3),b("ngIf",o.urgencia==="Alta"||o.es_urgente),r(),b("ngIf",o.urgencia!=="Alta"&&!o.es_urgente)}}function ue(c,l){if(c&1&&(i(0,"div",53)(1,"div",54)(2,"div",17)(3,"div",55),M(4,pe,2,0,"div",56),i(5,"div",57),s(6,"N\xFAmero"),a(),i(7,"div",58),s(8,"Estado"),a(),i(9,"div",57),s(10,"Cliente"),a(),i(11,"div",57),s(12,"Detalle"),a(),i(13,"div",58),s(14,"Fecha"),a(),i(15,"div",58),s(16,"Urgente"),a(),i(17,"div",57),s(18,"Acciones"),a()()(),i(19,"div",59),M(20,_e,27,30,"div",60),a()()()),c&2){let o=d(3);r(),I("modo-seleccion",o.modoSeleccion),r(3),b("ngIf",o.modoSeleccion),r(16),b("ngForOf",o.avisos)}}function ve(c,l){if(c&1){let o=y();i(0,"div",85)(1,"div",86),m(2,"ion-icon",13),i(3,"h3"),s(4,"No hay avisos"),a(),i(5,"p"),s(6,"A\xFAn no se han creado avisos. Crea el primero para comenzar."),a(),i(7,"button",87),v("click",function(){f(o);let t=d(3);return x(t.abrirModalCrearAviso())}),m(8,"ion-icon",33),s(9," Crear aviso "),a()()()}}function Ce(c,l){if(c&1){let o=y();K(0),i(1,"button",98),v("click",function(){let t=f(o).$implicit,e=d(4);return x(e.cambiarPagina(t))}),s(2),a(),J()}if(c&2){let o=l.$implicit,n=d(4);r(),I("active",o===n.paginaActual),r(),w(" ",o," ")}}function fe(c,l){if(c&1){let o=y();i(0,"div",88)(1,"span",89),s(2),a(),i(3,"div",90)(4,"button",91),v("click",function(){f(o);let t=d(3);return x(t.primeraPagina())}),m(5,"ion-icon",92)(6,"ion-icon",92),a(),i(7,"button",93),v("click",function(){f(o);let t=d(3);return x(t.paginaAnterior())}),m(8,"ion-icon",92),a(),M(9,Ce,3,3,"ng-container",94),i(10,"button",95),v("click",function(){f(o);let t=d(3);return x(t.paginaSiguiente())}),m(11,"ion-icon",96),a(),i(12,"button",97),v("click",function(){f(o);let t=d(3);return x(t.ultimaPagina())}),m(13,"ion-icon",96)(14,"ion-icon",96),a()()()}if(c&2){let o=d(3);r(2),On(" Mostrando datos ",(o.paginaActual-1)*o.porPagina+1," a ",o.Math.min(o.paginaActual*o.porPagina,o.totalAvisos)," de ",o.totalAvisos," avisos "),r(2),b("disabled",!o.puedeAnterior()),r(3),b("disabled",!o.puedeAnterior()),r(2),b("ngForOf",o.obtenerRangoPaginas()),r(),b("disabled",!o.puedeSiguiente()),r(2),b("disabled",!o.puedeSiguiente())}}function xe(c,l){if(c&1&&(K(0),M(1,ue,21,4,"div",50)(2,ve,10,0,"div",51)(3,fe,15,8,"div",52),J()),c&2){let o=d(2);r(),b("ngIf",o.avisos.length>0),r(),b("ngIf",o.avisos.length===0&&!o.loading&&!o.error),r(),b("ngIf",o.avisos.length>0&&o.totalAvisos>0)}}function Me(c,l){if(c&1){let o=y();i(0,"div",85)(1,"div",86),m(2,"ion-icon",13),i(3,"h3"),s(4,"No hay avisos"),a(),i(5,"p"),s(6,"A\xFAn no se han creado avisos. Crea el primero para comenzar."),a(),i(7,"button",87),v("click",function(){f(o);let t=d(3);return x(t.abrirModalCrearAviso())}),m(8,"ion-icon",33),s(9," Crear aviso "),a()()()}}function Pe(c,l){c&1&&(i(0,"div",57),s(1,"Seleccionar"),a())}function he(c,l){if(c&1){let o=y();i(0,"div",81)(1,"input",82),v("change",function(t){f(o);let e=d().$implicit,g=d(4);return x(g.toggleSeleccionAviso(e,t))}),a()()}if(c&2){let o=d().$implicit,n=d(4);r(),b("checked",n.estaSeleccionado(o))}}function Oe(c,l){if(c&1){let o=y();i(0,"div",122),v("click",function(t){let e=f(o).$implicit,g=d(4);return x(g.centrarAvisoEnMapa(e,t))}),M(1,he,2,1,"div",62),i(2,"div",63),s(3),a(),i(4,"div",66),s(5),a(),i(6,"div",67)(7,"div",68),s(8),a()(),i(9,"div",73)(10,"button",123),v("click",function(t){let e=f(o).$implicit,g=d(4);return x(g.centrarAvisoEnMapa(e,t))}),m(11,"ion-icon",124),a(),i(12,"button",76),v("click",function(t){let e=f(o).$implicit,g=d(4);return t.stopPropagation(),x(g.abrirEnMapasNativos(e,t))}),m(13,"ion-icon",46),a(),i(14,"button",74),v("click",function(t){let e=f(o).$implicit,g=d(4);return t.stopPropagation(),x(g.verDetalleAviso(e))}),m(15,"ion-icon",75),a(),i(16,"button",79),v("click",function(t){let e=f(o).$implicit,g=d(4);return t.stopPropagation(),x(g.eliminarAviso(e))}),m(17,"ion-icon",80),a()()()}if(c&2){let o=l.$implicit,n=l.index,t=d(4);b("ngClass",wn(6,oe,o.estado==="Pendiente",o.estado==="En curso",o.estado==="Pendiente de presupuesto",o.estado==="Listo para facturar",t.estaSeleccionado(o))),r(),b("ngIf",t.modoSeleccion),r(2),P(o.numero_secuencial||(t.paginaActual-1)*t.porPagina+n+1),r(2),P(o.nombre_cliente_aviso),r(2),b("title",o.descripcion_problema),r(),w(" ",o.descripcion_problema," ")}}function we(c,l){if(c&1&&(i(0,"div",133)(1,"div",134)(2,"span",135),s(3),a(),i(4,"span",136),s(5),a()(),i(6,"div",137),s(7),a()()),c&2){let o,n,t,e=d(5);r(3),P(e.getManeuverIcon((o=e.getCurrentStep())==null?null:o.maneuver)),r(2),P((n=e.getCurrentStep())==null?null:n.instruction),r(2),P(e.formatDistance(((t=e.getCurrentStep())==null?null:t.distance)||0))}}function ye(c,l){if(c&1){let o=y();i(0,"ion-button",138),v("click",function(){f(o);let t=d(5);return x(t.startNavigation())}),m(1,"ion-icon",139),a()}}function ke(c,l){if(c&1){let o=y();i(0,"ion-button",140),v("click",function(){f(o);let t=d(5);return x(t.stopNavigation())}),m(1,"ion-icon",141),a()}}function Ee(c,l){if(c&1){let o=y();i(0,"ion-button",142),v("click",function(){f(o);let t=d(5);return x(t.nextStep())}),m(1,"ion-icon",143),a()}}function Se(c,l){if(c&1&&(i(0,"div",146)(1,"span",135),s(2),a(),i(3,"span",136),s(4),a(),i(5,"span",147),s(6),a()()),c&2){let o=l.$implicit,n=d(6);r(2),P(n.getManeuverIcon(o.maneuver)),r(2),P(o.instruction),r(2),P(n.formatDistance(o.distance))}}function ze(c,l){if(c&1&&(i(0,"div",144),M(1,Se,7,3,"div",145),a()),c&2){let o=d(5);r(),b("ngForOf",o.getUpcomingSteps())}}function Ae(c,l){if(c&1&&(i(0,"div",125)(1,"div",126),M(2,we,8,3,"div",127),i(3,"div",128),M(4,ye,2,0,"ion-button",129)(5,ke,2,0,"ion-button",130)(6,Ee,2,0,"ion-button",131),a()(),M(7,ze,2,1,"div",132),a()),c&2){let o=d(4);r(2),b("ngIf",o.getCurrentStep()),r(2),b("ngIf",!o.isNavigating),r(),b("ngIf",o.isNavigating),r(),b("ngIf",o.isNavigating),r(),b("ngIf",o.getUpcomingSteps().length>0)}}function Ie(c,l){if(c&1&&(i(0,"div",148),m(1,"app-mapbox-navigation-panel",149),a()),c&2){let o=d(4);r(),b("waypoints",o.navigationWaypoints)}}function Fe(c,l){if(c&1){let o=y();i(0,"div",100)(1,"div",101)(2,"div",102)(3,"div",54)(4,"div",17)(5,"div",55),M(6,Pe,2,0,"div",56),i(7,"div",57),s(8,"N\xFAmero"),a(),i(9,"div",57),s(10,"Cliente"),a(),i(11,"div",57),s(12,"Detalle"),a(),i(13,"div",57),s(14,"Acciones"),a()()(),i(15,"div",59),M(16,Oe,18,12,"div",103),a()()()(),i(17,"div",104)(18,"button",105),v("click",function(){f(o);let t=d(3);return x(t.toggleFullscreen())}),m(19,"ion-icon",106),a(),i(20,"button",107),v("click",function(){f(o);let t=d(3);return x(t.toggleView())}),m(21,"ion-icon",108),i(22,"span",109),s(23,"Volver a lista"),a()(),M(24,Ae,8,5,"div",110)(25,Ie,2,1,"div",111),m(26,"div",112),a(),i(27,"div",113)(28,"div",114),m(29,"div",115),i(30,"span"),s(31,"No visitado"),a()(),i(32,"div",116),m(33,"div",117),i(34,"span"),s(35,"Visitado pendiente"),a()(),i(36,"div",118),m(37,"div",119),i(38,"span"),s(39,"Pendiente presupuesto"),a()(),i(40,"div",120),m(41,"div",121),i(42,"span"),s(43,"Listo para facturar"),a()()()()}if(c&2){let o=d(3);r(3),I("modo-seleccion",o.modoSeleccion),r(3),b("ngIf",o.modoSeleccion),r(10),b("ngForOf",o.avisos),r(8),b("ngIf",o.showNavigationPanel&&o.isMobile),r(),b("ngIf",o.showNavigationPanel&&!o.isMobile)}}function Ve(c,l){if(c&1&&(K(0),M(1,Me,10,0,"div",51)(2,Fe,44,6,"div",99),J()),c&2){let o=d(2);r(),b("ngIf",o.avisos.length===0&&!o.loading&&!o.error),r(),b("ngIf",o.avisos.length>0)}}function Ne(c,l){if(c&1){let o=y();i(0,"section",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20),s(5),a(),i(6,"div",21),s(7),M(8,re,3,2,"span",22),a()(),i(9,"div",23)(10,"div",24),m(11,"input",25)(12,"ion-icon",26),a()(),i(13,"div",27)(14,"button",28),v("click",function(){f(o);let t=d();return x(t.toggleModoSeleccion())}),m(15,"ion-icon",29),a(),i(16,"button",30),v("click",function(){f(o);let t=d();return x(t.toggleView())}),m(17,"ion-icon",31),a(),i(18,"button",32),v("click",function(){f(o);let t=d();return x(t.abrirModalCrearAviso())}),m(19,"ion-icon",33),a()()(),M(20,se,5,1,"div",34),i(21,"div",35),m(22,"input",36),i(23,"select")(24,"option"),s(25,"Ordenar por: Recientes"),a()(),i(26,"div",37)(27,"button",28),v("click",function(){f(o);let t=d();return x(t.toggleModoSeleccion())}),m(28,"ion-icon",29),s(29),a(),M(30,le,3,1,"button",38)(31,ge,3,1,"button",39),i(32,"button",30),v("click",function(){f(o);let t=d();return x(t.toggleView())}),m(33,"ion-icon",31),s(34),a(),i(35,"button",32),v("click",function(){f(o);let t=d();return x(t.abrirModalCrearAviso())}),m(36,"ion-icon",33),s(37," A\xF1adir aviso "),a()()()(),M(38,xe,4,3,"ng-container",40)(39,Ve,3,2,"ng-container",40),a()}if(c&2){let o=d();r(5),P(o.isMapView?"Mapa de avisos":"Lista de avisos"),r(2),w(" Avisos: ",o.totalAvisos," "),r(),b("ngIf",o.getNumeroAvisosSeleccionados()>0),r(6),I("active",o.modoSeleccion),r(3),b("name",o.isMapView?"list-outline":"map-outline"),r(3),b("ngIf",o.getNumeroAvisosSeleccionados()>0),r(7),I("active",o.modoSeleccion),r(2),w(" ",o.modoSeleccion?"Salir selecci\xF3n":"Seleccionar avisos"," "),r(),b("ngIf",o.getNumeroAvisosSeleccionados()>0),r(),b("ngIf",o.getNumeroAvisosSeleccionados()>0),r(2),b("name",o.isMapView?"list-outline":"map-outline"),r(),w(" ",o.isMapView?"Lista de avisos":"Mapa de avisos"," "),r(4),b("ngIf",!o.isMapView),r(),b("ngIf",o.isMapView)}}function Te(c,l){if(c&1&&(i(0,"div",150)(1,"div",151),s(2," \u{1F9ED} PANEL DE NAVEGACI\xD3N ACTIVO "),a(),m(3,"app-mapbox-navigation-panel",149),a()),c&2){let o=d();r(3),b("waypoints",o.navigationWaypoints)}}function $e(c,l){c&1&&(i(0,"div",152)(1,"div",153),s(2," \u{1F5FA}\uFE0F MAPA DE NAVEGACI\xD3N "),a(),m(3,"div",154),a())}function je(c,l){if(c&1&&(i(0,"div",155),s(1),m(2,"br"),s(3),m(4,"br"),s(5),a()),c&2){let o=d();r(),w(" DEBUG: Panel activo = ",o.showNavigationPanel,""),r(2),w(" Waypoints = ",o.navigationWaypoints.length,""),r(2),w(" Vista mapa = ",o.isMapView,`
`)}}var No=(()=>{let l=class l{constructor(n,t,e,g,p,_,u,C,h,k,z,S){this.modalController=n,this.cdr=t,this.geocodingService=e,this.avisosService=g,this.clientesService=p,this.cacheService=_,this.imageOptimizationService=u,this.prefetchService=C,this.router=h,this.navigationService=k,this.debugService=z,this.mapboxService=S,this.displayedColumns=["numero","estado","nombre","detalle","fecha","urgente","direccion","acciones"],this.isMapView=!1,this.map=null,this.avisoMarkers=new Map,this.selectedAviso=null,this.avisos=[],this.loading=!0,this.error=null,this.totalAvisos=0,this.paginaActual=1,this.porPagina=20,this.busqueda="",this.ordenarPor="fecha_creacion",this.orden="desc",this.estadoFiltro="",this.avisosSeleccionados=new Set,this.modoSeleccion=!1,this.showNavigationPanel=!1,this.navigationWaypoints=[],this.isMobile=!1,this.isNavigating=!1,this.showFullscreenMap=!1,this.destroy$=new B,this.busquedaSubject=new B,this.dataLoaded=!1,this.Math=Math,F({refreshOutline:gt,alertCircleOutline:on,checkmarkCircleOutline:Xn,navigateOutline:H,addCircle:Hn,searchOutline:pt,closeCircleOutline:Zn,alertCircle:Gn,close:Jn,eyeOutline:et,createOutline:nt,trashOutline:X,chevronBackOutline:cn,chevronForwardOutline:rn,mapOutline:rt,expandOutline:tt,listOutline:it,play:ln,stop:pn,arrowForward:an,chevronDownCircleOutline:Kn,locationOutline:sn,calendarOutline:Qn,optionsOutline:st,add:Un,addCircleOutline:Wn}),this.configurarBusqueda()}ngAfterViewInit(){this.isMobile=window.innerWidth<=768,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=768}),this.mapboxService.getCurrentNavigation().pipe(A(this.destroy$)).subscribe(n=>{n&&(this.isNavigating=n.isNavigating,console.log("\u{1F9ED} Estado de navegaci\xF3n actualizado:",{navegando:this.isNavigating,pasoActual:n.currentStepIndex+1,totalPasos:n.steps.length}))}),this.probarConexionSupabase(),this.cargarAvisosSimple(),this.suscribirseAAvisos(),this.navigationService.getCurrentRoute().pipe(A(this.destroy$)).subscribe(n=>{n.includes("/avisos")&&!this.dataLoaded&&(console.log("\u{1F9ED} Ruta de avisos detectada, preparando carga..."),setTimeout(()=>{!this.dataLoaded&&!this.destroy$.closed&&this.cargarAvisosSimple()},200))}),this.prefetchService.prefetchCriticalData(),document.addEventListener("fullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("mozfullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("MSFullscreenChange",this.handleFullscreenChange.bind(this)),window.addEventListener("resize",this.handleResize.bind(this))}probarConexionSupabase(){console.log("\u{1F50D} Iniciando pruebas de conexi\xF3n..."),this.avisosService.debugConnection().pipe(A(this.destroy$)).subscribe({next:n=>{n.success?(console.log("\u2705 Conexi\xF3n b\xE1sica exitosa"),this.cargarAvisos()):console.error("\u274C Error en conexi\xF3n b\xE1sica:",n.error)},error:n=>{console.error("\u274C Error al probar conexi\xF3n:",n)}})}cargarAvisos(){if(this.dataLoaded&&this.avisos.length>0){console.log("\u{1F4CA} Avisos ya cargados, saltando carga...");return}this.loading=!0,this.error=null,console.log("\u{1F504} Cargando avisos..."),this.avisosService.getAvisosActivos(this.paginaActual,this.porPagina,this.busqueda,this.ordenarPor,this.orden,this.estadoFiltro).pipe(A(this.destroy$)).subscribe({next:n=>{console.log("\u2705 Avisos cargados exitosamente:",n.avisos.length,"avisos"),this.avisos=n.avisos,this.totalAvisos=n.total,this.loading=!1,this.dataLoaded=!0,this.isMapView&&this.map&&this.plotAvisosOnMap(),this.cdr.detectChanges()},error:n=>{console.error("\u274C Error al cargar avisos:",n),console.error("\u274C Detalles del error:",{message:n.message,code:n.code,details:n.details,hint:n.hint}),this.error="Error al cargar los avisos. Por favor, int\xE9ntalo de nuevo.",this.loading=!1,this.cdr.detectChanges()}})}cargarAvisosSimple(){console.log("\u{1F50D} Cargando avisos de forma simplificada..."),this.loading=!0,this.error=null,this.avisosService.debugConnection().pipe(A(this.destroy$)).subscribe({next:n=>{n.success?(console.log("\u2705 Conexi\xF3n exitosa, intentando cargar avisos completos..."),this.cargarAvisos()):(console.error("\u274C Conexi\xF3n fall\xF3:",n.error),this.error="Error de conexi\xF3n a la base de datos",this.loading=!1,this.cdr.detectChanges())},error:n=>{console.error("\u274C Error en conexi\xF3n:",n),this.error="Error de conexi\xF3n: "+(n.message||"Desconocido"),this.loading=!1,this.cdr.detectChanges()}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.mapboxService.destroyMap(),this.avisoMarkers.clear(),this.map=null,document.removeEventListener("fullscreenchange",this.handleFullscreenChange.bind(this)),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange.bind(this)),document.removeEventListener("mozfullscreenchange",this.handleFullscreenChange.bind(this)),document.removeEventListener("MSFullscreenChange",this.handleFullscreenChange.bind(this)),window.removeEventListener("resize",this.handleResize.bind(this)),this.cacheService.clearCache("avisos"),this.busquedaSubject.complete(),console.log("\u{1F9F9} Componente AvisosComponent destruido y recursos limpiados")}suscribirseAAvisos(){this.avisosService.avisos$.pipe(A(this.destroy$)).subscribe(n=>{this.avisos=n})}refrescarAvisos(){this.cargarAvisos()}handleRefresh(n){return O(this,null,function*(){try{console.log("\u{1F504} Iniciando refresh manual..."),console.log("\u{1F4F1} Usuario desliz\xF3 hacia abajo para actualizar");let t=this.loading;this.loading=!1,this.cacheService.clearCache("avisos"),console.log("\u{1F5D1}\uFE0F Cach\xE9 limpiado"),yield this.recargarAvisosSinCache(),console.log("\u{1F4CA} Avisos recargados"),this.isMapView&&this.map&&(this.plotAvisosOnMap(),console.log("\u{1F5FA}\uFE0F Marcadores del mapa actualizados")),this.loading=t,console.log("\u2705 Refresh completado exitosamente"),console.log("\u{1F4C8} Total de avisos actualizados:",this.totalAvisos),n.target.complete()}catch(t){console.error("\u274C Error durante el refresh:",t),this.error="Error al actualizar los avisos. Por favor, int\xE9ntalo de nuevo.",this.loading=!1,n.target.complete()}})}recargarAvisosSinCache(){return O(this,null,function*(){return new Promise((n,t)=>{this.loading=!0,this.error=null,this.dataLoaded=!1,this.cacheService.clearCache("avisos"),this.avisosService.getAvisosActivos(this.paginaActual,this.porPagina,this.busqueda,this.ordenarPor,this.orden,this.estadoFiltro).pipe(A(this.destroy$)).subscribe({next:e=>{this.avisos=e.avisos,this.totalAvisos=e.total,this.loading=!1,this.dataLoaded=!0,this.isMapView&&this.map&&this.plotAvisosOnMap(),n()},error:e=>{console.error("Error al cargar avisos:",e),this.error="Error al cargar los avisos. Por favor, int\xE9ntalo de nuevo.",this.loading=!1,t(e)}})})})}cambiarPagina(n){n>=1&&n<=this.obtenerTotalPaginas()&&(this.paginaActual=n,this.cargarAvisos())}obtenerTotalPaginas(){return Math.ceil(this.totalAvisos/this.porPagina)}obtenerRangoPaginas(){let n=this.obtenerTotalPaginas(),t=this.paginaActual,e=2,g=Math.max(1,t-e),p=Math.min(n,t+e);p-g<4&&(g===1?p=Math.min(n,g+4):g=Math.max(1,p-4));let _=[];for(let u=g;u<=p;u++)_.push(u);return _}puedeAnterior(){return this.paginaActual>1}puedeSiguiente(){return this.paginaActual<this.obtenerTotalPaginas()}paginaAnterior(){this.puedeAnterior()&&this.cambiarPagina(this.paginaActual-1)}paginaSiguiente(){this.puedeSiguiente()&&this.cambiarPagina(this.paginaActual+1)}primeraPagina(){this.cambiarPagina(1)}ultimaPagina(){this.cambiarPagina(this.obtenerTotalPaginas())}handleResize(){let n=document.querySelector(".btn-close-expanded");if(n&&window.innerWidth<=992){let t=this.getHeaderHeight();n.style.top=`${t+10}px`}}plotAvisosOnMap(){if(!this.map){console.log("Mapa no disponible para pintar marcadores");return}console.log("Pintando marcadores en el mapa..."),this.avisoMarkers.forEach(p=>p.remove()),this.avisoMarkers.clear();let n=this.getAvisosParaMapa();if(!n||n.length===0){console.log("No hay avisos para mostrar en el mapa");return}let t=new Map,e=0,g=n.length;n.forEach((p,_)=>{if(!p.direccion_cliente_aviso){console.log(`Aviso ${p.id} no tiene direcci\xF3n`),e++;return}let u=`${p.direccion_cliente_aviso}, Espa\xF1a`;if(t.has(u)){let C=t.get(u);this.addMarkerToMap(p,C),e++;return}setTimeout(()=>{this.geocodingService.geocode(u).subscribe({next:C=>{C&&this.map&&(t.set(u,C),this.addMarkerToMap(p,C),console.log(`Marcador a\xF1adido para aviso ${p.id}`)),e++},error:C=>{console.error(`Error al geocodificar direcci\xF3n para aviso ${p.id}:`,C),e++}})},_*200)}),this.avisosSeleccionados.size>1?setTimeout(()=>{this.crearLineasDeRuta(),this.showNavigationPanel=!0},n.length*200+1e3):this.showNavigationPanel=!1}addMarkerToMap(n,t){if(!this.map)return;let e=this.estaSeleccionado(n),g=e?"#10B981":"#4F46E5",p=e?"large":"medium",_=this.mapboxService.addMarker({latitude:t[1],longitude:t[0],address:n.direccion_cliente_aviso},{label:`${n.nombre_cliente_aviso} - ${n.descripcion_problema}`,color:g,size:p});_.getElement().addEventListener("click",()=>{this.centrarAvisoEnMapa(n)}),this.avisoMarkers.set(n.id,_)}centrarAvisoEnMapa(n,t){t&&(t.preventDefault(),t.stopPropagation()),this.selectedAviso=n.id;let e=this.avisoMarkers.get(n.id);if(e&&this.map){let g=e.getLngLat();this.map.flyTo({center:[g.lng,g.lat],zoom:15,duration:1e3}),setTimeout(()=>{e.togglePopup()},500)}}abrirEnMapasNativos(n,t){if(t&&(t.preventDefault(),t.stopPropagation()),!n.direccion_cliente_aviso){console.warn("El aviso no tiene direcci\xF3n");return}let e=this.avisoMarkers.get(n.id),g;if(e){let p=e.getLngLat();g={latitude:p.lat,longitude:p.lng,address:n.direccion_cliente_aviso}}else g={latitude:0,longitude:0,address:n.direccion_cliente_aviso};this.mapboxService.openGoogleMaps(g,{label:n.nombre_cliente_aviso})}abrirEnGoogleMaps(n,t){this.abrirEnMapasNativos(n,t)}abrirEnAppleMaps(n,t){if(t&&(t.preventDefault(),t.stopPropagation()),!n.direccion_cliente_aviso){console.warn("El aviso no tiene direcci\xF3n");return}let e=this.avisoMarkers.get(n.id),g;if(e){let p=e.getLngLat();g={latitude:p.lat,longitude:p.lng,address:n.direccion_cliente_aviso}}else g={latitude:0,longitude:0,address:n.direccion_cliente_aviso};this.mapboxService.openAppleMaps(g,{label:n.nombre_cliente_aviso})}initMap(){this.isMapView&&!this.map&&setTimeout(()=>{document.getElementById("map")&&!this.map?(console.log("Inicializando mapa con Mapbox..."),this.map=this.mapboxService.initializeMap("map",{center:[-3.70379,40.416775],zoom:12}),console.log("Mapa Mapbox cargado correctamente"),this.plotAvisosOnMap()):this.isMapView&&!this.map&&(console.log("Contenedor del mapa no disponible, reintentando..."),setTimeout(()=>{this.initMap()},200))},100)}toggleView(){this.isMapView=!this.isMapView,this.isMapView?(this.cdr.detectChanges(),setTimeout(()=>{this.initMap()},50)):(this.map&&(this.mapboxService.destroyMap(),this.avisoMarkers.clear(),this.map=null),this.cdr.detectChanges())}abrirModalCrearAviso(n){return O(this,null,function*(){let t=yield this.modalController.create({component:fn,cssClass:"modal-crear-aviso",componentProps:n?{clienteData:n}:{}});yield t.present();let{data:e,role:g}=yield t.onWillDismiss();if(g==="crear-cliente"){let p=yield this.modalController.create({component:ft,cssClass:"modal-crear-cliente",showBackdrop:!0,backdropDismiss:!0});yield p.present();let{data:_,role:u}=yield p.onWillDismiss();u==="confirm"&&_?(this.loading=!0,this.error=null,this.clientesService.crearCliente(_).subscribe({next:C=>{console.log("\u2705 Cliente creado exitosamente:",C),this.loading=!1,this.abrirModalCrearAviso(C)},error:C=>{console.error("\u274C Error al crear cliente:",C),this.loading=!1,this.error="Error al crear el cliente: "+(C.message||"Error desconocido"),this.abrirModalCrearAviso(n)}})):this.abrirModalCrearAviso(n)}else if(e){console.log("Datos del formulario:",e),this.loading=!0,this.error=null;let p={cliente_id:e.cliente||(n==null?void 0:n.id)||"cliente-temp-id",nombre_cliente_aviso:e.nombreContacto||(n==null?void 0:n.nombreContacto)||"Cliente",direccion_cliente_aviso:e.direccionLocal||(n==null?void 0:n.direccionLocal)||"",telefono_cliente_aviso:e.telefono||(n==null?void 0:n.telefono)||"",nombre_contacto:e.nombreContacto||(n==null?void 0:n.nombreContacto)||"",tipo:e.tipo||"correctivo",descripcion_problema:e.descripcion||"",es_urgente:e.esUrgente||!1,urgencia:e.esUrgente?"Alta":"Normal"};this.avisosService.crearAviso(p).pipe(A(this.destroy$)).subscribe({next:_=>{console.log("Aviso creado exitosamente:",_),e.imagenes&&e.imagenes.length>0?new Promise(C=>{let h=0,k=e.imagenes.length;e.imagenes.forEach(z=>{this.avisosService.subirFoto(_.id,z).pipe(A(this.destroy$)).subscribe({next:S=>{console.log("Foto subida:",S),h++,h===k&&C()},error:S=>{console.error("Error al subir foto:",S),h++,h===k&&C()}})})}).then(()=>{this.loading=!1,this.recargarAvisosSinCache()}):(this.loading=!1,this.recargarAvisosSinCache())},error:_=>{console.error("Error al crear aviso:",_),this.error="Error al crear el aviso. Por favor, int\xE9ntalo de nuevo.",this.loading=!1}})}})}toggleFullscreen(){return O(this,null,function*(){let n=document.querySelector(".map-display-container");if(!n){console.warn("Contenedor del mapa no encontrado");return}try{!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?yield document.exitFullscreen():document.webkitExitFullscreen?yield document.webkitExitFullscreen():document.mozCancelFullScreen?yield document.mozCancelFullScreen():document.msExitFullscreen&&(yield document.msExitFullscreen()):n.requestFullscreen?yield n.requestFullscreen():n.webkitRequestFullscreen?yield n.webkitRequestFullscreen():n.mozRequestFullScreen?yield n.mozRequestFullScreen():n.msRequestFullscreen?yield n.msRequestFullscreen():(console.warn("Pantalla completa no soportada en este navegador"),this.expandMap())}catch(t){console.error("Error al cambiar pantalla completa:",t),this.expandMap()}})}expandMap(){let n=document.querySelector(".map-display-container"),t=document.querySelector(".map-list-container");if(n&&t){t.style.display="none",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100vh",n.style.zIndex="9999";let e=document.createElement("button");if(e.innerHTML='<ion-icon name="close"></ion-icon>',e.className="btn-close-expanded",e.onclick=()=>this.closeExpandedMap(),window.innerWidth<=992){let g=this.getHeaderHeight();e.style.top=`${g+10}px`,e.style.right="16px"}n.appendChild(e),this.map&&setTimeout(()=>this.map.resize(),100)}}getHeaderHeight(){let n=document.querySelector("ion-header")||document.querySelector(".header")||document.querySelector("[data-header]")||document.querySelector("header")||document.querySelector(".topbar")||document.querySelector(".main-layout-header");return n?n.getBoundingClientRect().height:window.innerWidth<=480?60:window.innerWidth<=768?70:80}closeExpandedMap(){let n=document.querySelector(".map-display-container"),t=document.querySelector(".map-list-container");if(n&&t){t.style.display="flex",n.style.position="",n.style.top="",n.style.left="",n.style.width="",n.style.height="",n.style.zIndex="";let e=n.querySelector(".btn-close-expanded");e&&e.remove(),this.map&&setTimeout(()=>this.map.resize(),100)}}handleFullscreenChange(){!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)||this.closeExpandedMap()}configurarBusqueda(){this.busquedaSubject.pipe(A(this.destroy$),Mn(500),Pn()).subscribe(n=>{this.busqueda=n,this.paginaActual=1,this.cargarAvisos()})}toggleModoSeleccion(){this.modoSeleccion=!this.modoSeleccion,this.modoSeleccion||this.avisosSeleccionados.clear(),this.actualizarMapaConSeleccion()}toggleSeleccionAviso(n,t){t&&(t.preventDefault(),t.stopPropagation()),this.modoSeleccion||(this.modoSeleccion=!0);let e=n.id;this.avisosSeleccionados.has(e)?this.avisosSeleccionados.delete(e):this.avisosSeleccionados.add(e),this.actualizarMapaConSeleccion()}estaSeleccionado(n){return this.avisosSeleccionados.has(n.id)}getNumeroAvisosSeleccionados(){return this.avisosSeleccionados.size}limpiarSeleccion(){this.avisosSeleccionados.clear(),this.actualizarMapaConSeleccion(),this.ocultarPanelNavegacion()}mostrarPanelNavegacion(){this.showNavigationPanel=!0}ocultarPanelNavegacion(){this.showNavigationPanel=!1,this.mapboxService.stopNavigation()}toggleNavigationPanel(){this.showNavigationPanel=!this.showNavigationPanel,console.log("Panel de navegaci\xF3n:",this.showNavigationPanel?"Mostrado":"Oculto"),console.log("Waypoints:",this.navigationWaypoints)}getAvisosParaMapa(){return this.avisosSeleccionados.size===0?this.avisos:this.avisos.filter(n=>this.avisosSeleccionados.has(n.id))}actualizarMapaConSeleccion(){this.isMapView&&this.map&&this.plotAvisosOnMap()}crearLineasDeRuta(){if(!this.map||this.avisosSeleccionados.size<2)return;console.log("\u{1F6E3}\uFE0F Creando ruta real con Mapbox para",this.avisosSeleccionados.size,"avisos seleccionados");let n=[];if(this.avisosSeleccionados.forEach(t=>{let e=this.avisoMarkers.get(t);if(e){let g=e.getLngLat(),p=this.avisos.find(_=>_.id===t);n.push({latitude:g.lat,longitude:g.lng,address:p==null?void 0:p.direccion_cliente_aviso})}}),n.length<2){console.log("\u26A0\uFE0F No hay suficientes coordenadas para crear la ruta");return}this.navigationWaypoints=n,this.mapboxService.createRoute(n).then(t=>{console.log("\u2705 Ruta real creada con Mapbox:",{distancia:this.mapboxService.formatDistance(t.totalDistance),duracion:this.mapboxService.formatTime(t.totalDuration),pasos:t.steps.length}),this.showNavigationPanel=!0,console.log("\u{1F680} Iniciando navegaci\xF3n en tiempo real..."),this.mapboxService.startNavigation(n).subscribe(e=>{e&&console.log("\u{1F9ED} Navegaci\xF3n activa:",{pasoActual:e.currentStepIndex+1,totalPasos:e.steps.length,navegando:e.isNavigating,progreso:`${e.progress.toFixed(1)}%`})})}).catch(t=>{console.error("\u274C Error al crear ruta con Mapbox:",t),this.error="Error al crear la ruta. Verifica tu conexi\xF3n a internet."})}onBuscar(n){this.busquedaSubject.next(n)}verDetalleAviso(n){n.id&&this.router.navigate(["/ver-aviso",n.id])}editarAviso(n){return O(this,null,function*(){if(!(n!=null&&n.id)){console.error("No se puede editar el aviso: ID no v\xE1lido");return}try{console.log("Abriendo modal de edici\xF3n para aviso:",n.id);let t=yield this.modalController.create({component:fn,cssClass:"modal-crear-aviso",componentProps:{modoEdicion:!0,avisoExistente:n}});yield t.present();let{data:e,role:g}=yield t.onWillDismiss();if(g==="confirm"&&e)try{console.log("Datos del formulario de edici\xF3n:",e);let p={tipo:e.tipo,nombre_cliente_aviso:e.nombreContacto,direccion_cliente_aviso:e.direccionLocal,telefono_cliente_aviso:e.telefono,nombre_contacto:e.nombreContacto,descripcion_problema:e.descripcion,es_urgente:e.esUrgente,urgencia:e.esUrgente?"Alta":"Normal"},_=e.id||n.id;this.loading=!0,this.avisosService.actualizarAviso(_,p).pipe(A(this.destroy$)).subscribe({next:u=>{console.log("Aviso actualizado exitosamente:",u),this.loading=!1,console.log("\u2705 Aviso actualizado exitosamente"),this.recargarAvisosSinCache()},error:u=>{console.error("Error al actualizar aviso:",u),this.loading=!1,this.error=u.message||"Error al actualizar el aviso. Por favor, int\xE9ntalo de nuevo."}})}catch(p){console.error("Error al procesar la edici\xF3n:",p),this.error="Error al procesar la edici\xF3n. Por favor, int\xE9ntalo de nuevo."}}catch(t){console.error("Error al abrir el modal de edici\xF3n:",t),this.error="Error al abrir el modal de edici\xF3n. Por favor, int\xE9ntalo de nuevo."}})}eliminarAviso(n){return O(this,null,function*(){this.loading=!0,this.error=null,this.avisosService.verificarDependenciasAviso(n.id).pipe(A(this.destroy$)).subscribe({next:t=>O(this,null,function*(){if(this.loading=!1,!t.puedeEliminar){let _=t.dependencias.join(", ");this.error=`No se puede eliminar el aviso porque tiene los siguientes elementos asociados: ${_}. Debes eliminar primero estos elementos o contactar al administrador.`;return}let e=yield this.modalController.create({component:Ot,cssClass:"modal-confirmar-eliminacion",showBackdrop:!0,backdropDismiss:!0,componentProps:{aviso:n,dependencias:t.dependencias}});yield e.present();let{data:g,role:p}=yield e.onWillDismiss();p==="confirm"&&(g!=null&&g.confirmado)&&(this.loading=!0,this.error=null,this.avisosService.eliminarAviso(n.id).pipe(A(this.destroy$)).subscribe({next:()=>{console.log("Aviso eliminado exitosamente"),this.loading=!1,this.recargarAvisosSinCache()},error:_=>{console.error("Error al eliminar aviso:",_),_.code==="23503"?_.message.includes("presupuestos")?this.error="No se puede eliminar el aviso porque tiene presupuestos asociados. Elimina primero los presupuestos.":_.message.includes("facturas")?this.error="No se puede eliminar el aviso porque tiene facturas asociadas. Elimina primero las facturas.":_.message.includes("albaranes")?this.error="No se puede eliminar el aviso porque tiene albaranes asociados. Elimina primero los albaranes.":this.error="No se puede eliminar el aviso porque tiene datos relacionados. Contacta al administrador.":this.error="Error al eliminar el aviso. Por favor, int\xE9ntalo de nuevo.",this.loading=!1}}))}),error:t=>{console.error("Error al verificar dependencias:",t),this.error="Error al verificar las dependencias del aviso. Por favor, int\xE9ntalo de nuevo.",this.loading=!1}})})}getCurrentStep(){return this.mapboxService.getCurrentStep()}getUpcomingSteps(){let n=this.mapboxService.getCurrentNavigationValue();if(!(n!=null&&n.steps))return[];let t=n.currentStepIndex||0;return n.steps.slice(t+1,t+4)}getManeuverIcon(n){return this.mapboxService.getManeuverIcon(n)}formatDistance(n){return this.mapboxService.formatDistance(n)}startNavigation(){if(this.navigationWaypoints.length<2){console.warn("Se necesitan al menos 2 waypoints para la navegaci\xF3n");return}console.log("\u{1F680} Iniciando navegaci\xF3n desde componente avisos..."),this.mapboxService.startNavigation(this.navigationWaypoints)}stopNavigation(){console.log("\u{1F6D1} Deteniendo navegaci\xF3n desde componente avisos..."),this.mapboxService.stopNavigation()}nextStep(){console.log("\u27A1\uFE0F Siguiente paso desde componente avisos..."),this.mapboxService.nextStep()}abrirModalOpcionesNavegacion(){return O(this,null,function*(){if(this.avisosSeleccionados.size<1){console.warn("Se necesita al menos 1 aviso seleccionado para la navegaci\xF3n");return}let n=this.avisos.filter(g=>this.avisosSeleccionados.has(g.id));console.log("\u{1F680} Abriendo modal de navegaci\xF3n profesional para",n.length,"avisos");let t=yield this.modalController.create({component:wt,cssClass:"modal-opciones-navegacion",componentProps:{avisosSeleccionados:n}});yield t.present();let{data:e}=yield t.onWillDismiss();if(e!=null&&e.opcion)switch(console.log("\u{1F3AF} Opci\xF3n de navegaci\xF3n seleccionada:",e.opcion),e.opcion){case"google":this.abrirRutaEnGoogleMaps();break;case"apple":this.abrirRutaEnAppleMaps();break;case"app":this.abrirModalMapaNavegacion();break}})}abrirModalMapaNavegacion(){return O(this,null,function*(){if(this.avisosSeleccionados.size<1){console.warn("Se necesita al menos 1 aviso seleccionado");return}console.log("\u{1F5FA}\uFE0F Abriendo modal de mapa de navegaci\xF3n...");try{let n=yield this.obtenerUbicacionActual();if(!n){console.error("\u274C No se pudo obtener la ubicaci\xF3n actual del usuario"),this.error="No se pudo obtener tu ubicaci\xF3n actual. Verifica que tengas habilitado el GPS.";return}console.log("\u{1F4CD} Ubicaci\xF3n actual obtenida:",n);let t=[{latitude:n.latitude,longitude:n.longitude,address:"Tu ubicaci\xF3n actual"}];for(let p of this.avisosSeleccionados){let _=this.avisos.find(u=>u.id===p);if(_&&_.direccion_cliente_aviso){let u=this.avisoMarkers.get(p);if(u){let C=u.getLngLat();t.push({latitude:C.lat,longitude:C.lng,address:_.direccion_cliente_aviso})}else try{let C=yield this.geocodingService.geocode(`${_.direccion_cliente_aviso}, Espa\xF1a`).toPromise();if(C&&C.length===2)t.push({latitude:C[1],longitude:C[0],address:_.direccion_cliente_aviso}),console.log(`\u2705 Direcci\xF3n geocodificada para aviso ${p}:`,C);else{console.warn(`\u26A0\uFE0F No se pudo geocodificar la direcci\xF3n del aviso ${p}: ${_.direccion_cliente_aviso}`);continue}}catch(C){console.error(`\u274C Error al geocodificar aviso ${p}:`,C);continue}}}if(console.log("\u{1F3AF} Waypoints para navegaci\xF3n:",t.length,"puntos"),t.length<2){console.error("\u274C No se encontraron destinos v\xE1lidos para la navegaci\xF3n"),this.error="No se pudieron geocodificar las direcciones de los avisos seleccionados. Verifica que las direcciones sean v\xE1lidas.";return}let{ModalMapaNavegacionComponent:e}=yield import("./chunk-3X56OWZF.js");yield(yield this.modalController.create({component:e,cssClass:"modal-mapa-navegacion-fullscreen",componentProps:{waypoints:t}})).present(),console.log("\u2705 Modal de mapa presentado")}catch(n){console.error("\u274C Error al abrir modal de mapa:",n),this.error="Error al preparar la navegaci\xF3n. Verifica tu conexi\xF3n a internet y el GPS."}})}cerrarModalMapaNavegacion(){console.log("\u274C Cerrando modal de mapa de navegaci\xF3n..."),this.showFullscreenMap=!1,this.mapboxService.stopNavigation()}iniciarNavegacionProfesional(){return O(this,null,function*(){if(this.avisosSeleccionados.size<1){console.warn("Se necesita al menos 1 aviso seleccionado");return}console.log("\u{1F680} Iniciando navegaci\xF3n profesional...");try{let n=yield this.obtenerUbicacionActual();if(!n){console.error("\u274C No se pudo obtener la ubicaci\xF3n actual del usuario"),this.error="No se pudo obtener tu ubicaci\xF3n actual. Verifica que tengas habilitado el GPS.";return}console.log("\u{1F4CD} Ubicaci\xF3n actual obtenida:",n);let t=[{latitude:n.latitude,longitude:n.longitude,address:"Tu ubicaci\xF3n actual"}];for(let g of this.avisosSeleccionados){let p=this.avisos.find(_=>_.id===g);if(p&&p.direccion_cliente_aviso){let _=this.avisoMarkers.get(g);if(_){let u=_.getLngLat();t.push({latitude:u.lat,longitude:u.lng,address:p.direccion_cliente_aviso})}else try{let u=yield this.geocodingService.geocode(`${p.direccion_cliente_aviso}, Espa\xF1a`).toPromise();if(u&&u.length===2)t.push({latitude:u[1],longitude:u[0],address:p.direccion_cliente_aviso}),console.log(`\u2705 Direcci\xF3n geocodificada para aviso ${g}:`,u);else{console.warn(`\u26A0\uFE0F No se pudo geocodificar la direcci\xF3n del aviso ${g}: ${p.direccion_cliente_aviso}`);continue}}catch(u){console.error(`\u274C Error al geocodificar aviso ${g}:`,u);continue}}}if(console.log("\u{1F3AF} Waypoints para navegaci\xF3n:",t.length,"puntos"),console.log("\u{1F4CD} Punto de partida:",t[0]),console.log("\u{1F3AF} Destinos:",t.slice(1)),t.length<2){console.error("\u274C No se encontraron destinos v\xE1lidos para la navegaci\xF3n"),this.error="No se pudieron geocodificar las direcciones de los avisos seleccionados. Verifica que las direcciones sean v\xE1lidas.";return}let e=yield this.mapboxService.createRoute(t);console.log("\u2705 Ruta profesional creada:",e),this.showNavigationPanel=!0,this.navigationWaypoints=t,console.log("\u{1F3AF} Panel de navegaci\xF3n activado:",this.showNavigationPanel),console.log("\u{1F3AF} Waypoints para panel:",this.navigationWaypoints),this.cdr.detectChanges(),this.isMapView||(console.log("\u{1F5FA}\uFE0F Inicializando mapa para navegaci\xF3n..."),setTimeout(()=>{document.getElementById("map")?(this.map=this.mapboxService.initializeMap("map",{center:[n.longitude,n.latitude],zoom:15}),setTimeout(()=>{this.plotAvisosOnMap()},500)):console.error("\u274C Contenedor del mapa no encontrado despu\xE9s del delay")},100)),this.mapboxService.startNavigation(t).subscribe(g=>{g&&console.log("\u{1F9ED} Navegaci\xF3n profesional activa:",{pasoActual:g.currentStepIndex+1,totalPasos:g.steps.length,navegando:g.isNavigating,progreso:`${g.progress.toFixed(1)}%`})})}catch(n){console.error("\u274C Error al iniciar navegaci\xF3n profesional:",n),this.error="Error al crear la ruta de navegaci\xF3n. Verifica tu conexi\xF3n a internet y el GPS."}})}obtenerUbicacionActual(){return O(this,null,function*(){return new Promise(n=>{if(!navigator.geolocation){console.error("\u274C Geolocalizaci\xF3n no soportada"),n(null);return}console.log("\u{1F4CD} Obteniendo ubicaci\xF3n actual del usuario...");let t={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4};navigator.geolocation.getCurrentPosition(e=>{let g={latitude:e.coords.latitude,longitude:e.coords.longitude};console.log("\u2705 Ubicaci\xF3n actual obtenida:",g),n(g)},e=>{console.error("\u274C Error al obtener ubicaci\xF3n:",e),n(null)},t)})})}abrirRutaEnGoogleMaps(){if(this.avisosSeleccionados.size<1){console.warn("Se necesita al menos 1 aviso seleccionado");return}let n=this.avisos.filter(t=>this.avisosSeleccionados.has(t.id));console.log("Abriendo ruta en Google Maps para",n.length,"avisos")}abrirRutaEnAppleMaps(){if(this.avisosSeleccionados.size<1){console.warn("Se necesita al menos 1 aviso seleccionado");return}let n=this.avisos.filter(t=>this.avisosSeleccionados.has(t.id));console.log("Abriendo ruta en Apple Maps para",n.length,"avisos")}};l.\u0275fac=function(t){return new(t||l)(E(U),E(yn),E(kt),E(dn),E(mn),E(Ct),E(Et),E(St),E(Sn),E(Mt),E(zt),E(bn))},l.\u0275cmp=T({type:l,selectors:[["app-avisos"]],decls:9,vars:6,consts:[["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Desliza hacia abajo para actualizar","refreshingSpinner","circles","refreshingText","Actualizando avisos..."],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","dashboard-table",4,"ngIf"],["class","global-navigation-panel",4,"ngIf"],["class","navigation-map-container",4,"ngIf"],["style","position: fixed; top: 10px; left: 10px; background: red; color: white; padding: 10px; z-index: 10000; border-radius: 5px;",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"error-state"],[1,"error-message"],["name","alert-circle-outline"],[1,"btn-retry",3,"click"],["name","refresh-outline"],[1,"dashboard-table"],[1,"table-header"],[1,"table-header-container"],[1,"table-header-left","desktop-only"],[1,"table-title"],[1,"table-meta"],["class","seleccionados-info",4,"ngIf"],[1,"mobile-search-nav"],[1,"mobile-search"],["type","text","placeholder","Buscar aviso..."],["name","search-outline"],[1,"mobile-buttons"],["title","Modo selecci\xF3n",1,"btn-seleccion",3,"click"],["name","checkmark-circle-outline"],[1,"btn-map",3,"click"],[3,"name"],[1,"btn-add",3,"click"],["name","add-circle"],["class","mobile-navigation-button",4,"ngIf"],[1,"table-search","desktop-only"],["type","text","placeholder","Buscar..."],[1,"header-actions"],["class","btn-limpiar","title","Limpiar selecci\xF3n",3,"click",4,"ngIf"],["class","btn-navegacion-desktop","title","Opciones de navegaci\xF3n",3,"click",4,"ngIf"],[4,"ngIf"],[1,"seleccionados-info"],["class","ruta-info",4,"ngIf"],[1,"ruta-info"],[1,"mobile-navigation-button"],[1,"btn-navegacion-mobile",3,"click"],["name","navigate-outline"],["title","Limpiar selecci\xF3n",1,"btn-limpiar",3,"click"],["name","close-circle-outline"],["title","Opciones de navegaci\xF3n",1,"btn-navegacion-desktop",3,"click"],["class","compact-avisos-table",4,"ngIf"],["class","no-data-container",4,"ngIf"],["class","table-pagination",4,"ngIf"],[1,"compact-avisos-table"],[1,"avisos-table"],[1,"header-row"],["class","header-cell",4,"ngIf"],[1,"header-cell"],[1,"header-cell","desktop-only"],[1,"table-body"],["class","aviso-row","style","justify-content: start;",3,"ngClass",4,"ngFor","ngForOf"],[1,"aviso-row",2,"justify-content","start",3,"ngClass"],["class","aviso-cell seleccion-cell",4,"ngIf"],[1,"aviso-cell","numero-aviso"],[1,"aviso-cell","estado-aviso","desktop-only",2,"justify-content","start"],[1,"badge",3,"ngClass"],[1,"aviso-cell","nombre-cliente"],[1,"aviso-cell","detalle-servicio"],[1,"detalle-texto",3,"title"],[1,"aviso-cell","fecha-aviso","desktop-only"],[1,"aviso-cell","urgente-aviso","desktop-only"],["name","alert-circle","class","urgente-icon","title","Aviso urgente",4,"ngIf"],["name","close","class","no-urgente-icon","title","No urgente",4,"ngIf"],[1,"aviso-cell","acciones"],["title","Ver detalles",1,"btn-ver",3,"click"],["name","eye-outline"],["title","Abrir en mapas nativos",1,"btn-navegar",3,"click"],["title","Editar aviso",1,"btn-editar",3,"click"],["name","create-outline"],["title","Eliminar aviso",1,"btn-eliminar",3,"click"],["name","trash-outline"],[1,"aviso-cell","seleccion-cell"],["type","checkbox",1,"checkbox-seleccion",3,"change","checked"],["name","alert-circle","title","Aviso urgente",1,"urgente-icon"],["name","close","title","No urgente",1,"no-urgente-icon"],[1,"no-data-container"],[1,"no-data-message"],[1,"btn-create",3,"click"],[1,"table-pagination"],[1,"pagination-info"],[1,"pagination"],["title","Primera p\xE1gina",1,"pagination-btn",3,"click","disabled"],["name","chevron-back-outline"],["title","P\xE1gina anterior",1,"pagination-btn",3,"click","disabled"],[4,"ngFor","ngForOf"],["title","P\xE1gina siguiente",1,"pagination-btn",3,"click","disabled"],["name","chevron-forward-outline"],["title","\xDAltima p\xE1gina",1,"pagination-btn",3,"click","disabled"],[1,"pagination-btn",3,"click"],["class","map-view-container",4,"ngIf"],[1,"map-view-container"],[1,"map-list-container"],[1,"map-avisos-table"],["class","aviso-row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"map-display-container"],["title","Pantalla completa",1,"btn-fullscreen",3,"click"],["name","expand-outline"],["title","Volver a lista",1,"btn-back-to-list",3,"click"],["name","list-outline"],[1,"desktop-only"],["class","mobile-navigation",4,"ngIf"],["class","desktop-navigation",4,"ngIf"],["id","map"],[1,"map-legend"],["title","Aviso no visitado - Requiere primera visita t\xE9cnica",1,"legend-item"],[1,"legend-color","no-visitado"],["title","Visitado pero pendiente de otra visita - Requiere seguimiento",1,"legend-item"],[1,"legend-color","visitado-pendiente"],["title","Pendiente de presupuesto - Necesita presupuesto para continuar",1,"legend-item"],[1,"legend-color","pendiente-presupuesto"],["title","Listo para facturar - Trabajos completados, pendiente de facturaci\xF3n",1,"legend-item"],[1,"legend-color","listo-para-facturar"],[1,"aviso-row",3,"click","ngClass"],["title","Ir al punto en el mapa",1,"btn-mapa",3,"click"],["name","map-outline"],[1,"mobile-navigation"],[1,"mobile-header"],["class","current-instruction",4,"ngIf"],[1,"mobile-controls"],["color","success","size","small",3,"click",4,"ngIf"],["color","danger","size","small",3,"click",4,"ngIf"],["color","warning","size","small",3,"click",4,"ngIf"],["class","upcoming-steps",4,"ngIf"],[1,"current-instruction"],[1,"instruction-row"],[1,"maneuver-icon"],[1,"instruction-text"],[1,"instruction-distance"],["color","success","size","small",3,"click"],["name","play"],["color","danger","size","small",3,"click"],["name","stop"],["color","warning","size","small",3,"click"],["name","arrow-forward"],[1,"upcoming-steps"],["class","step-item",4,"ngFor","ngForOf"],[1,"step-item"],[1,"step-distance"],[1,"desktop-navigation"],[1,"navigation-panel",3,"waypoints"],[1,"global-navigation-panel"],[2,"padding","10px","background","#4F46E5","color","white","text-align","center","font-weight","bold"],[1,"navigation-map-container"],[2,"padding","5px","background","#10B981","color","white","text-align","center","font-size","12px","font-weight","bold"],["id","map",1,"navigation-map"],[2,"position","fixed","top","10px","left","10px","background","red","color","white","padding","10px","z-index","10000","border-radius","5px"]],template:function(t,e){t&1&&(i(0,"ion-content")(1,"ion-refresher",0),v("ionRefresh",function(p){return e.handleRefresh(p)}),m(2,"ion-refresher-content",1),a(),M(3,ie,5,0,"div",2)(4,ae,8,1,"div",3)(5,Ne,40,16,"section",4),a(),M(6,Te,4,1,"div",5)(7,$e,4,0,"div",6)(8,je,6,3,"div",7)),t&2&&(r(3),b("ngIf",e.loading),r(),b("ngIf",e.error&&!e.loading),r(),b("ngIf",!e.loading&&!e.error),r(),b("ngIf",e.showNavigationPanel),r(),b("ngIf",e.showNavigationPanel&&!e.isMapView),r(),b("ngIf",e.showNavigationPanel))},dependencies:[Bn,$,kn,L,R,tn,en,j,jn,ut,vt,_t,yt],styles:[`@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #FFF}.global-navigation-panel[_ngcontent-%COMP%]{position:fixed!important;top:20px!important;right:20px!important;z-index:9999!important;width:420px!important;max-height:85vh!important;background:#fff!important;border-radius:12px!important;box-shadow:0 8px 32px #0000004d!important;border:2px solid #4F46E5!important}@media (max-width: 768px){.global-navigation-panel[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;right:0!important;width:100%!important;max-height:50vh!important;border-radius:0!important;border:none!important;border-bottom:2px solid #4F46E5!important}}.navigation-map-container[_ngcontent-%COMP%]{position:fixed!important;bottom:20px!important;right:20px!important;width:300px!important;height:200px!important;z-index:9998!important;border-radius:12px!important;overflow:hidden!important;box-shadow:0 8px 32px #0000004d!important;border:2px solid #4F46E5!important;background:#fff!important}.navigation-map-container[_ngcontent-%COMP%]   .navigation-map[_ngcontent-%COMP%]{width:100%!important;height:100%!important}@media (max-width: 768px){.navigation-map-container[_ngcontent-%COMP%]{position:fixed!important;bottom:0!important;left:0!important;right:0!important;width:100%!important;height:150px!important;border-radius:0!important;border:none!important;border-top:2px solid #4F46E5!important}}.modal-mapa-navegacion-fullscreen[_ngcontent-%COMP%]{--width: 100vw;--height: 100vh;--max-width: 100vw;--max-height: 100vh;--border-radius: 0;--backdrop-opacity: .8}@media (max-width: 768px){app-mapbox-navigation-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;width:100%}}.mobile-navigation[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background:#1a1a2e;color:#fff;padding:0;margin:0;border-radius:0;box-shadow:0 4px 6px #0000004d;z-index:1000}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#1a1a2e;border-bottom:1px solid rgba(255,255,255,.1)}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]{flex:1}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:4px}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-row[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#4f46e5}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-row[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#fff;flex:1}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .current-instruction[_ngcontent-%COMP%]   .instruction-distance[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;margin-left:27px}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-navigation[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--border-radius: 20px;width:40px;height:40px}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;background:#1a1a2e}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.05)}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .maneuver-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff9;width:20px;text-align:center}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{flex:1;font-size:.9rem;color:#fffc;line-height:1.3}.mobile-navigation[_ngcontent-%COMP%]   .upcoming-steps[_ngcontent-%COMP%]   .step-item[_ngcontent-%COMP%]   .step-distance[_ngcontent-%COMP%]{font-size:.8rem;color:#fff9;white-space:nowrap}ion-refresher[_ngcontent-%COMP%]{--color: #4F46E5;--background: rgba(255, 255, 255, .95);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}ion-refresher[_ngcontent-%COMP%]   ion-refresher-content[_ngcontent-%COMP%]{--color: #4F46E5;--text-color: #64748b;--pulling-icon-color: #4F46E5;--refreshing-spinner-color: #4F46E5}@media (max-width: 768px){ion-refresher[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .98)}ion-refresher[_ngcontent-%COMP%]   ion-refresher-content[_ngcontent-%COMP%]{--pulling-text-font-size: 14px;--refreshing-text-font-size: 14px}}@media (max-width: 480px){ion-refresher[_ngcontent-%COMP%]   ion-refresher-content[_ngcontent-%COMP%]{--pulling-text-font-size: 12px;--refreshing-text-font-size: 12px}}ion-content.refresher-active[_ngcontent-%COMP%]{--overflow: hidden}.dashboard-table[_ngcontent-%COMP%]{background:#fff;padding:25px}.table-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;flex-wrap:wrap;gap:16px}.table-title[_ngcontent-%COMP%]{font-size:18px;color:#26262a;font-weight:500}.table-meta[_ngcontent-%COMP%]{color:#4f46e5;font-size:14px}.table-search[_ngcontent-%COMP%]{display:flex;gap:20px}.table-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;border:none;background:#f9fbff;color:#26262a}.table-search[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;background:#f9fbff;border:none;color:#26262a}.mobile-search-nav[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:12px}.mobile-search[_ngcontent-%COMP%]{position:relative;width:100%}.mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:9px 40px 9px 10px;border-radius:12px;border:1px solid #e2e8f0;font-size:16px;background:#fff;box-shadow:0 1px 3px #0000001a}.mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.mobile-search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);font-size:20px;color:#64748b}.mobile-navigation-button[_ngcontent-%COMP%]{display:none;width:100%;padding:0 15px}.mobile-navigation-button[_ngcontent-%COMP%]   .btn-navegacion-mobile[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;background:#059669;color:#fff;border:none;border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.mobile-navigation-button[_ngcontent-%COMP%]   .btn-navegacion-mobile[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.mobile-navigation-button[_ngcontent-%COMP%]   .btn-navegacion-mobile[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #10b9814d}.mobile-navigation-button[_ngcontent-%COMP%]   .btn-navegacion-mobile[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 4px #10b98133}.mobile-route-info[_ngcontent-%COMP%]{display:none;margin:8px 16px;padding:12px 16px;background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #10B981;border-radius:12px}.mobile-route-info[_ngcontent-%COMP%]   .route-info-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.mobile-route-info[_ngcontent-%COMP%]   .route-info-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#10b981}.mobile-route-info[_ngcontent-%COMP%]   .route-info-content[_ngcontent-%COMP%]   .route-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#059669}.mobile-route-info[_ngcontent-%COMP%]   .route-info-content[_ngcontent-%COMP%]   .route-hint[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-left:auto}.mobile-actions[_ngcontent-%COMP%]{display:none;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 16px;border-radius:12px;border:1px solid #E2E8F0;background:#f8fafc;font-size:14px;color:#475569;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:none}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.custom-mat-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 8px;margin-bottom:12px}.custom-mat-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#64748b;font-size:14px;font-weight:400;text-align:left;padding:8px 16px;background:transparent}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 16px;color:#26262a;font-size:14px}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.custom-mat-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.mobile-cards[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:12px;margin-bottom:16px}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #f1f5f9}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-weight:500;color:#64748b}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;color:#334155;font-size:14px}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row.detail[_ngcontent-%COMP%]{color:#64748b;margin:8px 0}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#64748b}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .urgente-icon[_ngcontent-%COMP%]{color:#d92d20;margin-left:auto}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:500}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{padding:12px 16px;border-top:1px solid #f1f5f9}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px;border:none;border-radius:10px;background:#f8fafc;color:#4f46e5;font-weight:500;font-size:14px;transition:all .2s ease}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.mobile-cards[_ngcontent-%COMP%]   .aviso-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:4px}.badge.yellow[_ngcontent-%COMP%]{background:var(--estado-en-curso-bg);color:var(--estado-en-curso-color)}.badge.red[_ngcontent-%COMP%]{background:var(--estado-pendiente-bg);color:var(--estado-pendiente-color)}.badge.green[_ngcontent-%COMP%]{background:var(--estado-completado-bg);color:var(--estado-completado-color)}.badge.no-visitado[_ngcontent-%COMP%]{background:var(--estado-no-visitado-bg);color:var(--estado-no-visitado-color)}.badge.visitado-pendiente[_ngcontent-%COMP%]{background:var(--estado-visitado-pendiente-bg);color:var(--estado-visitado-pendiente-color)}.badge.pendiente-presupuesto[_ngcontent-%COMP%]{background:var(--estado-pendiente-presupuesto-bg);color:var(--estado-pendiente-presupuesto-color)}.badge.listo-para-facturar[_ngcontent-%COMP%]{background:var(--estado-listo-para-facturar-bg);color:var(--estado-listo-para-facturar-color)}.view-icon[_ngcontent-%COMP%]{color:#64748b;font-size:20px;cursor:pointer}.table-header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex-shrink:0}.table-pagination[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px;padding:16px 0;border-top:1px solid #e2e8f0}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:#64748b;font-size:14px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{min-width:36px;height:36px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;font-size:14px;font-weight:500}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border-color:#4f46e5}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn.active[_ngcontent-%COMP%]:hover{background:#4338ca}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f9fafb;color:#9ca3af}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 768px){.table-pagination[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:stretch}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{min-width:32px;height:32px;font-size:12px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#fafbff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#fff;border-radius:16px;box-shadow:0 2px 8px #e0e7ef33;border:1px solid #E2E8F0}.loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#4f46e5;margin-bottom:16px}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#fafbff;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000}.error-message[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#fff;border-radius:16px;box-shadow:0 2px 8px #e0e7ef33;border:1px solid #E2E8F0;max-width:400px}.error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#d92d20;margin-bottom:16px}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0 0 24px;line-height:1.5}.btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-retry[_ngcontent-%COMP%]:hover{background:#4338ca}.btn-retry[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.btn-map[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%], .btn-seleccion[_ngcontent-%COMP%], .btn-limpiar[_ngcontent-%COMP%], .btn-ruta-google[_ngcontent-%COMP%], .btn-ruta-apple[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;font-size:14px;font-weight:500;transition:all .2s ease;white-space:nowrap;cursor:pointer;border:none;min-height:42px}.btn-map[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .btn-seleccion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .btn-limpiar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .btn-ruta-google[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .btn-ruta-apple[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-map[_ngcontent-%COMP%]:active, .btn-add[_ngcontent-%COMP%]:active, .btn-seleccion[_ngcontent-%COMP%]:active, .btn-limpiar[_ngcontent-%COMP%]:active, .btn-ruta-google[_ngcontent-%COMP%]:active, .btn-ruta-apple[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-map[_ngcontent-%COMP%]{background-color:#f8fafc;color:#475569;border:1px solid #E2E8F0}.btn-map[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;border-color:#cbd5e1}.btn-add[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;box-shadow:0 1px 2px #4f46e51a}.btn-add[_ngcontent-%COMP%]:hover{background-color:#4338ca;box-shadow:0 2px 4px #4f46e533}.btn-seleccion[_ngcontent-%COMP%]{background-color:#f8fafc;color:#475569;border:1px solid #E2E8F0}.btn-seleccion[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;border-color:#cbd5e1}.btn-seleccion.active[_ngcontent-%COMP%]{background-color:#10b981;color:#fff;border-color:#10b981}.btn-seleccion.active[_ngcontent-%COMP%]:hover{background-color:#059669}.btn-limpiar[_ngcontent-%COMP%]{background-color:#fef2f2;color:#dc2626;border:1px solid #FECACA}.btn-limpiar[_ngcontent-%COMP%]:hover{background-color:#fee2e2;border-color:#fca5a5}.btn-ruta-google[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff;border:1px solid #4285F4}.btn-ruta-google[_ngcontent-%COMP%]:hover{background-color:#3367d6;border-color:#3367d6}.btn-ruta-apple[_ngcontent-%COMP%]{background-color:#007aff;color:#fff;border:1px solid #007AFF}.btn-ruta-apple[_ngcontent-%COMP%]:hover{background-color:#0056cc;border-color:#0056cc}.btn-navegacion-desktop[_ngcontent-%COMP%]{background:#059669;color:#fff;border:1px solid #059669;padding:12px 16px;border-radius:10px;font-size:14px;font-weight:600;box-shadow:0 2px 4px #10b98133}.btn-navegacion-desktop[_ngcontent-%COMP%]:hover{background:#047857;border-color:#047857;box-shadow:0 4px 8px #10b9814d;transform:translateY(-1px)}.btn-navegacion-desktop[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #10b98133}.mobile-buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-buttons[_ngcontent-%COMP%]{display:flex!important;justify-content:center;gap:12px;padding-left:10px}.mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;border:none;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:0 2px 4px #0000001a}.mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.mobile-buttons[_ngcontent-%COMP%]   .btn-seleccion[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;border:1px solid #E2E8F0}.mobile-buttons[_ngcontent-%COMP%]   .btn-seleccion.active[_ngcontent-%COMP%]{background:#10b981;color:#fff;border-color:#10b981;box-shadow:0 4px 8px #10b9814d}.mobile-buttons[_ngcontent-%COMP%]   .btn-seleccion[_ngcontent-%COMP%]:hover:not(.active){background:#f1f5f9;border-color:#cbd5e1}.mobile-buttons[_ngcontent-%COMP%]   .btn-map[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;border:1px solid #E2E8F0}.mobile-buttons[_ngcontent-%COMP%]   .btn-map[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.mobile-buttons[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#6366f1);color:#fff;box-shadow:0 4px 8px #4f46e54d}.mobile-buttons[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4338ca,#4f46e5);box-shadow:0 6px 12px #4f46e566}}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:12px;border:none;transition:all .2s ease}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-map[_ngcontent-%COMP%], .mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]{color:#475569;border:1px solid #E2E8F0;padding:10px;background:#fff}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-map[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#6366f1);color:#fff;box-shadow:0 4px 6px -1px #4f46e51a,0 2px 4px -1px #4f46e50f}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]:hover, .mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#4338ca,#4f46e5);box-shadow:0 4px 6px -1px #4f46e533}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 16px;border-radius:12px;border:1px solid #E2E8F0;background:#f8fafc;font-size:14px;color:#475569;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:#cbd5e1;background-color:#fff}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0px 2rem;color:#fff}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;color:#26262a}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.mobile-actions.mobile-only[_ngcontent-%COMP%]{display:none;align-items:center;gap:12px;margin-bottom:0}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:none;transition:all .2s ease}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-map[_ngcontent-%COMP%]{background:#f8fafc;color:#475569;border:1px solid #E2E8F0}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-map[_ngcontent-%COMP%]:hover, .mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-map[_ngcontent-%COMP%]:active{background:#f1f5f9;border-color:#cbd5e1}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#6366f1);color:#fff;box-shadow:0 4px 6px -1px #4f46e51a,0 2px 4px -1px #4f46e50f}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]:hover, .mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button.btn-add[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#4338ca,#4f46e5);box-shadow:0 4px 6px -1px #4f46e533}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.mobile-actions.mobile-only[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 768px){.dashboard-table[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-search-nav[_ngcontent-%COMP%]{display:flex}.mobile-navigation-button[_ngcontent-%COMP%]{display:block}.mobile-route-info[_ngcontent-%COMP%]{display:flex;margin:8px 16px;padding:12px 16px;background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #10B981;border-radius:12px}.table-header[_ngcontent-%COMP%]{margin-bottom:12px;align-items:center;gap:12px;display:flex;flex-direction:row-reverse}.table-header-left[_ngcontent-%COMP%]{flex:1}.table-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{width:100%;justify-content:center}.map-legend[_ngcontent-%COMP%]{border-radius:0!important}.compact-avisos-table[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none;max-height:none}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:11px;padding:8px 4px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:8px 4px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-size:13px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:12px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{font-size:11px;line-height:1.3}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.dashboard-table[_ngcontent-%COMP%]{height:100%;padding:0}.mobile-actions[_ngcontent-%COMP%]{gap:12px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;width:30%;justify-content:stretch}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.mobile-buttons[_ngcontent-%COMP%]{gap:6px;flex-wrap:nowrap}.mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:36px;height:36px}.mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.mobile-buttons[_ngcontent-%COMP%]   .btn-ruta-google-mobile[_ngcontent-%COMP%], .mobile-buttons[_ngcontent-%COMP%]   .btn-ruta-apple-mobile[_ngcontent-%COMP%], .mobile-buttons[_ngcontent-%COMP%]   .btn-navigation-panel[_ngcontent-%COMP%]{min-width:36px;height:36px}.mobile-buttons[_ngcontent-%COMP%]   .btn-ruta-google-mobile[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-buttons[_ngcontent-%COMP%]   .btn-ruta-apple-mobile[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .mobile-buttons[_ngcontent-%COMP%]   .btn-navigation-panel[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.mobile-buttons[_ngcontent-%COMP%]   .btn-navigation-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:8px;box-shadow:0 2px 8px #10b9814d}.mobile-buttons[_ngcontent-%COMP%]   .btn-navigation-panel[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #10b98166}.mobile-buttons[_ngcontent-%COMP%]   .btn-debug-nav[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;border:none;border-radius:8px;box-shadow:0 2px 8px #f59e0b4d}.mobile-buttons[_ngcontent-%COMP%]   .btn-debug-nav[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #f59e0b66}}.map-display-container[_ngcontent-%COMP%]{height:40vh;margin-bottom:0}.map-avisos-list[_ngcontent-%COMP%]{max-height:none;overflow-y:visible}.aviso-map-card[_ngcontent-%COMP%]{padding:20px 14px;font-size:16px;border-radius:14px;margin-bottom:8px}.aviso-map-card[_ngcontent-%COMP%]   .aviso-map-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.aviso-map-card[_ngcontent-%COMP%]   .aviso-map-card-body[_ngcontent-%COMP%]{font-size:15px}.btn-filter[_ngcontent-%COMP%], .btn-map[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]{min-height:44px;font-size:16px;padding:10px 16px}.compact-avisos-table[_ngcontent-%COMP%]{border-radius:0!important;border-left:none!important;border-right:none!important}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{grid-template-columns:50px 1fr minmax(0,1.5fr) 70px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:10px;padding:6px 2px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:6px 2px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-size:12px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:11px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{font-size:10px;line-height:1.2}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:22px;height:22px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.map-view-container[_ngcontent-%COMP%]{display:flex;gap:24px;margin-top:16px;overflow:hidden;position:relative}.map-list-container[_ngcontent-%COMP%]{width:500px;flex-shrink:0;display:flex;flex-direction:column;gap:16px}.map-list-container[_ngcontent-%COMP%]   .map-list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#111827;margin:0 0 4px}.map-list-container[_ngcontent-%COMP%]   .map-list-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#4f46e5;margin:0}.map-list-container[_ngcontent-%COMP%]   .map-list-filters[_ngcontent-%COMP%]{display:flex;gap:12px}.map-list-container[_ngcontent-%COMP%]   .map-list-filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border-radius:8px;border:1px solid #D1D5DB;color:#6b7280;background-color:#fff;font-size:14px}.map-list-container[_ngcontent-%COMP%]   .map-list-filters[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{padding:8px;border-radius:8px;border:1px solid #D1D5DB;background-color:#fff;display:flex;align-items:center;justify-content:center}.map-list-container[_ngcontent-%COMP%]   .map-list-filters[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#4b5563}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto;border-radius:8px;border:1px solid #E5E7EB;background:#fff}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:80px 1fr minmax(0,1.5fr) 80px;font-size:12px}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table.modo-seleccion[_ngcontent-%COMP%]{grid-template-columns:40px 70px 1fr minmax(0,1.2fr) 70px}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:contents}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{padding:12px 8px;background:#f9fafb;border-bottom:1px solid #E5E7EB;font-weight:500;color:#374151;font-size:12px;text-transform:uppercase;letter-spacing:.5px;display:flex;align-items:center}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]:first-child{justify-content:start;padding-left:12px}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{display:contents}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]{display:contents;cursor:pointer;transition:all .2s ease;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#f9fafb}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]:active{transform:scale(.98)}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.no-visitado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #EF4444}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.no-visitado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#fef2f2}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.no-visitado[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#fee2e2}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.visitado-pendiente[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #F59E0B}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.visitado-pendiente[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#fffbeb}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.visitado-pendiente[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#fef3c7}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente-presupuesto[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #3B82F6}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente-presupuesto[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#eff6ff}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente-presupuesto[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#dbeafe}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #F3F4F6;display:flex;align-items:center}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:13px;justify-content:start;padding-left:12px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6b7280;font-size:12px;line-height:1.4}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]{justify-content:center;gap:4px}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;background:transparent;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#6b7280}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-mapa[_ngcontent-%COMP%]:hover{background-color:#4f46e5}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-mapa[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-mapa[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#4338ca}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#10b981}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#059669}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-navegar[_ngcontent-%COMP%]:hover{background-color:#3b82f6}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-navegar[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.map-list-container[_ngcontent-%COMP%]   .map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-navegar[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#2563eb}.map-legend[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px;background:#f8fafc;border-radius:8px;border:1px solid #E2E8F0}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:#475569;cursor:help}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px;border:1px solid rgba(0,0,0,.1)}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.no-visitado[_ngcontent-%COMP%]{background-color:#ef4444}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.visitado-pendiente[_ngcontent-%COMP%]{background-color:#f59e0b}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.pendiente-presupuesto[_ngcontent-%COMP%]{background-color:#3b82f6}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.listo-para-facturar[_ngcontent-%COMP%]{background-color:#059669}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.map-display-container[_ngcontent-%COMP%]{flex-grow:1;border-radius:12px;overflow:hidden;background-color:#f3f4f6;position:relative;transition:box-shadow .3s ease}.map-display-container[_ngcontent-%COMP%]   .btn-fullscreen[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:10;background:#fff;border:none;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:background .2s;font-size:22px;color:#4f46e5}.map-display-container[_ngcontent-%COMP%]   .btn-fullscreen[_ngcontent-%COMP%]:hover{background:#f3f4f6}.map-display-container[_ngcontent-%COMP%]   .btn-fullscreen[_ngcontent-%COMP%]:active{transform:scale(.95)}.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;z-index:10;background:#fff;border:none;border-radius:8px;padding:8px 12px;display:flex;align-items:center;justify-content:center;gap:6px;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:all .2s;font-size:14px;font-weight:500;color:#4f46e5}.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 992px){.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]{padding:8px;border-radius:50%;width:44px;height:44px}.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.map-display-container[_ngcontent-%COMP%]   .btn-back-to-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:10000;background:#fff;border:none;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #00000026;cursor:pointer;transition:all .2s;font-size:22px;color:#ef4444}.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]:hover{background:#fee2e2;transform:scale(1.05)}.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]:active{transform:scale(.95)}.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}@media (max-width: 992px){.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]{width:48px;height:48px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(239,68,68,.2);box-shadow:0 4px 12px #0003}.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:26px}.map-display-container[_ngcontent-%COMP%]   .btn-close-expanded[_ngcontent-%COMP%]:hover{background:#fee2e2f2;transform:scale(1.1)}}.map-display-container[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{height:100%;width:100%}@media (max-width: 992px){.map-view-container[_ngcontent-%COMP%]{flex-direction:column;overflow:visible;gap:0px!important}.map-list-container[_ngcontent-%COMP%]{width:100%;gap:0px!important}.map-avisos-table[_ngcontent-%COMP%]{max-height:35vh;overflow-y:auto;-webkit-overflow-scrolling:touch;border-radius:0!important}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{grid-template-columns:70px 1fr minmax(0,1.5fr) 80px}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-size:12px;padding-left:8px}.map-display-container[_ngcontent-%COMP%]{height:50vh;margin-bottom:0!important;border-radius:0!important}}.map-display-container[_ngcontent-%COMP%]{height:50vh;margin-bottom:20px}.map-legend[_ngcontent-%COMP%]{flex-wrap:wrap;gap:12px}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{font-size:11px}@media (min-width: 769px){.map-view-container[_ngcontent-%COMP%]{height:calc(100vh - 200px)}.map-display-container[_ngcontent-%COMP%]{height:100%!important;margin-bottom:0!important}.map-legend[_ngcontent-%COMP%]{display:none!important}}.avisos-table[_ngcontent-%COMP%]{font-size:12px;grid-template-columns:80px 1.2fr minmax(0,1fr) 100px}.avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:11px;padding:8px 4px}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]{touch-action:manipulation;-webkit-tap-highlight-color:transparent}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:8px 4px}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-size:13px}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:11px;line-height:1.3;display:block}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px}.avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-only[_ngcontent-%COMP%]{display:flex!important}}@media (max-width: 768px){.map-view-container[_ngcontent-%COMP%]   .map-display-container[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:0}.mobile-buttons[_ngcontent-%COMP%]   .btn-navigation-panel[_ngcontent-%COMP%], .mobile-buttons[_ngcontent-%COMP%]   .btn-debug-nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:#4f46e5e6;color:#fff;border:none;box-shadow:0 2px 8px #0003;transition:all .2s ease}.mobile-buttons[_ngcontent-%COMP%]   .btn-navigation-panel[_ngcontent-%COMP%]:active, .mobile-buttons[_ngcontent-%COMP%]   .btn-debug-nav[_ngcontent-%COMP%]:active{transform:scale(.95);background:#4f46e5}.map-legend[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;right:10px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:8px;box-shadow:0 2px 8px #0000001a;z-index:500}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:4px}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:6px}}@media (max-width: 480px){.mobile-buttons[_ngcontent-%COMP%]{gap:8px}.mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:42px;height:auto;padding:0!important;font-size:.8rem}.map-legend[_ngcontent-%COMP%]{bottom:5px;left:5px;right:5px;padding:6px}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:3px}.map-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:10px;height:10px;margin-right:4px}}.no-data-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;background:#fff;border-radius:16px;border:1px solid #E2E8F0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:400px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#acacac;margin-bottom:16px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:20px;margin:0 0 8px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0 0 24px;line-height:1.5}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin:0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:active{transform:translateY(0)}.compact-avisos-table[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto;border-radius:8px;border:1px solid #E5E7EB;background:#fff;margin-bottom:16px;max-width:100%;overflow-x:auto}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:60px 1fr minmax(0,1.5fr) 80px;font-size:12px;min-width:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:contents}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{padding:12px 8px;background:#f9fafb;border-bottom:1px solid #E5E7EB;font-weight:500;color:#374151;font-size:12px;text-transform:uppercase;letter-spacing:.5px;display:flex;align-items:center;min-width:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{display:contents}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]{display:contents;cursor:pointer;transition:all .2s ease;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#f9fafb}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]:active{transform:scale(.98)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.no-visitado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #EF4444}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.no-visitado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#fef2f2}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.no-visitado[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#fee2e2}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.visitado-pendiente[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #F59E0B}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.visitado-pendiente[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#fffbeb}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.visitado-pendiente[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#fef3c7}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente-presupuesto[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #3B82F6}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente-presupuesto[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#eff6ff}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente-presupuesto[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#dbeafe}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.listo-para-facturar[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #059669}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.listo-para-facturar[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#ecfdf5}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.listo-para-facturar[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#d1fae5}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.en-curso[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #F59E0B}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.en-curso[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#fffbeb}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.en-curso[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#fef3c7}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #EF4444}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#fef2f2}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.pendiente[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#fee2e2}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.completado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #10B981}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.completado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#ecfdf5}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row.completado[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#d1fae5}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #F3F4F6;display:flex;align-items:center;min-width:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:14px;justify-content:start;flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]{justify-content:start;font-size:11px;flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap;max-width:120px;overflow:hidden;text-overflow:ellipsis}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.yellow[_ngcontent-%COMP%]{background:var(--estado-en-curso-bg);color:var(--estado-en-curso-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.red[_ngcontent-%COMP%]{background:var(--estado-pendiente-bg);color:var(--estado-pendiente-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.green[_ngcontent-%COMP%]{background:var(--estado-completado-bg);color:var(--estado-completado-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.no-visitado[_ngcontent-%COMP%]{background:var(--estado-no-visitado-bg);color:var(--estado-no-visitado-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.visitado-pendiente[_ngcontent-%COMP%]{background:var(--estado-visitado-pendiente-bg);color:var(--estado-visitado-pendiente-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.pendiente-presupuesto[_ngcontent-%COMP%]{background:var(--estado-pendiente-presupuesto-bg);color:var(--estado-pendiente-presupuesto-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]   .badge.listo-para-facturar[_ngcontent-%COMP%]{background:var(--estado-listo-para-facturar-bg);color:var(--estado-listo-para-facturar-color)}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0;flex:1}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]{min-width:0;flex:1}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6b7280;font-size:12px;line-height:1.4;max-width:100%}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.fecha-aviso[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.urgente-aviso[_ngcontent-%COMP%]{justify-content:start;flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.urgente-aviso[_ngcontent-%COMP%]   .urgente-icon[_ngcontent-%COMP%]{color:#d92d20;font-size:18px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.urgente-aviso[_ngcontent-%COMP%]   .no-urgente-icon[_ngcontent-%COMP%]{color:#64748b;font-size:18px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]{justify-content:start;gap:4px;flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;background:transparent;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#6b7280}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#10b981}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#059669}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-navegar[_ngcontent-%COMP%]:hover{background-color:#3b82f6}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-navegar[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-navegar[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#2563eb}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-editar[_ngcontent-%COMP%]:hover{background-color:#f59e0b}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-editar[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-editar[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#d97706}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#ef4444}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-eliminar[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button.btn-eliminar[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#dc2626}@media (min-width: 769px){.compact-avisos-table[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto;border-radius:0;border-left:none;border-right:none}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{grid-template-columns:80px 140px minmax(150px,1fr) minmax(200px,2fr) 120px 100px 120px;font-size:13px;min-width:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:12px;padding:12px 8px;min-width:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:12px 8px;min-width:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.estado-aviso[_ngcontent-%COMP%]{flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:13px;min-width:0;flex:1}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]{min-width:0;flex:1}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{font-size:12px;max-width:100%}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.fecha-aviso[_ngcontent-%COMP%], .compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.urgente-aviso[_ngcontent-%COMP%], .compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]{flex-shrink:0}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 768px){.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:11px;padding:8px 4px}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{padding:8px 4px}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.numero-aviso[_ngcontent-%COMP%]{font-size:13px}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.nombre-cliente[_ngcontent-%COMP%]{font-size:12px}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.detalle-servicio[_ngcontent-%COMP%]   .detalle-texto[_ngcontent-%COMP%]{font-size:11px;line-height:1.3}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px}.map-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .aviso-row[_ngcontent-%COMP%]   .aviso-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}.modal-confirmar-eliminacion[_ngcontent-%COMP%]{--width: 90%;--max-width: 600px;--height: auto;--max-height: 90vh;--border-radius: 16px;--backdrop-opacity: .5}.modal-opciones-navegacion[_ngcontent-%COMP%]{--width: 90%!important;--max-width: 400px!important;--height: auto;--max-height: 70vh!important;--border-radius: 20px!important;--backdrop-opacity: .7!important;--box-shadow: 0 20px 40px rgba(0, 0, 0, .3)!important}.seleccionados-info[_ngcontent-%COMP%]{color:#10b981;font-weight:500}.ruta-info[_ngcontent-%COMP%]{color:#059669;font-weight:600;background:#10b9811a;padding:2px 6px;border-radius:4px;font-size:12px}.checkbox-seleccion[_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#10B981;cursor:pointer}.seleccion-cell[_ngcontent-%COMP%]{justify-content:center;flex-shrink:0;min-width:40px}.aviso-row.seleccionado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]{background-color:#ecfdf5!important}.aviso-row.seleccionado[_ngcontent-%COMP%]   .aviso-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #10B981!important}.aviso-row.seleccionado[_ngcontent-%COMP%]:hover   .aviso-cell[_ngcontent-%COMP%]{background-color:#d1fae5!important}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{grid-template-columns:60px 1fr minmax(0,1.5fr) 80px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table.modo-seleccion[_ngcontent-%COMP%]{grid-template-columns:40px 50px 1fr minmax(0,1.2fr) 70px}@media (min-width: 769px){.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table[_ngcontent-%COMP%]{grid-template-columns:80px 140px minmax(150px,1fr) minmax(200px,2fr) 120px 100px 120px}.compact-avisos-table[_ngcontent-%COMP%]   .avisos-table.modo-seleccion[_ngcontent-%COMP%]{grid-template-columns:40px 70px 120px minmax(120px,1fr) minmax(150px,1.5fr) 100px 80px 100px}}.route-info-popup[_ngcontent-%COMP%]{padding:16px;min-width:250px}.route-info-popup[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#111827;font-size:16px;font-weight:600}.route-info-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#374151;font-size:14px}.route-info-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#111827}.route-info-popup[_ngcontent-%COMP%]   p.route-note[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-style:italic;margin-top:8px}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;gap:8px;flex-wrap:wrap}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]   .btn-route-action[_ngcontent-%COMP%]{flex:1;min-width:100px;padding:8px 12px;border:none;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s ease}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]   .btn-route-action.google[_ngcontent-%COMP%]{background:#4285f4;color:#fff}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]   .btn-route-action.google[_ngcontent-%COMP%]:hover{background:#3367d6}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]   .btn-route-action.apple[_ngcontent-%COMP%]{background:#007aff;color:#fff}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]   .btn-route-action.apple[_ngcontent-%COMP%]:hover{background:#0056cc}.route-info-popup[_ngcontent-%COMP%]   .route-actions[_ngcontent-%COMP%]   .btn-route-action[_ngcontent-%COMP%]:active{transform:scale(.95)}.leaflet-container[_ngcontent-%COMP%]{height:100%;width:100%;font-family:inherit}.leaflet-popup-content-wrapper[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 12px #00000026;border:1px solid #E5E7EB}.leaflet-popup-close-button[_ngcontent-%COMP%]{color:#6b7280;font-size:18px}.leaflet-popup-close-button[_ngcontent-%COMP%]:hover{color:#374151}.custom-marker[_ngcontent-%COMP%]{background:transparent!important;border:none!important}.custom-marker[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5)}.leaflet-routing-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000026;border:1px solid #E5E7EB}.leaflet-routing-alt[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}.leaflet-routing-geocoders[_ngcontent-%COMP%]{margin:8px}.leaflet-routing-geocoder[_ngcontent-%COMP%]{margin-bottom:8px}.leaflet-routing-geocoder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #D1D5DB;border-radius:6px;font-size:14px}.leaflet-routing-geocoder-results[_ngcontent-%COMP%]{background:#fff;border:1px solid #D1D5DB;border-radius:6px;box-shadow:0 2px 4px #0000001a;max-height:150px;overflow-y:auto}.leaflet-routing-geocoder-result[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;border-bottom:1px solid #F3F4F6}.leaflet-routing-geocoder-result[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.leaflet-routing-geocoder-result[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let c=l;return c})();export{No as AvisosComponent};
