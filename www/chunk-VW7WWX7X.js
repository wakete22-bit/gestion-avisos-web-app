import{a as W,b as nn}from"./chunk-OXV23ERH.js";import{a as Be}from"./chunk-5YRB7RVB.js";import{b as tn,c as on}from"./chunk-HRCV5JN7.js";import{$ as ge,C as Ye,E as se,Ea as $,Ga as _e,H as Ge,Ha as en,Ma as ue,Q as de,U as He,V as Je,a as V,b as Ne,ba as Ke,c as $e,ca as pe,d as We,e as Le,f as q,ha as N,pa as Qe,s as B,sa as Xe,va as me,w as le,ya as Ze}from"./chunk-CPCGS7XX.js";import"./chunk-STXSJFLK.js";import{h as te,i as Fe,j as Ue,r as Ve,s as oe,w as ie}from"./chunk-YOFVTXCH.js";import"./chunk-XR4W6CF2.js";import{b as qe}from"./chunk-GDHKTYOW.js";import{$ as Re,H as ke,K as Se,L as Ie,N as De,P as ze,Q as Ae,W as je,X as Z,Y as ee,ca as ne}from"./chunk-TWOPYUJN.js";import{A as E,F as ve,I as re,Ia as l,Ja as w,Ka as y,Ma as we,N as P,Na as j,O as h,Oa as R,Pa as F,Xa as ye,Za as Ee,_ as r,ba as D,c as U,d as Me,da as H,f as v,g as Oe,h as Pe,ha as O,j as k,lb as K,mb as Q,na as p,pa as z,pb as Te,qa as J,ra as o,s as ae,sa as c,sb as X,t as he,ta as m,v as xe,xa as T,ya as _,za as u}from"./chunk-4AY4VQCP.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as fe,b as Ce,k as x}from"./chunk-CRC5ZNR6.js";var ce=(()=>{let s=class s{constructor(e,t){this.supabaseClientService=e,this.dataUpdateService=t,this.tecnicosSubject=new Me([]),this.tecnicos$=this.tecnicosSubject.asObservable(),this.supabase=this.supabaseClientService.getClient()}getTecnicos(e=1,t=10,n,d,g,C=!1){let M=this.supabase.from("usuarios").select(`
        *,
        rol:roles(*)
      `,{count:"exact"});n&&(M=M.or(`nombre_completo.ilike.%${n}%,email.ilike.%${n}%`)),C&&(M=M.eq("es_activo",!0));let b=(e-1)*t;return M=M.range(b,b+t-1).order(d||"fecha_creacion",{ascending:g==="asc"}),v(M).pipe(k(({data:f,error:A,count:S})=>{if(A)throw A;let L=f;return this.tecnicosSubject.next(L),{tecnicos:L,total:S||0,pagina:e,por_pagina:t}}),ae(f=>{throw console.error("Error al obtener t\xE9cnicos:",f),f}))}getTecnico(e){return v(this.supabase.from("usuarios").select(`
          *,
          rol:roles(*)
        `).eq("id",e).single()).pipe(k(({data:t,error:n})=>{if(n)throw n;return t}))}crearTecnico(e){return this.validarDatosTecnico(e)?(console.log("\u{1F527} Iniciando creaci\xF3n de t\xE9cnico:",{email:e.email,nombre:e.nombre_completo,rol_id:e.rol_id}),v(this.crearTecnicoConAuth(e)).pipe(k(({data:t,error:n})=>{var C,M,b,f,A,S;if(n)throw console.error("\u274C Error en crearTecnico:",n),(C=n.message)!=null&&C.includes("Ya existe un usuario con este email")?new Error("Ya existe un usuario con este email"):n.code==="23505"?new Error("El usuario ya existe en el sistema"):(M=n.message)!=null&&M.includes("Invalid login credentials")?new Error("Credenciales inv\xE1lidas. Verifica el email y contrase\xF1a."):(b=n.message)!=null&&b.includes("Password should be at least 6 characters")?new Error("La contrase\xF1a debe tener al menos 6 caracteres"):(f=n.message)!=null&&f.includes("Unable to validate email address")?new Error("El formato del email no es v\xE1lido"):(A=n.message)!=null&&A.includes("Email not confirmed")?new Error("El email necesita ser confirmado"):(S=n.message)!=null&&S.includes("signup_disabled")?new Error("El registro de nuevos usuarios est\xE1 deshabilitado"):n;if(!t)throw new Error("No se pudo crear el t\xE9cnico - respuesta vac\xEDa");console.log("\u2705 T\xE9cnico creado exitosamente:",t);let d=t,g=this.tecnicosSubject.value;return this.tecnicosSubject.next([d,...g]),this.dataUpdateService.notifyCreated("tecnicos"),d}),ae(t=>{throw console.error("\u274C Error final en crearTecnico:",t),t}))):e.id?(console.log("\u{1F527} T\xE9cnico ya existe, retornando datos existentes"),Oe(e)):Pe(()=>new Error("Datos del t\xE9cnico no v\xE1lidos"))}validarDatosTecnico(e){var n,d,g,C;return e.id?(console.log("\u2705 T\xE9cnico ya creado, saltando validaci\xF3n de creaci\xF3n"),!1):(n=e.nombre_completo)!=null&&n.trim()?(d=e.email)!=null&&d.trim()?(g=e.password)!=null&&g.trim()?e.password.length<6?(console.error("\u274C Validaci\xF3n fallida: password debe tener al menos 6 caracteres"),!1):(C=e.rol_id)!=null&&C.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?(console.log("\u2705 Validaci\xF3n de datos exitosa"),!0):(console.error("\u274C Validaci\xF3n fallida: formato de email inv\xE1lido"),!1):(console.error("\u274C Validaci\xF3n fallida: rol_id requerido"),!1):(console.error("\u274C Validaci\xF3n fallida: password requerido"),!1):(console.error("\u274C Validaci\xF3n fallida: email requerido"),!1):(console.error("\u274C Validaci\xF3n fallida: nombre_completo requerido"),!1)}crearTecnicoConAuth(e){return x(this,null,function*(){try{console.log("\u{1F527} Paso 1: Verificando usuario existente...");let{data:n,error:d}=yield this.supabase.from("usuarios").select("id, email").eq("email",e.email).maybeSingle();if(d&&d.code!=="PGRST116")return console.error("\u274C Error al verificar usuario existente:",d),{data:null,error:d};if(n)return console.warn("\u26A0\uFE0F Usuario ya existe:",n),{data:null,error:new Error("Ya existe un usuario con este email")};console.log("\u{1F527} Paso 2: Creando usuario en Supabase Auth...");let{data:g,error:C}=yield this.supabase.auth.signUp({email:e.email,password:e.password,options:{data:{nombre_completo:e.nombre_completo,telefono:e.telefono||null}}});return C?(console.error("\u274C Error al crear usuario en Auth:",C),{data:null,error:C}):g.user?(console.log("\u2705 Usuario creado en Auth:",{id:g.user.id,email:g.user.email}),yield this.crearUsuarioEnBD(g.user.id,e)):(console.error("\u274C No se recibi\xF3 usuario de Auth"),{data:null,error:new Error("No se pudo crear el usuario en Auth")})}catch(n){return console.error("\u274C Error general en crearTecnicoConAuth:",n),{data:null,error:n}}})}crearUsuarioEnBD(e,t){return x(this,null,function*(){var C,M;console.log("\u{1F527} Paso 3: Creando usuario en base de datos...");let n=5,d=1500,g=null;for(let b=1;b<=n;b++)try{if(console.log(`\u{1F527} Intento ${b}/${n}: Creando usuario en BD...`),b>1){let I=d*b;console.log(`\u23F1\uFE0F Esperando ${I}ms antes del intento...`),yield new Promise(G=>setTimeout(G,I))}let{data:f,error:A}=yield this.supabase.from("usuarios").select(`
            *,
            rol:roles(*)
          `).eq("id",e).maybeSingle();if(f){if(console.log("\u2705 Usuario ya existe en BD:",f),f.rol_id!==t.rol_id){console.log("\u{1F527} Actualizando rol del usuario existente...");let{data:I,error:G}=yield this.supabase.from("usuarios").update({rol_id:t.rol_id,nombre_completo:t.nombre_completo,telefono:t.telefono,fecha_actualizacion:new Date().toISOString()}).eq("id",e).select(`
                *,
                rol:roles(*)
              `).single();return G?(console.warn("\u26A0\uFE0F Error al actualizar usuario, usando datos existentes:",G),{data:f,error:null}):(console.log("\u2705 Usuario actualizado exitosamente"),{data:I,error:null})}return{data:f,error:null}}let S={id:e,nombre_completo:t.nombre_completo.trim(),email:t.email.trim().toLowerCase(),telefono:((C=t.telefono)==null?void 0:C.trim())||null,rol_id:t.rol_id,es_activo:(M=t.es_activo)!=null?M:!0,fecha_creacion:new Date().toISOString()};console.log("\u{1F527} Insertando usuario con datos:",S);let{data:L,error:Y}=yield this.supabase.from("usuarios").insert([S]).select(`
            *,
            rol:roles(*)
          `).single();if(Y){if(g=Y,console.error(`\u274C Error en intento ${b}:`,Y),Y.code==="23505"){console.log("\u{1F527} Detectado duplicado, intentando obtener usuario existente...");let{data:I}=yield this.supabase.from("usuarios").select(`
                *,
                rol:roles(*)
              `).eq("id",e).single();if(I)return console.log("\u2705 Usuario duplicado encontrado"),{data:I,error:null}}if(b===n)break;continue}return console.log("\u2705 Usuario creado exitosamente en BD"),{data:L,error:null}}catch(f){if(g=f,console.error(`\u274C Excepci\xF3n en intento ${b}:`,f),b===n)break;continue}console.log("\u{1F527} \xDAltimo intento: buscando usuario existente...");try{let{data:b,error:f}=yield this.supabase.from("usuarios").select(`
          *,
          rol:roles(*)
        `).eq("id",e).single();if(b)return console.log("\u2705 Usuario encontrado en b\xFAsqueda final"),{data:b,error:null}}catch(b){console.error("\u274C Error en b\xFAsqueda final:",b)}return console.error("\u274C Todos los intentos fallaron"),{data:null,error:g||new Error("Error desconocido al crear usuario")}})}actualizarTecnico(e,t){let n=Ce(fe({},t),{fecha_actualizacion:new Date().toISOString()});return v(this.supabase.from("usuarios").update(n).eq("id",e).select(`
          *,
          rol:roles(*)
        `).single()).pipe(k(({data:d,error:g})=>{if(g)throw g;let C=d,M=this.tecnicosSubject.value,b=M.findIndex(f=>f.id===e);return b!==-1&&(M[b]=C,this.tecnicosSubject.next([...M])),this.dataUpdateService.notifyUpdated("tecnicos"),C}))}desactivarTecnico(e){return v(this.supabase.from("usuarios").update({es_activo:!1,fecha_actualizacion:new Date().toISOString()}).eq("id",e)).pipe(k(({error:t})=>{if(t)throw t;let n=this.tecnicosSubject.value,d=n.findIndex(g=>g.id===e);d!==-1&&(n[d].es_activo=!1,this.tecnicosSubject.next([...n])),this.dataUpdateService.notifyUpdated("tecnicos")}))}activarTecnico(e){return v(this.supabase.from("usuarios").update({es_activo:!0,fecha_actualizacion:new Date().toISOString()}).eq("id",e)).pipe(k(({error:t})=>{if(t)throw t;let n=this.tecnicosSubject.value,d=n.findIndex(g=>g.id===e);d!==-1&&(n[d].es_activo=!0,this.tecnicosSubject.next([...n])),this.dataUpdateService.notifyUpdated("tecnicos")}))}buscarTecnicos(e){return v(this.supabase.from("usuarios").select(`
          *,
          rol:roles(*)
        `).or(`nombre_completo.ilike.%${e}%,email.ilike.%${e}%`).eq("es_activo",!0).limit(10)).pipe(k(({data:t,error:n})=>{if(n)throw n;return t}))}getTecnicosActuales(){return this.tecnicosSubject.value}obtenerRolesDisponibles(){return x(this,null,function*(){try{let{data:e,error:t}=yield this.supabase.from("roles").select("id, nombre_rol").order("nombre_rol");if(t)throw console.error("\u274C Error al obtener roles:",t),t;return console.log("\u2705 Roles obtenidos desde BD:",e),e||[]}catch(e){throw console.error("\u274C Error al obtener roles desde BD:",e),e}})}mostrarUUIDsRoles(){return x(this,null,function*(){try{console.log("\u{1F527} Obteniendo UUIDs de roles para configuraci\xF3n...");let e=yield this.obtenerRolesDisponibles();console.log("\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("\u{1F4CB} UUIDS DE ROLES PARA CONFIGURACI\xD3N"),console.log("\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),e.forEach(t=>{console.log(`${t.nombre_rol}: ${t.id}`)}),console.log("\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("\u{1F4A1} Copia estos UUIDs para usar en el c\xF3digo"),console.log(`
\u{1F527} C\xF3digo de ejemplo para rolesDisponibles:`),console.log("rolesDisponibles = ["),e.forEach(t=>{console.log(`  { value: '${t.id}', label: '${t.nombre_rol}', descripcion: '...' },`)}),console.log("];")}catch(e){console.error("\u274C Error al mostrar UUIDs de roles:",e)}})}limpiarTecnicos(){this.tecnicosSubject.next([])}};s.\u0275fac=function(t){return new(t||s)(re(qe),re(Be))},s.\u0275prov=ve({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();function dn(i,s){if(i&1&&(o(0,"div",32),m(1,"ion-icon",33),l(2),c()),i&2){let a=u();r(2),y(" ",a.error," ")}}function gn(i,s){i&1&&(o(0,"div",34),m(1,"ion-icon",35),o(2,"span"),l(3,"Cargando roles disponibles..."),c()())}function pn(i,s){i&1&&(o(0,"span"),l(1," (Requiere configuraci\xF3n)"),c())}function mn(i,s){if(i&1&&(o(0,"option",39),l(1),O(2,pn,2,0,"span",40),c()),i&2){let a=s.$implicit;p("value",a.value)("disabled",a.value==="admin-uuid-placeholder"),r(),y(" ",a.label," "),r(),p("ngIf",a.value==="admin-uuid-placeholder")}}function _n(i,s){if(i&1){let a=T();o(0,"select",36),F("ngModelChange",function(t){P(a);let n=u();return R(n.tecnicoData.rol_id,t)||(n.tecnicoData.rol_id=t),h(t)}),_("change",function(){P(a);let t=u();return h(t.onInputChange())}),o(1,"option",37),l(2,"Selecciona el rol"),c(),O(3,mn,3,4,"option",38),c()}if(i&2){let a=u();j("ngModel",a.tecnicoData.rol_id),r(3),p("ngForOf",a.rolesDisponibles)}}function un(i,s){i&1&&(o(0,"div",41),m(1,"ion-icon",33),o(2,"p"),l(3,"El rol de Administrador requiere configuraci\xF3n adicional en la base de datos. Contacta al administrador del sistema."),c()())}function bn(i,s){if(i&1&&(o(0,"p")(1,"strong"),l(2,"Permisos:"),c(),l(3),c()),i&2){let a=u(2);r(3),y(" ",a.getRolDescripcion(a.tecnicoData.rol_id)," ")}}function fn(i,s){if(i&1&&(o(0,"div",42)(1,"div",43)(2,"div",44),m(3,"ion-icon",45),o(4,"span",46),l(5),c()(),o(6,"div",47),O(7,bn,4,1,"p",40),c()()()),i&2){let a=u();r(5),w(a.getRolLabel(a.tecnicoData.rol_id)),r(2),p("ngIf",a.tecnicoData.rol_id)}}function Cn(i,s){i&1&&(o(0,"div",48),m(1,"ion-icon",49),o(2,"p"),l(3,"El t\xE9cnico recibir\xE1 un email con sus credenciales de acceso al sistema."),c()())}function Mn(i,s){if(i&1){let a=T();o(0,"div",9)(1,"label"),l(2,"Contrase\xF1a "),o(3,"span",10),l(4,"*"),c()(),o(5,"input",50),F("ngModelChange",function(t){P(a);let n=u();return R(n.tecnicoData.password,t)||(n.tecnicoData.password=t),h(t)}),_("input",function(){P(a);let t=u();return h(t.onInputChange())}),c(),o(6,"div",51),l(7,"M\xEDnimo 6 caracteres"),c()()}if(i&2){let a=u();r(5),j("ngModel",a.tecnicoData.password)}}function On(i,s){i&1&&m(0,"ion-icon",52)}function Pn(i,s){i&1&&m(0,"ion-icon",53)}function hn(i,s){i&1&&m(0,"ion-icon",52)}function xn(i,s){i&1&&m(0,"ion-icon",53)}function vn(i,s){i&1&&m(0,"ion-icon",52)}function wn(i,s){i&1&&m(0,"ion-icon",53)}function yn(i,s){if(i&1&&(o(0,"div",23),O(1,vn,1,0,"ion-icon",24)(2,wn,1,0,"ion-icon",25),o(3,"span"),l(4,"Contrase\xF1a (m\xEDn. 6 caracteres)"),c()()),i&2){let a=u();z("valid",a.modoEdicion||a.tecnicoData.password.length>=6),r(),p("ngIf",a.tecnicoData.password.length>=6),r(),p("ngIf",a.tecnicoData.password.length<6)}}function En(i,s){i&1&&m(0,"ion-icon",52)}function Tn(i,s){i&1&&m(0,"ion-icon",53)}function kn(i,s){i&1&&m(0,"ion-icon",54)}function Sn(i,s){i&1&&m(0,"ion-icon",35)}V({"close-outline":se,"save-outline":_e,"person-outline":me,"mail-outline":N,"call-outline":B,"shield-outline":ue,"lock-closed-outline":pe,"alert-circle-outline":q,"information-circle-outline":ge,"checkmark-circle-outline":le,"ellipse-outline":de,"refresh-outline":$});var be=(()=>{let s=class s{constructor(e,t,n){this.modalController=e,this.tecnicosService=t,this.rolesService=n,this.modo="crear",this.modoEdicion=!1,this.TipoRol=W,this.destroy$=new U,this.tecnicoData={nombre_completo:"",email:"",password:"",telefono:"",rol_id:"",es_activo:!0},this.rolesDisponibles=[],this.loading=!1,this.loadingRoles=!0,this.error="",V({personOutline:me,closeOutline:se,alertCircleOutline:q,mailOutline:N,lockClosedOutline:pe,callOutline:B,shieldOutline:ue,saveOutline:_e,informationCircleOutline:ge,checkmarkCircleOutline:le,ellipseOutline:de,refreshOutline:$})}ngOnInit(){this.modoEdicion=this.modo==="editar",this.cargarRolesDisponibles(),this.modoEdicion&&this.tecnico&&this.cargarDatosTecnico()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cargarDatosTecnico(){var e,t;this.tecnico&&(this.tecnicoData={nombre_completo:this.tecnico.nombre_completo||"",email:this.tecnico.email||"",password:"",telefono:this.tecnico.telefono||"",rol_id:((e=this.tecnico.rol)==null?void 0:e.id)||"",es_activo:(t=this.tecnico.es_activo)!=null?t:!0})}cargarRolesDisponibles(){this.loadingRoles=!0,v(this.tecnicosService.obtenerRolesDisponibles()).pipe(E(this.destroy$)).subscribe({next:e=>{if(this.rolesDisponibles=e.map(t=>({value:t.id,label:t.nombre_rol,descripcion:this.rolesService.getDescripcionRol(t.nombre_rol)})),!this.modoEdicion){let t=this.rolesDisponibles.find(n=>n.label==="T\xE9cnico");t&&(this.tecnicoData.rol_id=t.value)}this.loadingRoles=!1,console.log("\u2705 Roles cargados:",this.rolesDisponibles)},error:e=>{console.error("\u274C Error al cargar roles:",e),this.loadingRoles=!1,this.rolesDisponibles=[{value:"admin-uuid-placeholder",label:"Administrador",descripcion:this.rolesService.getDescripcionRol(W.ADMINISTRADOR)},{value:"a0472297-ee16-44d8-a434-810a3868a209",label:"T\xE9cnico",descripcion:this.rolesService.getDescripcionRol(W.TECNICO)},{value:"70c12fd8-92c2-4479-bba0-c7b2e934f48a",label:"Usuario",descripcion:this.rolesService.getDescripcionRol(W.USUARIO)}],this.modoEdicion||(this.tecnicoData.rol_id=this.rolesDisponibles[1].value),this.error="No se pudieron cargar los roles desde la base de datos. Usando valores por defecto."}})}onClose(){return x(this,null,function*(){yield this.modalController.dismiss(null,"cancel")})}crearTecnico(){return x(this,null,function*(){if(this.validarFormulario()){if(this.tecnicoData.rol_id==="admin-uuid-placeholder"){this.error="Por favor, contacta al administrador para configurar correctamente el UUID del rol Administrador en la base de datos.";return}this.loading=!0,this.error="";try{this.modoEdicion&&this.tecnico?this.tecnicosService.actualizarTecnico(this.tecnico.id,this.tecnicoData).pipe(E(this.destroy$)).subscribe({next:e=>{console.log("\u2705 T\xE9cnico actualizado exitosamente:",e),this.modalController.dismiss(e,"confirm")},error:e=>{console.error("\u274C Error al actualizar t\xE9cnico:",e),this.manejarErrorCreacion(e),this.loading=!1}}):this.tecnicosService.crearTecnico(this.tecnicoData).pipe(E(this.destroy$)).subscribe({next:e=>{console.log("\u2705 T\xE9cnico creado exitosamente:",e),this.modalController.dismiss(e,"confirm")},error:e=>{console.error("\u274C Error al crear t\xE9cnico:",e),this.manejarErrorCreacion(e),this.loading=!1}})}catch(e){this.error="Error inesperado al procesar el t\xE9cnico",console.error("\u274C Error inesperado:",e),this.loading=!1}}})}manejarErrorCreacion(e){console.log("\u{1F50D} Analizando error:",e),typeof e=="string"?this.error=e:e!=null&&e.message?e.message.includes("Ya existe un usuario con este email")?this.error="\u{1F4E7} Ya existe un usuario registrado con este email. Por favor, usa un email diferente.":e.message.includes("duplicate key value")||e.code==="23505"?this.error="\u26A0\uFE0F El usuario ya existe en el sistema. Por favor, verifica el email ingresado.":e.message.includes("Invalid login credentials")?this.error="\u{1F510} Error en las credenciales. Por favor, verifica el email y contrase\xF1a.":e.message.includes("Email not confirmed")?this.error="\u{1F4E7} El email necesita ser confirmado. Revisa la bandeja de entrada.":e.message.includes("Password should be at least 6 characters")?this.error="\u{1F512} La contrase\xF1a debe tener al menos 6 caracteres.":e.message.includes("Unable to validate email address")?this.error="\u{1F4E7} El formato del email no es v\xE1lido.":e.message.includes("Network request failed")?this.error="\u{1F310} Error de conexi\xF3n. Por favor, verifica tu conexi\xF3n a internet.":this.error=`\u274C Error: ${e.message}`:this.error="\u274C Error desconocido al procesar el t\xE9cnico. Por favor, intenta de nuevo."}validarFormulario(){if(!this.tecnicoData.nombre_completo.trim())return this.error="El nombre completo es obligatorio",!1;if(!this.tecnicoData.email.trim())return this.error="El email es obligatorio",!1;if(!this.validarEmail(this.tecnicoData.email))return this.error="El formato del email no es v\xE1lido",!1;if(!this.modoEdicion){if(!this.tecnicoData.password.trim())return this.error="La contrase\xF1a es obligatoria",!1;if(this.tecnicoData.password.length<6)return this.error="La contrase\xF1a debe tener al menos 6 caracteres",!1}return this.tecnicoData.rol_id?!this.tecnicoData.email||!this.validarEmail(this.tecnicoData.email)?(this.error="El email debe tener un formato v\xE1lido",!1):(this.error="",!0):(this.error="Debe seleccionar un rol",!1)}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}isFormValid(){let e=!!this.tecnicoData.nombre_completo.trim()&&this.validarEmail(this.tecnicoData.email)&&!!this.tecnicoData.rol_id;return this.modoEdicion?e:e&&this.tecnicoData.password.length>=6}getRolLabel(e){let t=this.rolesDisponibles.find(n=>n.value===e);return t?t.label:""}getRolDescripcion(e){let t=this.rolesDisponibles.find(n=>n.value===e);return t?t.descripcion:""}onInputChange(){this.error&&(this.error="")}get tituloModal(){return this.modoEdicion?"Editar T\xE9cnico":"Crear Nuevo T\xE9cnico"}get subtituloModal(){return this.modoEdicion?"Modifica los datos del t\xE9cnico":"Registra un nuevo t\xE9cnico en el sistema"}get textoBotonGuardar(){return this.loading?"Procesando...":this.modoEdicion?"Actualizar T\xE9cnico":"Crear T\xE9cnico"}};s.\u0275fac=function(t){return new(t||s)(D(oe),D(ce),D(nn))},s.\u0275cmp=H({type:s,selectors:[["app-crear-tecnico-modal"]],inputs:{modo:"modo",tecnico:"tecnico"},decls:73,vars:29,consts:[[1,"header-content"],[1,"close-button",3,"click"],["name","close-outline"],[1,"subtitle"],[1,"modal-body"],[1,"modal-content",3,"ngSubmit"],["class","error-message",4,"ngIf"],[1,"modal-grid"],[1,"form-section"],[1,"form-group"],[1,"required"],["type","text","name","nombre_completo","placeholder","Ingresa el nombre completo","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["type","email","name","email","placeholder","Ingresa el email","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["type","tel","name","telefono","placeholder","Ingresa el tel\xE9fono",1,"form-control",3,"ngModelChange","input","ngModel"],["class","loading-roles",4,"ngIf"],["name","rol_id","class","form-control","required","",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","warning-message",4,"ngIf"],["class","role-info",4,"ngIf"],[1,"info-section"],[1,"info-card"],["class","info-message",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"validation-status"],[1,"validation-item"],["name","checkmark-circle-outline",4,"ngIf"],["name","ellipse-outline",4,"ngIf"],["class","validation-item",3,"valid",4,"ngIf"],[1,"button-group"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["name","save-outline",4,"ngIf"],["name","refresh-outline","class","spinning",4,"ngIf"],[1,"error-message"],["name","alert-circle-outline"],[1,"loading-roles"],["name","refresh-outline",1,"spinning"],["name","rol_id","required","",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[4,"ngIf"],[1,"warning-message"],[1,"role-info"],[1,"role-card"],[1,"role-header"],["name","shield-outline"],[1,"role-title"],[1,"role-description"],[1,"info-message"],["name","information-circle-outline"],["type","password","name","password","placeholder","Ingresa la contrase\xF1a","required","",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"password-hint"],["name","checkmark-circle-outline"],["name","ellipse-outline"],["name","save-outline"]],template:function(t,n){t&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"h2"),l(4),c(),o(5,"button",1),_("click",function(){return n.onClose()}),m(6,"ion-icon",2),c()(),o(7,"p",3),l(8),c()()(),o(9,"ion-content",4)(10,"form",5),_("ngSubmit",function(){return n.crearTecnico()}),O(11,dn,3,1,"div",6),o(12,"div",7)(13,"div",8)(14,"h3"),l(15,"Informaci\xF3n Personal"),c(),o(16,"div",9)(17,"label"),l(18,"Nombre Completo "),o(19,"span",10),l(20,"*"),c()(),o(21,"input",11),F("ngModelChange",function(g){return R(n.tecnicoData.nombre_completo,g)||(n.tecnicoData.nombre_completo=g),g}),_("input",function(){return n.onInputChange()}),c()(),o(22,"div",9)(23,"label"),l(24,"Email "),o(25,"span",10),l(26,"*"),c()(),o(27,"input",12),F("ngModelChange",function(g){return R(n.tecnicoData.email,g)||(n.tecnicoData.email=g),g}),_("input",function(){return n.onInputChange()}),c()(),o(28,"div",9)(29,"label"),l(30,"Tel\xE9fono"),c(),o(31,"input",13),F("ngModelChange",function(g){return R(n.tecnicoData.telefono,g)||(n.tecnicoData.telefono=g),g}),_("input",function(){return n.onInputChange()}),c()(),o(32,"div",9)(33,"label"),l(34,"Rol "),o(35,"span",10),l(36,"*"),c()(),O(37,gn,4,0,"div",14)(38,_n,4,2,"select",15)(39,un,4,0,"div",16)(40,fn,8,2,"div",17),c()(),o(41,"div",18)(42,"div",19)(43,"h3"),l(44,"Credenciales de Acceso"),c(),O(45,Cn,4,0,"div",20)(46,Mn,8,1,"div",21),o(47,"div",22)(48,"div",23),O(49,On,1,0,"ion-icon",24)(50,Pn,1,0,"ion-icon",25),o(51,"span"),l(52,"Nombre completo"),c()(),o(53,"div",23),O(54,hn,1,0,"ion-icon",24)(55,xn,1,0,"ion-icon",25),o(56,"span"),l(57,"Email v\xE1lido"),c()(),O(58,yn,5,4,"div",26),o(59,"div",23),O(60,En,1,0,"ion-icon",24)(61,Tn,1,0,"ion-icon",25),o(62,"span"),l(63,"Rol seleccionado"),c()()()()()()()(),o(64,"ion-footer")(65,"ion-toolbar")(66,"div",27)(67,"button",28),_("click",function(){return n.onClose()}),l(68," Cancelar "),c(),o(69,"button",29),_("click",function(){return n.crearTecnico()}),O(70,kn,1,0,"ion-icon",30)(71,Sn,1,0,"ion-icon",31),l(72),c()()()()),t&2&&(r(4),w(n.tituloModal),r(4),w(n.subtituloModal),r(3),p("ngIf",n.error),r(10),j("ngModel",n.tecnicoData.nombre_completo),r(6),j("ngModel",n.tecnicoData.email),r(4),j("ngModel",n.tecnicoData.telefono),r(6),p("ngIf",n.loadingRoles),r(),p("ngIf",!n.loadingRoles),r(),p("ngIf",!n.loadingRoles&&n.tecnicoData.rol_id==="admin-uuid-placeholder"),r(),p("ngIf",n.tecnicoData.rol_id&&!n.loadingRoles),r(5),p("ngIf",!n.modoEdicion),r(),p("ngIf",!n.modoEdicion),r(2),z("valid",n.tecnicoData.nombre_completo.trim()),r(),p("ngIf",n.tecnicoData.nombre_completo.trim()),r(),p("ngIf",!n.tecnicoData.nombre_completo.trim()),r(3),z("valid",n.validarEmail(n.tecnicoData.email)),r(),p("ngIf",n.validarEmail(n.tecnicoData.email)),r(),p("ngIf",!n.validarEmail(n.tecnicoData.email)),r(3),p("ngIf",!n.modoEdicion),r(),z("valid",n.tecnicoData.rol_id),r(),p("ngIf",n.tecnicoData.rol_id),r(),p("ngIf",!n.tecnicoData.rol_id),r(8),p("disabled",n.loading||!n.isFormValid()),r(),p("ngIf",!n.loading),r(),p("ngIf",n.loading),r(),y(" ",n.textoBotonGuardar," "))},dependencies:[X,K,Q,ne,Ae,Z,ee,ke,je,Se,Ie,Re,ze,De,ie,Ue,Ve,te,Fe],styles:[`@charset "UTF-8";ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-color: #e5e7eb;--color: #111827}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#111827}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;margin-top:0;font-size:14px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#6b7280;display:flex;align-items:center;justify-content:center}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#111827}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}ion-content[_ngcontent-%COMP%]{--background: #fff;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}ion-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0}ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;min-height:0;height:100%}ion-content[_ngcontent-%COMP%]   .modal-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:0;height:100%;overflow:hidden}@media (max-width: 768px){ion-content[_ngcontent-%COMP%]   .modal-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto auto;height:auto;overflow:visible}}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-color: #e5e7eb}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#374151}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8fafc;border-color:#9ca3af}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;border:1px solid #2563eb;color:#fff}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8;border-color:#1d4ed8}.form-section[_ngcontent-%COMP%]{padding:24px;border-right:1px solid #e5e7eb;overflow-y:auto;height:100%;max-height:100%}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #e5e7eb;height:auto;max-height:none;overflow:visible;padding-bottom:30px}}.form-section[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f3f4f6}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;color:#374151;font-weight:600}.info-section[_ngcontent-%COMP%]{padding:24px;background-color:#f9fafb;overflow-y:auto;height:100%;max-height:100%}@media (max-width: 768px){.info-section[_ngcontent-%COMP%]{height:auto;max-height:none;overflow:visible;min-height:300px;padding-bottom:80px}}.info-section[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f3f4f6}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#374151}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.form-group.half[_ngcontent-%COMP%]{flex:1}.form-control[_ngcontent-%COMP%]{position:relative;width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;color:#111827;background-color:#fff;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 2px #2563eb1a}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;color:#6b7280;cursor:not-allowed}select.form-control[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px}select.form-control[_ngcontent-%COMP%]:disabled{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")}select.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}select.form-control[_ngcontent-%COMP%]{padding-right:40px;background-color:#fafafb;border:1px solid transparent;padding-top:10px;padding-bottom:10px;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}select.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}input.form-control[_ngcontent-%COMP%]{padding-right:40px;background-color:#fafafb;border:1px solid transparent;padding-top:10px;padding-bottom:10px;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}input.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.password-hint[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;color:#6b7280}.info-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:24px;border:1px solid #e5e7eb}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;color:#374151;font-weight:600}.info-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:12px;background-color:#eff6ff;border:1px solid #BFDBFE;border-radius:6px;margin-bottom:16px}.info-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:18px;margin-top:2px;flex-shrink:0}.info-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#1e40af;line-height:1.4}.role-info[_ngcontent-%COMP%]{margin-top:20px}.role-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-bottom:20px}.role-card[_ngcontent-%COMP%]   .role-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.role-card[_ngcontent-%COMP%]   .role-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4f46e5;font-size:20px}.role-card[_ngcontent-%COMP%]   .role-header[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827}.role-card[_ngcontent-%COMP%]   .role-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280;line-height:1.5}.role-card[_ngcontent-%COMP%]   .role-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#374151}.validation-status[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background:#f9fafb;border-radius:8px;border:1px solid #e5e7eb}.validation-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:14px;color:#6b7280}.validation-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.validation-item.valid[_ngcontent-%COMP%]{color:#059669}.validation-item.valid[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#059669}.validation-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#d1d5db}.validation-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#fef2f2;border:1px solid #FEE2E2;border-radius:8px;color:#dc2626;font-size:14px;margin-bottom:20px}.error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;flex-shrink:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-roles[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#f8fafc;border:1px solid #E2E8F0;border-radius:6px;color:#64748b;font-size:14px}.loading-roles[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4f46e5;font-size:18px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.warning-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:12px;background-color:#fef3c7;border:1px solid #F59E0B;border-radius:6px;margin-top:8px}.warning-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#d97706;font-size:18px;margin-top:2px;flex-shrink:0}.warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#92400e;line-height:1.4}@media (max-width: 768px){.modal-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto auto;height:auto;overflow:visible}.form-section[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #e5e7eb;height:auto;max-height:none;overflow:visible;padding-bottom:30px}.info-section[_ngcontent-%COMP%]{height:auto;max-height:none;overflow:visible;min-height:300px;padding-bottom:80px}.form-control[_ngcontent-%COMP%]{font-size:16px;padding:12px}textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:14px!important;padding:12px}}`]});let i=s;return i})();function In(i,s){i&1&&(o(0,"div",27)(1,"div",28),m(2,"ion-icon",29),o(3,"p"),l(4,"Cargando t\xE9cnicos..."),c()()())}function Dn(i,s){if(i&1){let a=T();o(0,"div",30)(1,"div",31),m(2,"ion-icon",32),o(3,"p"),l(4),c(),o(5,"button",33),_("click",function(){P(a);let t=u();return h(t.onReintentar())}),m(6,"ion-icon",34),l(7," Reintentar "),c()()()}if(i&2){let a=u();r(4),w(a.error)}}function zn(i,s){if(i&1){let a=T();o(0,"div",42)(1,"div",43),l(2),c(),o(3,"div",44),l(4),c(),o(5,"div",45),l(6),c(),o(7,"div",46)(8,"span",47),l(9),c()(),o(10,"div",48),l(11),ye(12,"date"),c(),o(13,"div",49)(14,"span",50),l(15),c()(),o(16,"div",51)(17,"button",52),_("click",function(){let t=P(a).$implicit,n=u(2);return h(n.abrirModalEditarTecnico(t))}),m(18,"ion-icon",53),c(),o(19,"button",54),_("click",function(){let t=P(a).$implicit,n=u(2);return h(n.toggleEstadoTecnico(t))}),m(20,"ion-icon",55),c()()()}if(i&2){let a=s.$implicit,e=u(2);J(e.getEstadoClass(a)),r(2),w(a.nombre_completo),r(2),w(a.email||"No especificado"),r(2),w(a.telefono||"No especificado"),r(2),J(e.getRolClass((a.rol==null?null:a.rol.nombre_rol)||"")),r(),y(" ",(a.rol==null?null:a.rol.nombre_rol)||"Sin rol"," "),r(2),w(Ee(12,14,a.fecha_creacion,"dd/MM/yyyy")),r(3),J(e.esTecnicoActivo(a)?"activo":"inactivo"),r(),y(" ",e.esTecnicoActivo(a)?"Activo":"Inactivo"," "),r(4),p("title",e.esTecnicoActivo(a)?"Desactivar t\xE9cnico":"Activar t\xE9cnico"),r(),p("name",e.esTecnicoActivo(a)?"pause-circle":"play-circle")}}function An(i,s){if(i&1&&(o(0,"div",35)(1,"div",36)(2,"div",1)(3,"div",37)(4,"div",38),l(5,"Nombre"),c(),o(6,"div",39),l(7,"Email"),c(),o(8,"div",39),l(9,"Tel\xE9fono"),c(),o(10,"div",39),l(11,"Rol"),c(),o(12,"div",39),l(13,"Fecha Creaci\xF3n"),c(),o(14,"div",39),l(15,"Activo"),c(),o(16,"div",38),l(17,"Acciones"),c()()(),o(18,"div",40),O(19,zn,21,17,"div",41),c()()()),i&2){let a=u();r(19),p("ngForOf",a.tecnicos)}}function jn(i,s){if(i&1){let a=T();o(0,"button",61),_("click",function(){let t=P(a).$implicit,n=u(2);return h(n.cambiarPagina(t))}),l(1),c()}if(i&2){let a=s.$implicit,e=u(2);z("active",a===e.paginaActual),r(),y(" ",a," ")}}function Rn(i,s){if(i&1){let a=T();o(0,"div",56)(1,"div",57),l(2),c(),o(3,"div",58)(4,"button",59),_("click",function(){P(a);let t=u();return h(t.cambiarPagina(t.paginaActual-1))}),l(5," Anterior "),c(),O(6,jn,2,3,"button",60),o(7,"button",59),_("click",function(){P(a);let t=u();return h(t.cambiarPagina(t.paginaActual+1))}),l(8," Siguiente "),c()()()}if(i&2){let a=u();r(2),we(" Mostrando ",(a.paginaActual-1)*a.porPagina+1," - ",a.Math.min(a.paginaActual*a.porPagina,a.totalTecnicos)," de ",a.totalTecnicos," t\xE9cnicos "),r(2),p("disabled",a.paginaActual===1),r(2),p("ngForOf",a.getPaginas()),r(),p("disabled",a.paginaActual===a.getTotalPaginas())}}function Fn(i,s){if(i&1){let a=T();o(0,"div",62)(1,"div",63),m(2,"ion-icon",64),o(3,"h3"),l(4,"No hay t\xE9cnicos"),c(),o(5,"p"),l(6,"A\xFAn no se han creado t\xE9cnicos. Crea el primero para comenzar."),c(),o(7,"button",65),_("click",function(){P(a);let t=u();return h(t.abrirModalCrearTecnico())}),m(8,"ion-icon",18),l(9," Crear t\xE9cnico "),c()()()}}var st=(()=>{let s=class s{constructor(e,t){this.modalController=e,this.tecnicosService=t,this.tecnicos=[],this.loading=!1,this.error="",this.busqueda="",this.paginaActual=1,this.porPagina=10,this.totalTecnicos=0,this.ordenarPor="fecha_creacion",this.orden="desc",this.destroy$=new U,V({searchOutline:en,filterOutline:Je,addCircle:$e,refreshOutline:$,alertCircleOutline:q,peopleOutline:Xe,eyeOutline:He,constructOutline:Ge,alertCircle:Le,close:Ye,add:Ne,addCircleOutline:We,callOutline:B,mailOutline:N,locationOutline:Ke,pauseCircle:Qe,playCircle:Ze})}ngOnInit(){this.cargarTecnicos(),this.setupBusqueda()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupBusqueda(){let e=new U;e.pipe(E(this.destroy$),he(300),xe()).subscribe(n=>{this.busqueda=n,this.paginaActual=1,this.cargarTecnicos()});let t=document.querySelector('input[placeholder*="Buscar"]');t&&t.addEventListener("input",n=>{let d=n.target;e.next(d.value)})}cargarTecnicos(){this.loading=!0,this.error="",this.tecnicosService.getTecnicos(this.paginaActual,this.porPagina,this.busqueda,this.ordenarPor,this.orden).pipe(E(this.destroy$)).subscribe({next:e=>{this.tecnicos=e.tecnicos,this.totalTecnicos=e.total,this.loading=!1},error:e=>{console.error("Error al cargar t\xE9cnicos:",e),this.error="Error al cargar los t\xE9cnicos. Por favor, intenta de nuevo.",this.loading=!1}})}abrirModalCrearTecnico(){return x(this,null,function*(){let e=yield this.modalController.create({component:be,componentProps:{tecnico:null,modo:"crear"}});yield e.present();let{data:t,role:n}=yield e.onWillDismiss();n==="confirm"&&t&&(console.log("\u2705 T\xE9cnico creado desde modal, recargando lista..."),this.cargarTecnicos())})}abrirModalEditarTecnico(e){return x(this,null,function*(){let t=yield this.modalController.create({component:be,componentProps:{tecnico:e,modo:"editar"}});yield t.present();let{data:n,role:d}=yield t.onWillDismiss();d==="confirm"&&n&&(console.log("\u2705 T\xE9cnico actualizado desde modal, recargando lista..."),this.cargarTecnicos())})}crearTecnico(e){this.loading=!0,this.error="",this.tecnicosService.crearTecnico(e).pipe(E(this.destroy$)).subscribe({next:t=>{console.log("\u2705 T\xE9cnico creado exitosamente desde componente padre:",t),this.cargarTecnicos(),this.loading=!1},error:t=>{console.error("\u274C Error al crear t\xE9cnico desde componente padre:",t),this.error="Error al crear el t\xE9cnico. Por favor, intenta de nuevo.",this.loading=!1}})}toggleEstadoTecnico(e){if(!e.id)return;let t=e.es_activo?"desactivar":"activar";this.loading=!0,this.error="",(e.es_activo?this.tecnicosService.desactivarTecnico(e.id):this.tecnicosService.activarTecnico(e.id)).pipe(E(this.destroy$)).subscribe({next:()=>{console.log(`T\xE9cnico ${t}do exitosamente`),this.cargarTecnicos(),this.loading=!1},error:d=>{console.error(`Error al ${t} t\xE9cnico:`,d),this.error=`Error al ${t} el t\xE9cnico. Por favor, intenta de nuevo.`,this.loading=!1}})}onBusquedaChange(e){let t=e.target.value;this.busqueda=t,this.paginaActual=1,this.cargarTecnicos()}onOrdenarChange(e){let t=e.target.value;this.ordenarPor=t,this.cargarTecnicos()}onFiltrarTodos(){this.busqueda="",this.paginaActual=1,this.cargarTecnicos()}onReintentar(){this.cargarTecnicos()}cambiarPagina(e){this.paginaActual=e,this.cargarTecnicos()}getTotalPaginas(){return Math.ceil(this.totalTecnicos/this.porPagina)}getPaginas(){let e=this.getTotalPaginas(),t=[];for(let n=1;n<=e;n++)t.push(n);return t}esTecnicoActivo(e){var t;return e.es_activo&&((t=e.rol)==null?void 0:t.nombre_rol)!=="Administrador"}getRolClass(e){switch(e){case"Administrador":return"rol-admin";case"T\xE9cnico":return"rol-tecnico";case"Usuario":return"rol-usuario";default:return"rol-default"}}getEstadoClass(e){return this.esTecnicoActivo(e)?"activo":"inactivo"}get Math(){return Math}};s.\u0275fac=function(t){return new(t||s)(D(oe),D(ce))},s.\u0275cmp=H({type:s,selectors:[["app-tecnicos"]],decls:43,vars:11,consts:[[1,"dashboard-table"],[1,"table-header"],[1,"table-header-left"],[1,"table-title"],[1,"table-meta"],[1,"mobile-search"],["type","text","placeholder","Buscar t\xE9cnico...",3,"input","value"],["name","search-outline"],[1,"table-search","desktop-only"],["type","text","placeholder","Buscar...",3,"input","value"],[3,"change","value"],["value","nombre_completo"],["value","fecha_creacion"],["value","rol_id"],[1,"btn-filter",3,"click","title"],["name","filter-outline"],[1,"header-actions"],[1,"btn-add",3,"click"],["name","add-circle"],[1,"mobile-actions"],[1,"mobile-filter",3,"change","value"],[1,"mobile-buttons"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","compact-tecnicos-table",4,"ngIf"],["class","table-pagination",4,"ngIf"],["class","no-data-container",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"error-state"],[1,"error-message"],["name","alert-circle-outline"],[1,"btn-retry",3,"click"],["name","refresh-outline"],[1,"compact-tecnicos-table"],[1,"tecnicos-table"],[1,"header-row"],[1,"header-cell"],[1,"header-cell","desktop-only"],[1,"table-body"],["class","tecnico-row",3,"class",4,"ngFor","ngForOf"],[1,"tecnico-row"],[1,"tecnico-cell","nombre-tecnico"],[1,"tecnico-cell","email-tecnico","desktop-only"],[1,"tecnico-cell","telefono-tecnico","desktop-only"],[1,"tecnico-cell","rol-tecnico","desktop-only"],[1,"badge-rol"],[1,"tecnico-cell","fecha-tecnico","desktop-only"],[1,"tecnico-cell","estado-activo","desktop-only"],[1,"badge-estado"],[1,"tecnico-cell","acciones"],["title","Ver detalles",1,"btn-ver",3,"click"],["name","eye-outline"],[1,"btn-toggle-estado",3,"click","title"],[3,"name"],[1,"table-pagination"],[1,"pagination-info"],[1,"pagination"],[3,"click","disabled"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"no-data-container"],[1,"no-data-message"],["name","construct-outline"],[1,"btn-create",3,"click"]],template:function(t,n){t&1&&(o(0,"ion-content")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3),l(5,"Tabla de t\xE9cnicos"),c(),o(6,"div",4),l(7),c()(),o(8,"div",5)(9,"input",6),_("input",function(g){return n.onBusquedaChange(g)}),c(),m(10,"ion-icon",7),c(),o(11,"div",8)(12,"input",9),_("input",function(g){return n.onBusquedaChange(g)}),c(),o(13,"select",10),_("change",function(g){return n.onOrdenarChange(g)}),o(14,"option",11),l(15,"Ordenar por: Nombre"),c(),o(16,"option",12),l(17,"Ordenar por: Recientes"),c(),o(18,"option",13),l(19,"Ordenar por: Rol"),c()(),o(20,"button",14),_("click",function(){return n.onFiltrarTodos()}),m(21,"ion-icon",15),l(22," Todos "),c(),o(23,"div",16)(24,"button",17),_("click",function(){return n.abrirModalCrearTecnico()}),m(25,"ion-icon",18),l(26," A\xF1adir t\xE9cnico "),c()()()(),o(27,"div",19)(28,"select",20),_("change",function(g){return n.onOrdenarChange(g)}),o(29,"option",11),l(30,"Ordenar: Alfab\xE9tico"),c(),o(31,"option",12),l(32,"Ordenar: Recientes"),c(),o(33,"option",13),l(34,"Ordenar: Rol"),c()(),o(35,"div",21)(36,"button",17),_("click",function(){return n.abrirModalCrearTecnico()}),m(37,"ion-icon",18),c()()(),O(38,In,5,0,"div",22)(39,Dn,8,1,"div",23)(40,An,20,1,"div",24)(41,Rn,9,6,"div",25)(42,Fn,10,0,"div",26),c()()),t&2&&(r(7),y("T\xE9cnicos: ",n.totalTecnicos,""),r(2),p("value",n.busqueda),r(3),p("value",n.busqueda),r(),p("value",n.ordenarPor),r(7),p("title","Mostrar todos los t\xE9cnicos"),r(8),p("value",n.ordenarPor),r(10),p("ngIf",n.loading),r(),p("ngIf",n.error&&!n.loading),r(),p("ngIf",!n.loading&&!n.error&&n.tecnicos.length>0),r(),p("ngIf",!n.loading&&!n.error&&n.tecnicos.length>0),r(),p("ngIf",!n.loading&&!n.error&&n.tecnicos.length===0))},dependencies:[X,K,Q,Te,ne,Z,ee,te,ie,tn,on],styles:[`ion-content[_ngcontent-%COMP%]{--background: #FFF}.dashboard-table[_ngcontent-%COMP%]{background:#fff;padding:25px}.table-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;flex-wrap:wrap;gap:16px}.table-title[_ngcontent-%COMP%]{font-size:18px;color:#26262a;font-weight:500}.table-meta[_ngcontent-%COMP%]{color:#4f46e5;font-size:14px}.table-search[_ngcontent-%COMP%]{display:flex;gap:20px}.table-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;border:none;background:#f9fbff;color:#26262a}.table-search[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;background:#f9fbff;border:none;color:#26262a}.table-search[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:7px 14px;border-radius:8px;font-size:1rem;border:1px solid #E2E8F0;background:#f9fbff;color:#26262a;cursor:pointer;transition:all .2s ease}.table-search[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.table-search[_ngcontent-%COMP%]   .btn-filter.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border-color:#4f46e5}.table-search[_ngcontent-%COMP%]   .btn-filter.active[_ngcontent-%COMP%]:hover{background:#4338ca}.table-search[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.mobile-search[_ngcontent-%COMP%]{display:none;position:relative;width:100%;padding:0 16px}.mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 40px 8px 16px;border-radius:8px;border:1px solid #e2e8f0;font-size:14px;background:#fff}.mobile-search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;right:26px;top:50%;transform:translateY(-50%);font-size:18px;color:#64748b}.mobile-actions[_ngcontent-%COMP%]{display:none;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 16px;border-radius:12px;border:1px solid #E2E8F0;background:#f8fafc;font-size:14px;color:#475569;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:#cbd5e1;background-color:#fff}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:none}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:40px}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#4f46e5}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:40px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;text-align:center;color:#dc2626}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;border:none;border-radius:8px;background:#dc2626;color:#fff;font-size:14px;cursor:pointer;transition:all .2s ease}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:#b91c1c}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.table-header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex-shrink:0}.table-pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:16px;flex-wrap:wrap;gap:12px}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;gap:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f3f4f6;min-width:32px;height:32px;border:none;border-radius:6px;padding:4px 8px;font-size:14px;color:#26262a;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn-add[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;font-size:14px;font-weight:500;transition:all .2s ease;white-space:nowrap;cursor:pointer;border:none;min-height:42px;background-color:#4f46e5;color:#fff;box-shadow:0 1px 2px #4f46e51a}.btn-add[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-add[_ngcontent-%COMP%]:hover{background-color:#4338ca;box-shadow:0 2px 4px #4f46e533}.btn-add[_ngcontent-%COMP%]:active{transform:scale(.98)}.compact-tecnicos-table[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto;border-radius:8px;border:1px solid #E5E7EB;background:#fff;margin-bottom:16px;max-width:100%;overflow-x:auto}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 80px;font-size:12px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:contents}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{padding:12px 8px;background:#f9fafb;border-bottom:1px solid #E5E7EB;font-weight:500;color:#374151;font-size:12px;text-transform:uppercase;letter-spacing:.5px;display:flex;align-items:center;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{display:contents}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]{display:contents;cursor:pointer;transition:all .2s ease;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]:hover:not(.activo):not(.inactivo)   .tecnico-cell[_ngcontent-%COMP%]{background-color:#f9fafb}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]:active{transform:scale(.98)}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.activo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #10B981}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.activo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{background-color:#ecfdf5}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.activo[_ngcontent-%COMP%]:hover   .tecnico-cell[_ngcontent-%COMP%]{background-color:#d1fae5}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.inactivo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #EF4444}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.inactivo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{background-color:#fef2f2}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.inactivo[_ngcontent-%COMP%]:hover   .tecnico-cell[_ngcontent-%COMP%]{background-color:#fee2e2}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #F3F4F6;display:flex;align-items:center;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:14px;justify-content:start;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.email-tecnico[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.telefono-tecnico[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]{justify-content:start;font-size:11px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol[_ngcontent-%COMP%]{padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap;max-width:80px;overflow:hidden;text-overflow:ellipsis}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-admin[_ngcontent-%COMP%]{background:#fee4e2;color:#d92d20}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-tecnico[_ngcontent-%COMP%]{background:#e6f4ea;color:#137333}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-usuario[_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-default[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.fecha-tecnico[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]{justify-content:start;font-size:11px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]   .badge-estado[_ngcontent-%COMP%]{padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap;max-width:80px;overflow:hidden;text-overflow:ellipsis}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]   .badge-estado.activo[_ngcontent-%COMP%]{background:#e6f4ea;color:#137333}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]   .badge-estado.inactivo[_ngcontent-%COMP%]{background:#fee4e2;color:#d92d20}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]{justify-content:start;gap:4px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;background:transparent;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#6b7280}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#10b981}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#059669}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-toggle-estado[_ngcontent-%COMP%]:hover   ion-icon[name=pause-circle][_ngcontent-%COMP%]{color:#dc2626}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-toggle-estado[_ngcontent-%COMP%]:hover   ion-icon[name=play-circle][_ngcontent-%COMP%]{color:#059669}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-toggle-estado[_ngcontent-%COMP%]:active{transform:scale(.9)}@media (min-width: 769px){.compact-tecnicos-table[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]{grid-template-columns:2fr 180px 140px 120px 140px 80px 120px;font-size:13px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:12px;padding:12px 8px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:12px 8px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.email-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.telefono-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.fecha-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]{flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 768px){.dashboard-table[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-search[_ngcontent-%COMP%], .mobile-actions[_ngcontent-%COMP%]{display:flex}.table-header[_ngcontent-%COMP%]{margin-bottom:12px;align-items:center;gap:12px}.table-header-left[_ngcontent-%COMP%]{flex:1;padding:0 16px}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{width:100%;justify-content:center}.compact-tecnicos-table[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none;max-height:none}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:11px;padding:8px 4px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:8px 4px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-size:13px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.dashboard-table[_ngcontent-%COMP%]{height:100%;padding:0}.mobile-actions[_ngcontent-%COMP%]{gap:12px;padding:0 16px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;width:20%;justify-content:stretch}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.compact-tecnicos-table[_ngcontent-%COMP%]{border-radius:0!important;border-left:none!important;border-right:none!important}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]{grid-template-columns:1fr 70px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:10px;padding:6px 2px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:6px 2px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-size:12px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:22px;height:22px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-only[_ngcontent-%COMP%]{display:flex!important}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.no-data-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;background:#fff;border-radius:16px;border:1px solid #E2E8F0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:400px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#acacac;margin-bottom:16px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:20px;margin:0 0 8px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0 0 24px;line-height:1.5}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin:0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:active{transform:translateY(0)}`]});let i=s;return i})();export{st as TecnicosComponent};
