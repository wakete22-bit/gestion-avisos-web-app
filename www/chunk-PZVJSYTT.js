import{a as J,b as cn}from"./chunk-DMAQUFXH.js";import{a as He}from"./chunk-N4FKO75N.js";import{b as an,c as rn}from"./chunk-KKI4SKNS.js";import{$ as be,C as Ge,E as ue,Ea as G,Ga as he,H as Je,Ha as on,Ma as Me,Q as _e,U as Qe,V as Xe,a as L,b as Le,ba as Ze,c as We,ca as fe,d as Ke,e as Ye,f as W,ha as Y,pa as en,s as K,sa as nn,va as Ce,w as me,ya as tn}from"./chunk-CPCGS7XX.js";import"./chunk-7FW4253V.js";import{a as le}from"./chunk-ZLE3SS2Y.js";import{h as ce,i as Ve,j as qe,r as Be,s as ae,w as re}from"./chunk-7RXHQH5K.js";import"./chunk-NZA4P4NM.js";import{a as T,b as Ne}from"./chunk-ZFUZ5UD4.js";import{$a as ee,Ca as s,Da as D,E as Te,Ea as I,Ga as Ee,H as pe,Ha as V,Ia as q,Ja as B,L as w,M as y,Ra as Se,Ta as ke,X as l,Y as R,_ as Q,_a as Z,c as N,ca as M,cb as De,cc as Ie,d as xe,f as P,fb as ne,fc as ze,g as ve,gc as Re,h as we,ha as m,ic as Ae,j as S,ja as U,ka as X,kc as je,la as o,lc as Fe,ma as c,na as b,r as F,ra as A,rc as Ue,s as ye,sa as C,sc as te,ta as h,tc as oe,u as H,wc as $e,z as v,zc as ie}from"./chunk-QQQKELKR.js";import"./chunk-FMBN6UXO.js";import"./chunk-QUJFQN2Y.js";import"./chunk-T4LV2MRW.js";import"./chunk-QZ7DKK3O.js";import"./chunk-7NXYYB6M.js";import"./chunk-G2E2NLL6.js";import"./chunk-HZSDEEV2.js";import"./chunk-AO65UGJX.js";import"./chunk-MYMWTHTI.js";import"./chunk-YNWT2DLU.js";import"./chunk-ULLEADC5.js";import"./chunk-2ELISCRH.js";import"./chunk-BV4CTHEE.js";import"./chunk-XPQFWPU3.js";import"./chunk-6SS6CZRK.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-CGQGPWKF.js";import"./chunk-CKP3SGE2.js";import"./chunk-FAIKFHLE.js";import"./chunk-NBD2MYJO.js";import"./chunk-3SBX7V6R.js";import"./chunk-SQKDQBOS.js";import"./chunk-SWRJZAEI.js";import"./chunk-JCSW2JUV.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-36KMLI7A.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as de,b as ge,k as O}from"./chunk-CRC5ZNR6.js";var se=(()=>{let g=class g{constructor(e,t){this.supabaseClientService=e,this.dataUpdateService=t,this.tecnicosSubject=new xe([]),this.tecnicos$=this.tecnicosSubject.asObservable()}getSupabaseClient(){return console.log("\u{1F527} TecnicosService: Obteniendo cliente Supabase actualizado..."),this.supabaseClientService.getClient()}getTecnicos(e=1,t=10,n,r,d,u=!1){let p=this.getSupabaseClient().from("usuarios").select(`
        *,
        rol:roles(*)
      `,{count:"exact"});n&&(p=p.or(`nombre_completo.ilike.%${n}%,email.ilike.%${n}%`)),u&&(p=p.eq("es_activo",!0));let _=(e-1)*t;return p=p.range(_,_+t-1).order(r||"fecha_creacion",{ascending:d==="asc"}),P(p).pipe(S(({data:f,error:k,count:z})=>{if(k)throw k;let E=f;return this.tecnicosSubject.next(E),{tecnicos:E,total:z||0,pagina:e,por_pagina:t}}),F(f=>{throw console.error("Error al obtener t\xE9cnicos:",f),f}))}getTecnicosDirect(e=1,t=10,n,r,d,u=!1){return console.log("\u{1F680} TecnicosService: Usando FETCH DIRECTO para t\xE9cnicos..."),P(this.fetchTecnicosDirect(e,t,n,r,d,u)).pipe(S(p=>(console.log("\u2705 TecnicosService: FETCH DIRECTO completado, t\xE9cnicos:",p.tecnicos.length),this.tecnicosSubject.next(p.tecnicos),p)),F(p=>{throw console.error("\u274C TecnicosService: Error en FETCH DIRECTO:",p),p}))}fetchTecnicosDirect(e=1,t=10,n,r,d,u=!1){return O(this,null,function*(){console.log("\u{1F680} TecnicosService: Ejecutando fetch directo para t\xE9cnicos...");try{let p=`${T.supabaseUrl}/rest/v1/usuarios?select=*,rol:roles(*)`,_=[];n&&_.push(`or=(nombre_completo.ilike.*${n}*,email.ilike.*${n}*)`),u&&_.push("es_activo=eq.true"),_.length>0&&(p+="&"+_.join("&"));let f=(e-1)*t;p+=`&limit=${t}&offset=${f}`,p+=`&order=${r||"fecha_creacion"}.${d==="asc"?"asc":"desc"}`;let k={apikey:T.supabaseServiceKey,Authorization:`Bearer ${T.supabaseServiceKey}`,"Content-Type":"application/json",Prefer:"count=exact"};console.log("\u{1F680} URL construida:",p);let z=Date.now(),E=yield fetch(p,{method:"GET",headers:k}),$=Date.now()-z;if(console.log("\u{1F680} Fetch completado en",$,"ms"),console.log("\u{1F680} Status:",E.status),!E.ok){let dn=yield E.text();throw console.error("\u{1F680} Error response body:",dn),new Error(`HTTP ${E.status}: ${E.statusText}`)}let x=yield E.json(),j=E.headers.get("content-range"),Pe=j?parseInt(j.split("/")[1]):x.length;return console.log("\u{1F680} Datos recibidos:",(x==null?void 0:x.length)||0,"t\xE9cnicos, total:",Pe),{tecnicos:x,total:Pe,pagina:e,por_pagina:t}}catch(p){throw console.error("\u{1F680} Error en fetch directo:",p),p}})}getTecnico(e){return P(this.getSupabaseClient().from("usuarios").select(`
          *,
          rol:roles(*)
        `).eq("id",e).single()).pipe(S(({data:t,error:n})=>{if(n)throw n;return t}))}crearTecnico(e){return this.validarDatosTecnico(e)?(console.log("\u{1F527} Iniciando creaci\xF3n de t\xE9cnico:",{email:e.email,nombre:e.nombre_completo,rol_id:e.rol_id}),P(this.crearTecnicoConAuth(e)).pipe(S(({data:t,error:n})=>{var u,p,_,f,k,z;if(n)throw console.error("\u274C Error en crearTecnico:",n),(u=n.message)!=null&&u.includes("Ya existe un usuario con este email")?new Error("Ya existe un usuario con este email"):n.code==="23505"?new Error("El usuario ya existe en el sistema"):(p=n.message)!=null&&p.includes("Invalid login credentials")?new Error("Credenciales inv\xE1lidas. Verifica el email y contrase\xF1a."):(_=n.message)!=null&&_.includes("Password should be at least 6 characters")?new Error("La contrase\xF1a debe tener al menos 6 caracteres"):(f=n.message)!=null&&f.includes("Unable to validate email address")?new Error("El formato del email no es v\xE1lido"):(k=n.message)!=null&&k.includes("Email not confirmed")?new Error("El email necesita ser confirmado"):(z=n.message)!=null&&z.includes("signup_disabled")?new Error("El registro de nuevos usuarios est\xE1 deshabilitado"):n;if(!t)throw new Error("No se pudo crear el t\xE9cnico - respuesta vac\xEDa");console.log("\u2705 T\xE9cnico creado exitosamente:",t);let r=t,d=this.tecnicosSubject.value;return this.tecnicosSubject.next([r,...d]),this.dataUpdateService.notifyCreated("tecnicos"),r}),F(t=>{throw console.error("\u274C Error final en crearTecnico:",t),t}))):e.id?(console.log("\u{1F527} T\xE9cnico ya existe, retornando datos existentes"),ve(e)):we(()=>new Error("Datos del t\xE9cnico no v\xE1lidos"))}validarDatosTecnico(e){var n,r,d,u;return e.id?(console.log("\u2705 T\xE9cnico ya creado, saltando validaci\xF3n de creaci\xF3n"),!1):(n=e.nombre_completo)!=null&&n.trim()?(r=e.email)!=null&&r.trim()?(d=e.password)!=null&&d.trim()?e.password.length<6?(console.error("\u274C Validaci\xF3n fallida: password debe tener al menos 6 caracteres"),!1):(u=e.rol_id)!=null&&u.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?(console.log("\u2705 Validaci\xF3n de datos exitosa"),!0):(console.error("\u274C Validaci\xF3n fallida: formato de email inv\xE1lido"),!1):(console.error("\u274C Validaci\xF3n fallida: rol_id requerido"),!1):(console.error("\u274C Validaci\xF3n fallida: password requerido"),!1):(console.error("\u274C Validaci\xF3n fallida: email requerido"),!1):(console.error("\u274C Validaci\xF3n fallida: nombre_completo requerido"),!1)}crearTecnicoConAuth(e){return O(this,null,function*(){try{console.log("\u{1F527} Paso 1: Verificando usuario existente...");let{data:n,error:r}=yield this.getSupabaseClient().from("usuarios").select("id, email").eq("email",e.email).maybeSingle();if(r&&r.code!=="PGRST116")return console.error("\u274C Error al verificar usuario existente:",r),{data:null,error:r};if(n)return console.warn("\u26A0\uFE0F Usuario ya existe:",n),{data:null,error:new Error("Ya existe un usuario con este email")};console.log("\u{1F527} Paso 2: Creando usuario en Supabase Auth...");let{data:d,error:u}=yield this.getSupabaseClient().auth.signUp({email:e.email,password:e.password,options:{data:{nombre_completo:e.nombre_completo,telefono:e.telefono||null}}});return u?(console.error("\u274C Error al crear usuario en Auth:",u),{data:null,error:u}):d.user?(console.log("\u2705 Usuario creado en Auth:",{id:d.user.id,email:d.user.email}),yield this.crearUsuarioEnBD(d.user.id,e)):(console.error("\u274C No se recibi\xF3 usuario de Auth"),{data:null,error:new Error("No se pudo crear el usuario en Auth")})}catch(n){return console.error("\u274C Error general en crearTecnicoConAuth:",n),{data:null,error:n}}})}crearUsuarioEnBD(e,t){return O(this,null,function*(){var u,p;console.log("\u{1F527} Paso 3: Creando usuario en base de datos...");let n=5,r=1500,d=null;for(let _=1;_<=n;_++)try{if(console.log(`\u{1F527} Intento ${_}/${n}: Creando usuario en BD...`),_>1){let x=r*_;console.log(`\u23F1\uFE0F Esperando ${x}ms antes del intento...`),yield new Promise(j=>setTimeout(j,x))}let{data:f,error:k}=yield this.getSupabaseClient().from("usuarios").select(`
            *,
            rol:roles(*)
          `).eq("id",e).maybeSingle();if(f){if(console.log("\u2705 Usuario ya existe en BD:",f),f.rol_id!==t.rol_id){console.log("\u{1F527} Actualizando rol del usuario existente...");let{data:x,error:j}=yield this.getSupabaseClient().from("usuarios").update({rol_id:t.rol_id,nombre_completo:t.nombre_completo,telefono:t.telefono,fecha_actualizacion:new Date().toISOString()}).eq("id",e).select(`
                *,
                rol:roles(*)
              `).single();return j?(console.warn("\u26A0\uFE0F Error al actualizar usuario, usando datos existentes:",j),{data:f,error:null}):(console.log("\u2705 Usuario actualizado exitosamente"),{data:x,error:null})}return{data:f,error:null}}let z={id:e,nombre_completo:t.nombre_completo.trim(),email:t.email.trim().toLowerCase(),telefono:((u=t.telefono)==null?void 0:u.trim())||null,rol_id:t.rol_id,es_activo:(p=t.es_activo)!=null?p:!0,fecha_creacion:new Date().toISOString()};console.log("\u{1F527} Insertando usuario con datos:",z);let{data:E,error:$}=yield this.getSupabaseClient().from("usuarios").insert([z]).select(`
            *,
            rol:roles(*)
          `).single();if($){if(d=$,console.error(`\u274C Error en intento ${_}:`,$),$.code==="23505"){console.log("\u{1F527} Detectado duplicado, intentando obtener usuario existente...");let{data:x}=yield this.getSupabaseClient().from("usuarios").select(`
                *,
                rol:roles(*)
              `).eq("id",e).single();if(x)return console.log("\u2705 Usuario duplicado encontrado"),{data:x,error:null}}if(_===n)break;continue}return console.log("\u2705 Usuario creado exitosamente en BD"),{data:E,error:null}}catch(f){if(d=f,console.error(`\u274C Excepci\xF3n en intento ${_}:`,f),_===n)break;continue}console.log("\u{1F527} \xDAltimo intento: buscando usuario existente...");try{let{data:_,error:f}=yield this.getSupabaseClient().from("usuarios").select(`
          *,
          rol:roles(*)
        `).eq("id",e).single();if(_)return console.log("\u2705 Usuario encontrado en b\xFAsqueda final"),{data:_,error:null}}catch(_){console.error("\u274C Error en b\xFAsqueda final:",_)}return console.error("\u274C Todos los intentos fallaron"),{data:null,error:d||new Error("Error desconocido al crear usuario")}})}actualizarTecnico(e,t){let n=ge(de({},t),{fecha_actualizacion:new Date().toISOString()});return P(this.getSupabaseClient().from("usuarios").update(n).eq("id",e).select(`
          *,
          rol:roles(*)
        `).single()).pipe(S(({data:r,error:d})=>{if(d)throw d;let u=r,p=this.tecnicosSubject.value,_=p.findIndex(f=>f.id===e);return _!==-1&&(p[_]=u,this.tecnicosSubject.next([...p])),this.dataUpdateService.notifyUpdated("tecnicos"),u}))}actualizarTecnicoDirect(e,t){return console.log("\u{1F680} TecnicosService: Usando FETCH DIRECTO para actualizar t\xE9cnico..."),P(this.fetchActualizarTecnicoDirect(e,t)).pipe(S(n=>{console.log("\u2705 TecnicosService: FETCH DIRECTO completado, t\xE9cnico actualizado:",n.id);let r=this.tecnicosSubject.value,d=r.findIndex(u=>u.id===e);return d!==-1&&(r[d]=n,this.tecnicosSubject.next([...r])),this.dataUpdateService.notifyUpdated("tecnicos"),n}),F(n=>{throw console.error("\u274C TecnicosService: Error en FETCH DIRECTO:",n),n}))}fetchActualizarTecnicoDirect(e,t){return O(this,null,function*(){console.log("\u{1F680} TecnicosService: Ejecutando fetch directo para actualizar t\xE9cnico:",e);try{let n=ge(de({},t),{fecha_actualizacion:new Date().toISOString()}),r=`${T.supabaseUrl}/rest/v1/usuarios?id=eq.${e}`,d={apikey:T.supabaseServiceKey,Authorization:`Bearer ${T.supabaseServiceKey}`,"Content-Type":"application/json",Prefer:"return=representation"};console.log("\u{1F680} URL construida:",r),console.log("\u{1F680} Datos a actualizar:",n);let u=Date.now(),p=yield fetch(r,{method:"PATCH",headers:d,body:JSON.stringify(n)}),_=Date.now()-u;if(console.log("\u{1F680} Fetch completado en",_,"ms"),console.log("\u{1F680} Status:",p.status),!p.ok){let k=yield p.text();throw console.error("\u{1F680} Error response body:",k),new Error(`HTTP ${p.status}: ${p.statusText}`)}let f=yield p.json();if(console.log("\u{1F680} Datos recibidos:",(f==null?void 0:f.length)||0,"t\xE9cnicos actualizados"),!f||f.length===0)throw new Error("T\xE9cnico no encontrado");return f[0]}catch(n){throw console.error("\u{1F680} Error en fetch directo:",n),n}})}desactivarTecnico(e){return P(this.getSupabaseClient().from("usuarios").update({es_activo:!1,fecha_actualizacion:new Date().toISOString()}).eq("id",e)).pipe(S(({error:t})=>{if(t)throw t;let n=this.tecnicosSubject.value,r=n.findIndex(d=>d.id===e);r!==-1&&(n[r].es_activo=!1,this.tecnicosSubject.next([...n])),this.dataUpdateService.notifyUpdated("tecnicos")}))}desactivarTecnicoDirect(e){return console.log("\u{1F680} TecnicosService: Usando FETCH DIRECTO para desactivar t\xE9cnico..."),P(this.fetchDesactivarTecnicoDirect(e)).pipe(S(()=>{console.log("\u2705 TecnicosService: FETCH DIRECTO completado, t\xE9cnico desactivado:",e);let t=this.tecnicosSubject.value,n=t.findIndex(r=>r.id===e);n!==-1&&(t[n].es_activo=!1,this.tecnicosSubject.next([...t])),this.dataUpdateService.notifyUpdated("tecnicos")}),F(t=>{throw console.error("\u274C TecnicosService: Error en FETCH DIRECTO:",t),t}))}fetchDesactivarTecnicoDirect(e){return O(this,null,function*(){console.log("\u{1F680} TecnicosService: Ejecutando fetch directo para desactivar t\xE9cnico:",e);try{let t={es_activo:!1,fecha_actualizacion:new Date().toISOString()},n=`${T.supabaseUrl}/rest/v1/usuarios?id=eq.${e}`,r={apikey:T.supabaseServiceKey,Authorization:`Bearer ${T.supabaseServiceKey}`,"Content-Type":"application/json"};console.log("\u{1F680} URL construida:",n),console.log("\u{1F680} Datos a actualizar:",t);let d=Date.now(),u=yield fetch(n,{method:"PATCH",headers:r,body:JSON.stringify(t)}),p=Date.now()-d;if(console.log("\u{1F680} Fetch completado en",p,"ms"),console.log("\u{1F680} Status:",u.status),!u.ok){let _=yield u.text();throw console.error("\u{1F680} Error response body:",_),new Error(`HTTP ${u.status}: ${u.statusText}`)}console.log("\u2705 T\xE9cnico desactivado exitosamente")}catch(t){throw console.error("\u{1F680} Error en fetch directo:",t),t}})}activarTecnico(e){return P(this.getSupabaseClient().from("usuarios").update({es_activo:!0,fecha_actualizacion:new Date().toISOString()}).eq("id",e)).pipe(S(({error:t})=>{if(t)throw t;let n=this.tecnicosSubject.value,r=n.findIndex(d=>d.id===e);r!==-1&&(n[r].es_activo=!0,this.tecnicosSubject.next([...n])),this.dataUpdateService.notifyUpdated("tecnicos")}))}activarTecnicoDirect(e){return console.log("\u{1F680} TecnicosService: Usando FETCH DIRECTO para activar t\xE9cnico..."),P(this.fetchActivarTecnicoDirect(e)).pipe(S(()=>{console.log("\u2705 TecnicosService: FETCH DIRECTO completado, t\xE9cnico activado:",e);let t=this.tecnicosSubject.value,n=t.findIndex(r=>r.id===e);n!==-1&&(t[n].es_activo=!0,this.tecnicosSubject.next([...t])),this.dataUpdateService.notifyUpdated("tecnicos")}),F(t=>{throw console.error("\u274C TecnicosService: Error en FETCH DIRECTO:",t),t}))}fetchActivarTecnicoDirect(e){return O(this,null,function*(){console.log("\u{1F680} TecnicosService: Ejecutando fetch directo para activar t\xE9cnico:",e);try{let t={es_activo:!0,fecha_actualizacion:new Date().toISOString()},n=`${T.supabaseUrl}/rest/v1/usuarios?id=eq.${e}`,r={apikey:T.supabaseServiceKey,Authorization:`Bearer ${T.supabaseServiceKey}`,"Content-Type":"application/json"};console.log("\u{1F680} URL construida:",n),console.log("\u{1F680} Datos a actualizar:",t);let d=Date.now(),u=yield fetch(n,{method:"PATCH",headers:r,body:JSON.stringify(t)}),p=Date.now()-d;if(console.log("\u{1F680} Fetch completado en",p,"ms"),console.log("\u{1F680} Status:",u.status),!u.ok){let _=yield u.text();throw console.error("\u{1F680} Error response body:",_),new Error(`HTTP ${u.status}: ${u.statusText}`)}console.log("\u2705 T\xE9cnico activado exitosamente")}catch(t){throw console.error("\u{1F680} Error en fetch directo:",t),t}})}buscarTecnicos(e){return P(this.getSupabaseClient().from("usuarios").select(`
          *,
          rol:roles(*)
        `).or(`nombre_completo.ilike.%${e}%,email.ilike.%${e}%`).eq("es_activo",!0).limit(10)).pipe(S(({data:t,error:n})=>{if(n)throw n;return t}))}getTecnicosActuales(){return this.tecnicosSubject.value}obtenerRolesDisponibles(){return O(this,null,function*(){try{let{data:e,error:t}=yield this.getSupabaseClient().from("roles").select("id, nombre_rol").order("nombre_rol");if(t)throw console.error("\u274C Error al obtener roles:",t),t;return console.log("\u2705 Roles obtenidos desde BD:",e),e||[]}catch(e){throw console.error("\u274C Error al obtener roles desde BD:",e),e}})}mostrarUUIDsRoles(){return O(this,null,function*(){try{console.log("\u{1F527} Obteniendo UUIDs de roles para configuraci\xF3n...");let e=yield this.obtenerRolesDisponibles();console.log("\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("\u{1F4CB} UUIDS DE ROLES PARA CONFIGURACI\xD3N"),console.log("\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),e.forEach(t=>{console.log(`${t.nombre_rol}: ${t.id}`)}),console.log("\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550"),console.log("\u{1F4A1} Copia estos UUIDs para usar en el c\xF3digo"),console.log(`
\u{1F527} C\xF3digo de ejemplo para rolesDisponibles:`),console.log("rolesDisponibles = ["),e.forEach(t=>{console.log(`  { value: '${t.id}', label: '${t.nombre_rol}', descripcion: '...' },`)}),console.log("];")}catch(e){console.error("\u274C Error al mostrar UUIDs de roles:",e)}})}limpiarTecnicos(){this.tecnicosSubject.next([])}};g.\u0275fac=function(t){return new(t||g)(pe(Ne),pe(He))},g.\u0275prov=Te({token:g,factory:g.\u0275fac,providedIn:"root"});let i=g;return i})();function _n(i,g){if(i&1&&(o(0,"div",32),b(1,"ion-icon",33),s(2),c()),i&2){let a=h();l(2),I(" ",a.error," ")}}function bn(i,g){i&1&&(o(0,"div",34),b(1,"ion-icon",35),o(2,"span"),s(3,"Cargando roles disponibles..."),c()())}function fn(i,g){i&1&&(o(0,"span"),s(1," (Requiere configuraci\xF3n)"),c())}function Cn(i,g){if(i&1&&(o(0,"option",39),s(1),M(2,fn,2,0,"span",40),c()),i&2){let a=g.$implicit;m("value",a.value)("disabled",a.value==="admin-uuid-placeholder"),l(),I(" ",a.label," "),l(),m("ngIf",a.value==="admin-uuid-placeholder")}}function hn(i,g){if(i&1){let a=A();o(0,"select",36),B("ngModelChange",function(t){w(a);let n=h();return q(n.tecnicoData.rol_id,t)||(n.tecnicoData.rol_id=t),y(t)}),C("change",function(){w(a);let t=h();return y(t.onInputChange())}),o(1,"option",37),s(2,"Selecciona el rol"),c(),M(3,Cn,3,4,"option",38),c()}if(i&2){let a=h();V("ngModel",a.tecnicoData.rol_id),l(3),m("ngForOf",a.rolesDisponibles)}}function Mn(i,g){i&1&&(o(0,"div",41),b(1,"ion-icon",33),o(2,"p"),s(3,"El rol de Administrador requiere configuraci\xF3n adicional en la base de datos. Contacta al administrador del sistema."),c()())}function On(i,g){if(i&1&&(o(0,"p")(1,"strong"),s(2,"Permisos:"),c(),s(3),c()),i&2){let a=h(2);l(3),I(" ",a.getRolDescripcion(a.tecnicoData.rol_id)," ")}}function Pn(i,g){if(i&1&&(o(0,"div",42)(1,"div",43)(2,"div",44),b(3,"ion-icon",45),o(4,"span",46),s(5),c()(),o(6,"div",47),M(7,On,4,1,"p",40),c()()()),i&2){let a=h();l(5),D(a.getRolLabel(a.tecnicoData.rol_id)),l(2),m("ngIf",a.tecnicoData.rol_id)}}function xn(i,g){i&1&&(o(0,"div",48),b(1,"ion-icon",49),o(2,"p"),s(3,"El t\xE9cnico recibir\xE1 un email con sus credenciales de acceso al sistema."),c()())}function vn(i,g){if(i&1){let a=A();o(0,"div",9)(1,"label"),s(2,"Contrase\xF1a "),o(3,"span",10),s(4,"*"),c()(),o(5,"input",50),B("ngModelChange",function(t){w(a);let n=h();return q(n.tecnicoData.password,t)||(n.tecnicoData.password=t),y(t)}),C("input",function(){w(a);let t=h();return y(t.onInputChange())}),c(),o(6,"div",51),s(7,"M\xEDnimo 6 caracteres"),c()()}if(i&2){let a=h();l(5),V("ngModel",a.tecnicoData.password)}}function wn(i,g){i&1&&b(0,"ion-icon",52)}function yn(i,g){i&1&&b(0,"ion-icon",53)}function Tn(i,g){i&1&&b(0,"ion-icon",52)}function En(i,g){i&1&&b(0,"ion-icon",53)}function Sn(i,g){i&1&&b(0,"ion-icon",52)}function kn(i,g){i&1&&b(0,"ion-icon",53)}function Dn(i,g){if(i&1&&(o(0,"div",23),M(1,Sn,1,0,"ion-icon",24)(2,kn,1,0,"ion-icon",25),o(3,"span"),s(4,"Contrase\xF1a (m\xEDn. 6 caracteres)"),c()()),i&2){let a=h();U("valid",a.modoEdicion||a.tecnicoData.password.length>=6),l(),m("ngIf",a.tecnicoData.password.length>=6),l(),m("ngIf",a.tecnicoData.password.length<6)}}function In(i,g){i&1&&b(0,"ion-icon",52)}function zn(i,g){i&1&&b(0,"ion-icon",53)}function Rn(i,g){i&1&&b(0,"ion-icon",54)}function An(i,g){i&1&&b(0,"ion-icon",35)}L({"close-outline":ue,"save-outline":he,"person-outline":Ce,"mail-outline":Y,"call-outline":K,"shield-outline":Me,"lock-closed-outline":fe,"alert-circle-outline":W,"information-circle-outline":be,"checkmark-circle-outline":me,"ellipse-outline":_e,"refresh-outline":G});var Oe=(()=>{let g=class g{constructor(e,t,n,r){this.modalController=e,this.tecnicosService=t,this.rolesService=n,this.unifiedReconnectionService=r,this.modo="crear",this.modoEdicion=!1,this.TipoRol=J,this.destroy$=new N,this.tecnicoData={nombre_completo:"",email:"",password:"",telefono:"",rol_id:"",es_activo:!0},this.rolesDisponibles=[],this.loading=!1,this.loadingRoles=!0,this.error="",L({personOutline:Ce,closeOutline:ue,alertCircleOutline:W,mailOutline:Y,lockClosedOutline:fe,callOutline:K,shieldOutline:Me,saveOutline:he,informationCircleOutline:be,checkmarkCircleOutline:me,ellipseOutline:_e,refreshOutline:G})}ngOnInit(){this.modoEdicion=this.modo==="editar",this.cargarRolesDisponibles(),this.unifiedReconnectionService.appResumed.pipe(v(this.destroy$),H()).subscribe(e=>{e&&(console.log("\u{1F504} CrearTecnicoModalComponent: App reanudada, recargando datos..."),this.modoEdicion&&this.tecnico&&this.cargarDatosTecnico(),this.cargarRolesDisponibles())}),this.unifiedReconnectionService.connectionState.pipe(v(this.destroy$)).subscribe(e=>{console.log("\u{1F504} CrearTecnicoModalComponent: Estado de conexi\xF3n:",e),e==="connected"&&this.modoEdicion&&this.tecnico&&this.cargarDatosTecnico()}),this.modoEdicion&&this.tecnico&&this.cargarDatosTecnico()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cargarDatosTecnico(){var e,t;this.tecnico&&(this.tecnicoData={nombre_completo:this.tecnico.nombre_completo||"",email:this.tecnico.email||"",password:"",telefono:this.tecnico.telefono||"",rol_id:((e=this.tecnico.rol)==null?void 0:e.id)||"",es_activo:(t=this.tecnico.es_activo)!=null?t:!0})}cargarRolesDisponibles(){this.loadingRoles=!0,P(this.tecnicosService.obtenerRolesDisponibles()).pipe(v(this.destroy$)).subscribe({next:e=>{if(this.rolesDisponibles=e.map(t=>({value:t.id,label:t.nombre_rol,descripcion:this.rolesService.getDescripcionRol(t.nombre_rol)})),!this.modoEdicion){let t=this.rolesDisponibles.find(n=>n.label==="T\xE9cnico");t&&(this.tecnicoData.rol_id=t.value)}this.loadingRoles=!1,console.log("\u2705 Roles cargados:",this.rolesDisponibles)},error:e=>{console.error("\u274C Error al cargar roles:",e),this.loadingRoles=!1,this.rolesDisponibles=[{value:"admin-uuid-placeholder",label:"Administrador",descripcion:this.rolesService.getDescripcionRol(J.ADMINISTRADOR)},{value:"a0472297-ee16-44d8-a434-810a3868a209",label:"T\xE9cnico",descripcion:this.rolesService.getDescripcionRol(J.TECNICO)},{value:"70c12fd8-92c2-4479-bba0-c7b2e934f48a",label:"Usuario",descripcion:this.rolesService.getDescripcionRol(J.USUARIO)}],this.modoEdicion||(this.tecnicoData.rol_id=this.rolesDisponibles[1].value),this.error="No se pudieron cargar los roles desde la base de datos. Usando valores por defecto."}})}onClose(){return O(this,null,function*(){yield this.modalController.dismiss(null,"cancel")})}crearTecnico(){return O(this,null,function*(){if(this.validarFormulario()){if(this.tecnicoData.rol_id==="admin-uuid-placeholder"){this.error="Por favor, contacta al administrador para configurar correctamente el UUID del rol Administrador en la base de datos.";return}this.loading=!0,this.error="";try{this.modoEdicion&&this.tecnico?this.tecnicosService.actualizarTecnico(this.tecnico.id,this.tecnicoData).pipe(v(this.destroy$)).subscribe({next:e=>{console.log("\u2705 T\xE9cnico actualizado exitosamente:",e),this.modalController.dismiss(e,"confirm")},error:e=>{console.error("\u274C Error al actualizar t\xE9cnico:",e),this.manejarErrorCreacion(e),this.loading=!1}}):this.tecnicosService.crearTecnico(this.tecnicoData).pipe(v(this.destroy$)).subscribe({next:e=>{console.log("\u2705 T\xE9cnico creado exitosamente:",e),this.modalController.dismiss(e,"confirm")},error:e=>{console.error("\u274C Error al crear t\xE9cnico:",e),this.manejarErrorCreacion(e),this.loading=!1}})}catch(e){this.error="Error inesperado al procesar el t\xE9cnico",console.error("\u274C Error inesperado:",e),this.loading=!1}}})}manejarErrorCreacion(e){console.log("\u{1F50D} Analizando error:",e),typeof e=="string"?this.error=e:e!=null&&e.message?e.message.includes("Ya existe un usuario con este email")?this.error="\u{1F4E7} Ya existe un usuario registrado con este email. Por favor, usa un email diferente.":e.message.includes("duplicate key value")||e.code==="23505"?this.error="\u26A0\uFE0F El usuario ya existe en el sistema. Por favor, verifica el email ingresado.":e.message.includes("Invalid login credentials")?this.error="\u{1F510} Error en las credenciales. Por favor, verifica el email y contrase\xF1a.":e.message.includes("Email not confirmed")?this.error="\u{1F4E7} El email necesita ser confirmado. Revisa la bandeja de entrada.":e.message.includes("Password should be at least 6 characters")?this.error="\u{1F512} La contrase\xF1a debe tener al menos 6 caracteres.":e.message.includes("Unable to validate email address")?this.error="\u{1F4E7} El formato del email no es v\xE1lido.":e.message.includes("Network request failed")?this.error="\u{1F310} Error de conexi\xF3n. Por favor, verifica tu conexi\xF3n a internet.":this.error=`\u274C Error: ${e.message}`:this.error="\u274C Error desconocido al procesar el t\xE9cnico. Por favor, intenta de nuevo."}validarFormulario(){if(!this.tecnicoData.nombre_completo.trim())return this.error="El nombre completo es obligatorio",!1;if(!this.tecnicoData.email.trim())return this.error="El email es obligatorio",!1;if(!this.validarEmail(this.tecnicoData.email))return this.error="El formato del email no es v\xE1lido",!1;if(!this.modoEdicion){if(!this.tecnicoData.password.trim())return this.error="La contrase\xF1a es obligatoria",!1;if(this.tecnicoData.password.length<6)return this.error="La contrase\xF1a debe tener al menos 6 caracteres",!1}return this.tecnicoData.rol_id?!this.tecnicoData.email||!this.validarEmail(this.tecnicoData.email)?(this.error="El email debe tener un formato v\xE1lido",!1):(this.error="",!0):(this.error="Debe seleccionar un rol",!1)}validarEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}isFormValid(){let e=!!this.tecnicoData.nombre_completo.trim()&&this.validarEmail(this.tecnicoData.email)&&!!this.tecnicoData.rol_id;return this.modoEdicion?e:e&&this.tecnicoData.password.length>=6}getRolLabel(e){let t=this.rolesDisponibles.find(n=>n.value===e);return t?t.label:""}getRolDescripcion(e){let t=this.rolesDisponibles.find(n=>n.value===e);return t?t.descripcion:""}onInputChange(){this.error&&(this.error="")}get tituloModal(){return this.modoEdicion?"Editar T\xE9cnico":"Crear Nuevo T\xE9cnico"}get subtituloModal(){return this.modoEdicion?"Modifica los datos del t\xE9cnico":"Registra un nuevo t\xE9cnico en el sistema"}get textoBotonGuardar(){return this.loading?"Procesando...":this.modoEdicion?"Actualizar T\xE9cnico":"Crear T\xE9cnico"}};g.\u0275fac=function(t){return new(t||g)(R(ae),R(se),R(cn),R(le))},g.\u0275cmp=Q({type:g,selectors:[["app-crear-tecnico-modal"]],inputs:{modo:"modo",tecnico:"tecnico"},decls:73,vars:29,consts:[[1,"header-content"],[1,"close-button",3,"click"],["name","close-outline"],[1,"subtitle"],[1,"modal-body"],[1,"modal-content",3,"ngSubmit"],["class","error-message",4,"ngIf"],[1,"modal-grid"],[1,"form-section"],[1,"form-group"],[1,"required"],["type","text","name","nombre_completo","placeholder","Ingresa el nombre completo","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["type","email","name","email","placeholder","Ingresa el email","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["type","tel","name","telefono","placeholder","Ingresa el tel\xE9fono",1,"form-control",3,"ngModelChange","input","ngModel"],["class","loading-roles",4,"ngIf"],["name","rol_id","class","form-control","required","",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","warning-message",4,"ngIf"],["class","role-info",4,"ngIf"],[1,"info-section"],[1,"info-card"],["class","info-message",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"validation-status"],[1,"validation-item"],["name","checkmark-circle-outline",4,"ngIf"],["name","ellipse-outline",4,"ngIf"],["class","validation-item",3,"valid",4,"ngIf"],[1,"button-group"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["name","save-outline",4,"ngIf"],["name","refresh-outline","class","spinning",4,"ngIf"],[1,"error-message"],["name","alert-circle-outline"],[1,"loading-roles"],["name","refresh-outline",1,"spinning"],["name","rol_id","required","",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[4,"ngIf"],[1,"warning-message"],[1,"role-info"],[1,"role-card"],[1,"role-header"],["name","shield-outline"],[1,"role-title"],[1,"role-description"],[1,"info-message"],["name","information-circle-outline"],["type","password","name","password","placeholder","Ingresa la contrase\xF1a","required","",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"password-hint"],["name","checkmark-circle-outline"],["name","ellipse-outline"],["name","save-outline"]],template:function(t,n){t&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"h2"),s(4),c(),o(5,"button",1),C("click",function(){return n.onClose()}),b(6,"ion-icon",2),c()(),o(7,"p",3),s(8),c()()(),o(9,"ion-content",4)(10,"form",5),C("ngSubmit",function(){return n.crearTecnico()}),M(11,_n,3,1,"div",6),o(12,"div",7)(13,"div",8)(14,"h3"),s(15,"Informaci\xF3n Personal"),c(),o(16,"div",9)(17,"label"),s(18,"Nombre Completo "),o(19,"span",10),s(20,"*"),c()(),o(21,"input",11),B("ngModelChange",function(d){return q(n.tecnicoData.nombre_completo,d)||(n.tecnicoData.nombre_completo=d),d}),C("input",function(){return n.onInputChange()}),c()(),o(22,"div",9)(23,"label"),s(24,"Email "),o(25,"span",10),s(26,"*"),c()(),o(27,"input",12),B("ngModelChange",function(d){return q(n.tecnicoData.email,d)||(n.tecnicoData.email=d),d}),C("input",function(){return n.onInputChange()}),c()(),o(28,"div",9)(29,"label"),s(30,"Tel\xE9fono"),c(),o(31,"input",13),B("ngModelChange",function(d){return q(n.tecnicoData.telefono,d)||(n.tecnicoData.telefono=d),d}),C("input",function(){return n.onInputChange()}),c()(),o(32,"div",9)(33,"label"),s(34,"Rol "),o(35,"span",10),s(36,"*"),c()(),M(37,bn,4,0,"div",14)(38,hn,4,2,"select",15)(39,Mn,4,0,"div",16)(40,Pn,8,2,"div",17),c()(),o(41,"div",18)(42,"div",19)(43,"h3"),s(44,"Credenciales de Acceso"),c(),M(45,xn,4,0,"div",20)(46,vn,8,1,"div",21),o(47,"div",22)(48,"div",23),M(49,wn,1,0,"ion-icon",24)(50,yn,1,0,"ion-icon",25),o(51,"span"),s(52,"Nombre completo"),c()(),o(53,"div",23),M(54,Tn,1,0,"ion-icon",24)(55,En,1,0,"ion-icon",25),o(56,"span"),s(57,"Email v\xE1lido"),c()(),M(58,Dn,5,4,"div",26),o(59,"div",23),M(60,In,1,0,"ion-icon",24)(61,zn,1,0,"ion-icon",25),o(62,"span"),s(63,"Rol seleccionado"),c()()()()()()()(),o(64,"ion-footer")(65,"ion-toolbar")(66,"div",27)(67,"button",28),C("click",function(){return n.onClose()}),s(68," Cancelar "),c(),o(69,"button",29),C("click",function(){return n.crearTecnico()}),M(70,Rn,1,0,"ion-icon",30)(71,An,1,0,"ion-icon",31),s(72),c()()()()),t&2&&(l(4),D(n.tituloModal),l(4),D(n.subtituloModal),l(3),m("ngIf",n.error),l(10),V("ngModel",n.tecnicoData.nombre_completo),l(6),V("ngModel",n.tecnicoData.email),l(4),V("ngModel",n.tecnicoData.telefono),l(6),m("ngIf",n.loadingRoles),l(),m("ngIf",!n.loadingRoles),l(),m("ngIf",!n.loadingRoles&&n.tecnicoData.rol_id==="admin-uuid-placeholder"),l(),m("ngIf",n.tecnicoData.rol_id&&!n.loadingRoles),l(5),m("ngIf",!n.modoEdicion),l(),m("ngIf",!n.modoEdicion),l(2),U("valid",n.tecnicoData.nombre_completo.trim()),l(),m("ngIf",n.tecnicoData.nombre_completo.trim()),l(),m("ngIf",!n.tecnicoData.nombre_completo.trim()),l(3),U("valid",n.validarEmail(n.tecnicoData.email)),l(),m("ngIf",n.validarEmail(n.tecnicoData.email)),l(),m("ngIf",!n.validarEmail(n.tecnicoData.email)),l(3),m("ngIf",!n.modoEdicion),l(),U("valid",n.tecnicoData.rol_id),l(),m("ngIf",n.tecnicoData.rol_id),l(),m("ngIf",!n.tecnicoData.rol_id),l(8),m("disabled",n.loading||!n.isFormValid()),l(),m("ngIf",!n.loading),l(),m("ngIf",n.loading),l(),I(" ",n.textoBotonGuardar," "))},dependencies:[ne,Z,ee,ie,Fe,te,oe,Ie,Ue,ze,Re,$e,je,Ae,re,qe,Be,ce,Ve],styles:[`@charset "UTF-8";ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-color: #e5e7eb;--color: #111827}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#111827}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;margin-top:0;font-size:14px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#6b7280;display:flex;align-items:center;justify-content:center}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#111827}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}ion-content[_ngcontent-%COMP%]{--background: #fff;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}ion-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0}ion-content[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;min-height:0;height:100%}ion-content[_ngcontent-%COMP%]   .modal-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:0;height:100%;overflow:hidden}@media (max-width: 768px){ion-content[_ngcontent-%COMP%]   .modal-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto auto;height:auto;overflow:visible}}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-color: #e5e7eb}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#374151}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8fafc;border-color:#9ca3af}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;border:1px solid #2563eb;color:#fff}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1d4ed8;border-color:#1d4ed8}.form-section[_ngcontent-%COMP%]{padding:24px;border-right:1px solid #e5e7eb;overflow-y:auto;height:100%;max-height:100%}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #e5e7eb;height:auto;max-height:none;overflow:visible;padding-bottom:30px}}.form-section[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f3f4f6}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.form-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;color:#374151;font-weight:600}.info-section[_ngcontent-%COMP%]{padding:24px;background-color:#f9fafb;overflow-y:auto;height:100%;max-height:100%}@media (max-width: 768px){.info-section[_ngcontent-%COMP%]{height:auto;max-height:none;overflow:visible;min-height:300px;padding-bottom:80px}}.info-section[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f3f4f6}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.info-section[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#374151}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.form-group.half[_ngcontent-%COMP%]{flex:1}.form-control[_ngcontent-%COMP%]{position:relative;width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;color:#111827;background-color:#fff;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 2px #2563eb1a}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;color:#6b7280;cursor:not-allowed}select.form-control[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px}select.form-control[_ngcontent-%COMP%]:disabled{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")}select.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}select.form-control[_ngcontent-%COMP%]{padding-right:40px;background-color:#fafafb;border:1px solid transparent;padding-top:10px;padding-bottom:10px;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}select.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}input.form-control[_ngcontent-%COMP%]{padding-right:40px;background-color:#fafafb;border:1px solid transparent;padding-top:10px;padding-bottom:10px;border-radius:6px;font-size:14px;color:#111827;transition:border-color .2s}input.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.password-hint[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;color:#6b7280}.info-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:24px;border:1px solid #e5e7eb}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;color:#374151;font-weight:600}.info-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:12px;background-color:#eff6ff;border:1px solid #BFDBFE;border-radius:6px;margin-bottom:16px}.info-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:18px;margin-top:2px;flex-shrink:0}.info-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#1e40af;line-height:1.4}.role-info[_ngcontent-%COMP%]{margin-top:20px}.role-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-bottom:20px}.role-card[_ngcontent-%COMP%]   .role-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.role-card[_ngcontent-%COMP%]   .role-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4f46e5;font-size:20px}.role-card[_ngcontent-%COMP%]   .role-header[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827}.role-card[_ngcontent-%COMP%]   .role-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280;line-height:1.5}.role-card[_ngcontent-%COMP%]   .role-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#374151}.validation-status[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background:#f9fafb;border-radius:8px;border:1px solid #e5e7eb}.validation-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:14px;color:#6b7280}.validation-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.validation-item.valid[_ngcontent-%COMP%]{color:#059669}.validation-item.valid[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#059669}.validation-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#d1d5db}.validation-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#fef2f2;border:1px solid #FEE2E2;border-radius:8px;color:#dc2626;font-size:14px;margin-bottom:20px}.error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;flex-shrink:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-roles[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#f8fafc;border:1px solid #E2E8F0;border-radius:6px;color:#64748b;font-size:14px}.loading-roles[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4f46e5;font-size:18px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.warning-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:12px;background-color:#fef3c7;border:1px solid #F59E0B;border-radius:6px;margin-top:8px}.warning-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#d97706;font-size:18px;margin-top:2px;flex-shrink:0}.warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#92400e;line-height:1.4}@media (max-width: 768px){.modal-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:auto auto;height:auto;overflow:visible}.form-section[_ngcontent-%COMP%]{border-right:none;border-bottom:1px solid #e5e7eb;height:auto;max-height:none;overflow:visible;padding-bottom:30px}.info-section[_ngcontent-%COMP%]{height:auto;max-height:none;overflow:visible;min-height:300px;padding-bottom:80px}.form-control[_ngcontent-%COMP%]{font-size:16px;padding:12px}textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:14px!important;padding:12px}}`]});let i=g;return i})();function jn(i,g){i&1&&(o(0,"div",27)(1,"div",28),b(2,"ion-icon",29),o(3,"p"),s(4,"Cargando t\xE9cnicos..."),c()()())}function Fn(i,g){if(i&1){let a=A();o(0,"div",30)(1,"div",31),b(2,"ion-icon",32),o(3,"p"),s(4),c(),o(5,"button",33),C("click",function(){w(a);let t=h();return y(t.onReintentar())}),b(6,"ion-icon",34),s(7," Reintentar "),c()()()}if(i&2){let a=h();l(4),D(a.error)}}function Un(i,g){if(i&1){let a=A();o(0,"div",42)(1,"div",43),s(2),c(),o(3,"div",44),s(4),c(),o(5,"div",45),s(6),c(),o(7,"div",46)(8,"span",47),s(9),c()(),o(10,"div",48),s(11),Se(12,"date"),c(),o(13,"div",49)(14,"span",50),s(15),c()(),o(16,"div",51)(17,"button",52),C("click",function(){let t=w(a).$implicit,n=h(2);return y(n.abrirModalEditarTecnico(t))}),b(18,"ion-icon",53),c(),o(19,"button",54),C("click",function(){let t=w(a).$implicit,n=h(2);return y(n.toggleEstadoTecnico(t))}),b(20,"ion-icon",55),c()()()}if(i&2){let a=g.$implicit,e=h(2);X(e.getEstadoClass(a)),l(2),D(a.nombre_completo),l(2),D(a.email||"No especificado"),l(2),D(a.telefono||"No especificado"),l(2),X(e.getRolClass((a.rol==null?null:a.rol.nombre_rol)||"")),l(),I(" ",(a.rol==null?null:a.rol.nombre_rol)||"Sin rol"," "),l(2),D(ke(12,14,a.fecha_creacion,"dd/MM/yyyy")),l(3),X(e.esTecnicoActivo(a)?"activo":"inactivo"),l(),I(" ",e.esTecnicoActivo(a)?"Activo":"Inactivo"," "),l(4),m("title",e.esTecnicoActivo(a)?"Desactivar t\xE9cnico":"Activar t\xE9cnico"),l(),m("name",e.esTecnicoActivo(a)?"pause-circle":"play-circle")}}function $n(i,g){if(i&1&&(o(0,"div",35)(1,"div",36)(2,"div",1)(3,"div",37)(4,"div",38),s(5,"Nombre"),c(),o(6,"div",39),s(7,"Email"),c(),o(8,"div",39),s(9,"Tel\xE9fono"),c(),o(10,"div",39),s(11,"Rol"),c(),o(12,"div",39),s(13,"Fecha Creaci\xF3n"),c(),o(14,"div",39),s(15,"Activo"),c(),o(16,"div",38),s(17,"Acciones"),c()()(),o(18,"div",40),M(19,Un,21,17,"div",41),c()()()),i&2){let a=h();l(19),m("ngForOf",a.tecnicos)}}function Vn(i,g){if(i&1){let a=A();o(0,"button",61),C("click",function(){let t=w(a).$implicit,n=h(2);return y(n.cambiarPagina(t))}),s(1),c()}if(i&2){let a=g.$implicit,e=h(2);U("active",a===e.paginaActual),l(),I(" ",a," ")}}function qn(i,g){if(i&1){let a=A();o(0,"div",56)(1,"div",57),s(2),c(),o(3,"div",58)(4,"button",59),C("click",function(){w(a);let t=h();return y(t.cambiarPagina(t.paginaActual-1))}),s(5," Anterior "),c(),M(6,Vn,2,3,"button",60),o(7,"button",59),C("click",function(){w(a);let t=h();return y(t.cambiarPagina(t.paginaActual+1))}),s(8," Siguiente "),c()()()}if(i&2){let a=h();l(2),Ee(" Mostrando ",(a.paginaActual-1)*a.porPagina+1," - ",a.Math.min(a.paginaActual*a.porPagina,a.totalTecnicos)," de ",a.totalTecnicos," t\xE9cnicos "),l(2),m("disabled",a.paginaActual===1),l(2),m("ngForOf",a.getPaginas()),l(),m("disabled",a.paginaActual===a.getTotalPaginas())}}function Bn(i,g){if(i&1){let a=A();o(0,"div",62)(1,"div",63),b(2,"ion-icon",64),o(3,"h3"),s(4,"No hay t\xE9cnicos"),c(),o(5,"p"),s(6,"A\xFAn no se han creado t\xE9cnicos. Crea el primero para comenzar."),c(),o(7,"button",65),C("click",function(){w(a);let t=h();return y(t.abrirModalCrearTecnico())}),b(8,"ion-icon",18),s(9," Crear t\xE9cnico "),c()()()}}var ut=(()=>{let g=class g{constructor(e,t,n){this.modalController=e,this.tecnicosService=t,this.unifiedReconnectionService=n,this.tecnicos=[],this.loading=!1,this.error="",this.busqueda="",this.paginaActual=1,this.porPagina=10,this.totalTecnicos=0,this.ordenarPor="fecha_creacion",this.orden="desc",this.destroy$=new N,L({searchOutline:on,filterOutline:Xe,addCircle:We,refreshOutline:G,alertCircleOutline:W,peopleOutline:nn,eyeOutline:Qe,constructOutline:Je,alertCircle:Ye,close:Ge,add:Le,addCircleOutline:Ke,callOutline:K,mailOutline:Y,locationOutline:Ze,pauseCircle:en,playCircle:tn})}ngOnInit(){this.unifiedReconnectionService.appResumed.pipe(v(this.destroy$),H()).subscribe(e=>{e&&(console.log("\u{1F504} TecnicosComponent: App reanudada, recargando t\xE9cnicos..."),this.cargarTecnicos())}),this.unifiedReconnectionService.connectionState.pipe(v(this.destroy$)).subscribe(e=>{console.log("\u{1F504} TecnicosComponent: Estado de conexi\xF3n:",e),e==="connected"&&this.error&&this.cargarTecnicos()}),this.cargarTecnicos(),this.setupBusqueda()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupBusqueda(){let e=new N;e.pipe(v(this.destroy$),ye(300),H()).subscribe(n=>{this.busqueda=n,this.paginaActual=1,this.cargarTecnicos()});let t=document.querySelector('input[placeholder*="Buscar"]');t&&t.addEventListener("input",n=>{let r=n.target;e.next(r.value)})}cargarTecnicos(){this.loading=!0,this.error="",this.tecnicosService.getTecnicosDirect(this.paginaActual,this.porPagina,this.busqueda,this.ordenarPor,this.orden).pipe(v(this.destroy$)).subscribe({next:e=>{console.log("\u2705 TecnicosComponent: T\xE9cnicos cargados exitosamente:",e.tecnicos.length,"t\xE9cnicos"),this.tecnicos=e.tecnicos,this.totalTecnicos=e.total,this.loading=!1},error:e=>{console.error("\u274C TecnicosComponent: Error al cargar t\xE9cnicos:",e),this.error="Error al cargar los t\xE9cnicos. Por favor, intenta de nuevo.",this.loading=!1}})}abrirModalCrearTecnico(){return O(this,null,function*(){let e=yield this.modalController.create({component:Oe,componentProps:{tecnico:null,modo:"crear"}});yield e.present();let{data:t,role:n}=yield e.onWillDismiss();n==="confirm"&&t&&(console.log("\u2705 T\xE9cnico creado desde modal, recargando lista..."),this.cargarTecnicos())})}abrirModalEditarTecnico(e){return O(this,null,function*(){let t=yield this.modalController.create({component:Oe,componentProps:{tecnico:e,modo:"editar"}});yield t.present();let{data:n,role:r}=yield t.onWillDismiss();r==="confirm"&&n&&(console.log("\u2705 T\xE9cnico actualizado desde modal, recargando lista..."),this.cargarTecnicos())})}crearTecnico(e){this.loading=!0,this.error="",this.tecnicosService.crearTecnico(e).pipe(v(this.destroy$)).subscribe({next:t=>{console.log("\u2705 T\xE9cnico creado exitosamente desde componente padre:",t),this.cargarTecnicos(),this.loading=!1},error:t=>{console.error("\u274C Error al crear t\xE9cnico desde componente padre:",t),this.error="Error al crear el t\xE9cnico. Por favor, intenta de nuevo.",this.loading=!1}})}toggleEstadoTecnico(e){if(!e.id)return;let t=e.es_activo?"desactivar":"activar";this.loading=!0,this.error="",(e.es_activo?this.tecnicosService.desactivarTecnicoDirect(e.id):this.tecnicosService.activarTecnicoDirect(e.id)).pipe(v(this.destroy$)).subscribe({next:()=>{console.log(`\u2705 TecnicosComponent: T\xE9cnico ${t}do exitosamente`),this.cargarTecnicos(),this.loading=!1},error:r=>{console.error(`\u274C TecnicosComponent: Error al ${t} t\xE9cnico:`,r),this.error=`Error al ${t} el t\xE9cnico. Por favor, intenta de nuevo.`,this.loading=!1}})}onBusquedaChange(e){let t=e.target.value;this.busqueda=t,this.paginaActual=1,this.cargarTecnicos()}onOrdenarChange(e){let t=e.target.value;this.ordenarPor=t,this.cargarTecnicos()}onFiltrarTodos(){this.busqueda="",this.paginaActual=1,this.cargarTecnicos()}onReintentar(){this.cargarTecnicos()}cambiarPagina(e){this.paginaActual=e,this.cargarTecnicos()}getTotalPaginas(){return Math.ceil(this.totalTecnicos/this.porPagina)}getPaginas(){let e=this.getTotalPaginas(),t=[];for(let n=1;n<=e;n++)t.push(n);return t}esTecnicoActivo(e){var t;return e.es_activo&&((t=e.rol)==null?void 0:t.nombre_rol)!=="Administrador"}getRolClass(e){switch(e){case"Administrador":return"rol-admin";case"T\xE9cnico":return"rol-tecnico";case"Usuario":return"rol-usuario";default:return"rol-default"}}getEstadoClass(e){return this.esTecnicoActivo(e)?"activo":"inactivo"}get Math(){return Math}};g.\u0275fac=function(t){return new(t||g)(R(ae),R(se),R(le))},g.\u0275cmp=Q({type:g,selectors:[["app-tecnicos"]],decls:43,vars:11,consts:[[1,"dashboard-table"],[1,"table-header"],[1,"table-header-left"],[1,"table-title"],[1,"table-meta"],[1,"mobile-search"],["type","text","placeholder","Buscar t\xE9cnico...",3,"input","value"],["name","search-outline"],[1,"table-search","desktop-only"],["type","text","placeholder","Buscar...",3,"input","value"],[3,"change","value"],["value","nombre_completo"],["value","fecha_creacion"],["value","rol_id"],[1,"btn-filter",3,"click","title"],["name","filter-outline"],[1,"header-actions"],[1,"btn-add",3,"click"],["name","add-circle"],[1,"mobile-actions"],[1,"mobile-filter",3,"change","value"],[1,"mobile-buttons"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","compact-tecnicos-table",4,"ngIf"],["class","table-pagination",4,"ngIf"],["class","no-data-container",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],["name","refresh-outline",1,"spinning"],[1,"error-state"],[1,"error-message"],["name","alert-circle-outline"],[1,"btn-retry",3,"click"],["name","refresh-outline"],[1,"compact-tecnicos-table"],[1,"tecnicos-table"],[1,"header-row"],[1,"header-cell"],[1,"header-cell","desktop-only"],[1,"table-body"],["class","tecnico-row",3,"class",4,"ngFor","ngForOf"],[1,"tecnico-row"],[1,"tecnico-cell","nombre-tecnico"],[1,"tecnico-cell","email-tecnico","desktop-only"],[1,"tecnico-cell","telefono-tecnico","desktop-only"],[1,"tecnico-cell","rol-tecnico","desktop-only"],[1,"badge-rol"],[1,"tecnico-cell","fecha-tecnico","desktop-only"],[1,"tecnico-cell","estado-activo","desktop-only"],[1,"badge-estado"],[1,"tecnico-cell","acciones"],["title","Ver detalles",1,"btn-ver",3,"click"],["name","eye-outline"],[1,"btn-toggle-estado",3,"click","title"],[3,"name"],[1,"table-pagination"],[1,"pagination-info"],[1,"pagination"],[3,"click","disabled"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"no-data-container"],[1,"no-data-message"],["name","construct-outline"],[1,"btn-create",3,"click"]],template:function(t,n){t&1&&(o(0,"ion-content")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3),s(5,"Tabla de t\xE9cnicos"),c(),o(6,"div",4),s(7),c()(),o(8,"div",5)(9,"input",6),C("input",function(d){return n.onBusquedaChange(d)}),c(),b(10,"ion-icon",7),c(),o(11,"div",8)(12,"input",9),C("input",function(d){return n.onBusquedaChange(d)}),c(),o(13,"select",10),C("change",function(d){return n.onOrdenarChange(d)}),o(14,"option",11),s(15,"Ordenar por: Nombre"),c(),o(16,"option",12),s(17,"Ordenar por: Recientes"),c(),o(18,"option",13),s(19,"Ordenar por: Rol"),c()(),o(20,"button",14),C("click",function(){return n.onFiltrarTodos()}),b(21,"ion-icon",15),s(22," Todos "),c(),o(23,"div",16)(24,"button",17),C("click",function(){return n.abrirModalCrearTecnico()}),b(25,"ion-icon",18),s(26," A\xF1adir t\xE9cnico "),c()()()(),o(27,"div",19)(28,"select",20),C("change",function(d){return n.onOrdenarChange(d)}),o(29,"option",11),s(30,"Ordenar: Alfab\xE9tico"),c(),o(31,"option",12),s(32,"Ordenar: Recientes"),c(),o(33,"option",13),s(34,"Ordenar: Rol"),c()(),o(35,"div",21)(36,"button",17),C("click",function(){return n.abrirModalCrearTecnico()}),b(37,"ion-icon",18),c()()(),M(38,jn,5,0,"div",22)(39,Fn,8,1,"div",23)(40,$n,20,1,"div",24)(41,qn,9,6,"div",25)(42,Bn,10,0,"div",26),c()()),t&2&&(l(7),I("T\xE9cnicos: ",n.totalTecnicos,""),l(2),m("value",n.busqueda),l(3),m("value",n.busqueda),l(),m("value",n.ordenarPor),l(7),m("title","Mostrar todos los t\xE9cnicos"),l(8),m("value",n.ordenarPor),l(10),m("ngIf",n.loading),l(),m("ngIf",n.error&&!n.loading),l(),m("ngIf",!n.loading&&!n.error&&n.tecnicos.length>0),l(),m("ngIf",!n.loading&&!n.error&&n.tecnicos.length>0),l(),m("ngIf",!n.loading&&!n.error&&n.tecnicos.length===0))},dependencies:[ne,Z,ee,De,ie,te,oe,ce,re,an,rn],styles:[`ion-content[_ngcontent-%COMP%]{--background: #FFF}.dashboard-table[_ngcontent-%COMP%]{background:#fff;padding:25px}.table-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;flex-wrap:wrap;gap:16px}.table-title[_ngcontent-%COMP%]{font-size:18px;color:#26262a;font-weight:500}.table-meta[_ngcontent-%COMP%]{color:#4f46e5;font-size:14px}.table-search[_ngcontent-%COMP%]{display:flex;gap:20px}.table-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;border:none;background:#f9fbff;color:#26262a}.table-search[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:8px;padding:7px 14px;font-size:1rem;background:#f9fbff;border:none;color:#26262a}.table-search[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:7px 14px;border-radius:8px;font-size:1rem;border:1px solid #E2E8F0;background:#f9fbff;color:#26262a;cursor:pointer;transition:all .2s ease}.table-search[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.table-search[_ngcontent-%COMP%]   .btn-filter.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border-color:#4f46e5}.table-search[_ngcontent-%COMP%]   .btn-filter.active[_ngcontent-%COMP%]:hover{background:#4338ca}.table-search[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.mobile-search[_ngcontent-%COMP%]{display:none;position:relative;width:100%;padding:0 16px}.mobile-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 40px 8px 16px;border-radius:8px;border:1px solid #e2e8f0;font-size:14px;background:#fff}.mobile-search[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;right:26px;top:50%;transform:translateY(-50%);font-size:18px;color:#64748b}.mobile-actions[_ngcontent-%COMP%]{display:none;justify-content:space-between;align-items:center;margin-bottom:16px;gap:12px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 16px;border-radius:12px;border:1px solid #E2E8F0;background:#f8fafc;font-size:14px;color:#475569;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-filter[_ngcontent-%COMP%]:focus{outline:none;border-color:#cbd5e1;background-color:#fff}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;border:none}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:40px}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#4f46e5}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   ion-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.error-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:40px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;text-align:center;color:#dc2626}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;border:none;border-radius:8px;background:#dc2626;color:#fff;font-size:14px;cursor:pointer;transition:all .2s ease}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:#b91c1c}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.table-header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex-shrink:0}.table-pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:16px;flex-wrap:wrap;gap:12px}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;gap:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f3f4f6;min-width:32px;height:32px;border:none;border-radius:6px;padding:4px 8px;font-size:14px;color:#26262a;cursor:pointer}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn-add[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;font-size:14px;font-weight:500;transition:all .2s ease;white-space:nowrap;cursor:pointer;border:none;min-height:42px;background-color:#4f46e5;color:#fff;box-shadow:0 1px 2px #4f46e51a}.btn-add[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-add[_ngcontent-%COMP%]:hover{background-color:#4338ca;box-shadow:0 2px 4px #4f46e533}.btn-add[_ngcontent-%COMP%]:active{transform:scale(.98)}.compact-tecnicos-table[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto;border-radius:8px;border:1px solid #E5E7EB;background:#fff;margin-bottom:16px;max-width:100%;overflow-x:auto}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 80px;font-size:12px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:contents}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{padding:12px 8px;background:#f9fafb;border-bottom:1px solid #E5E7EB;font-weight:500;color:#374151;font-size:12px;text-transform:uppercase;letter-spacing:.5px;display:flex;align-items:center;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{display:contents}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]{display:contents;cursor:pointer;transition:all .2s ease;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]:hover:not(.activo):not(.inactivo)   .tecnico-cell[_ngcontent-%COMP%]{background-color:#f9fafb}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]:active{transform:scale(.98)}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.activo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #10B981}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.activo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{background-color:#ecfdf5}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.activo[_ngcontent-%COMP%]:hover   .tecnico-cell[_ngcontent-%COMP%]{background-color:#d1fae5}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.inactivo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]:first-child{border-left:4px solid #EF4444}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.inactivo[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{background-color:#fef2f2}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row.inactivo[_ngcontent-%COMP%]:hover   .tecnico-cell[_ngcontent-%COMP%]{background-color:#fee2e2}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #F3F4F6;display:flex;align-items:center;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:14px;justify-content:start;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.email-tecnico[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.telefono-tecnico[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]{justify-content:start;font-size:11px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol[_ngcontent-%COMP%]{padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap;max-width:80px;overflow:hidden;text-overflow:ellipsis}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-admin[_ngcontent-%COMP%]{background:#fee4e2;color:#d92d20}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-tecnico[_ngcontent-%COMP%]{background:#e6f4ea;color:#137333}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-usuario[_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%]   .badge-rol.rol-default[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.fecha-tecnico[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;justify-content:start;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]{justify-content:start;font-size:11px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]   .badge-estado[_ngcontent-%COMP%]{padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap;max-width:80px;overflow:hidden;text-overflow:ellipsis}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]   .badge-estado.activo[_ngcontent-%COMP%]{background:#e6f4ea;color:#137333}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%]   .badge-estado.inactivo[_ngcontent-%COMP%]{background:#fee4e2;color:#d92d20}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]{justify-content:start;gap:4px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:none;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;background:transparent;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#6b7280}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#10b981}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-ver[_ngcontent-%COMP%]:active{transform:scale(.9);background-color:#059669}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-toggle-estado[_ngcontent-%COMP%]:hover   ion-icon[name=pause-circle][_ngcontent-%COMP%]{color:#dc2626}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-toggle-estado[_ngcontent-%COMP%]:hover   ion-icon[name=play-circle][_ngcontent-%COMP%]{color:#059669}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button.btn-toggle-estado[_ngcontent-%COMP%]:active{transform:scale(.9)}@media (min-width: 769px){.compact-tecnicos-table[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]{grid-template-columns:2fr 180px 140px 120px 140px 80px 120px;font-size:13px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:12px;padding:12px 8px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:12px 8px;min-width:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.email-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.telefono-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.rol-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.fecha-tecnico[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.estado-activo[_ngcontent-%COMP%], .compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]{flex-shrink:0}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 768px){.dashboard-table[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-search[_ngcontent-%COMP%], .mobile-actions[_ngcontent-%COMP%]{display:flex}.table-header[_ngcontent-%COMP%]{margin-bottom:12px;align-items:center;gap:12px}.table-header-left[_ngcontent-%COMP%]{flex:1;padding:0 16px}.table-pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:8px}.table-pagination[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{width:100%;justify-content:center}.compact-tecnicos-table[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none;max-height:none}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:11px;padding:8px 4px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:8px 4px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-size:13px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.dashboard-table[_ngcontent-%COMP%]{height:100%;padding:0}.mobile-actions[_ngcontent-%COMP%]{gap:12px;padding:0 16px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]{display:flex;width:20%;justify-content:stretch}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:40px}.mobile-actions[_ngcontent-%COMP%]   .mobile-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.compact-tecnicos-table[_ngcontent-%COMP%]{border-radius:0!important;border-left:none!important;border-right:none!important}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]{grid-template-columns:1fr 70px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{font-size:10px;padding:6px 2px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell[_ngcontent-%COMP%]{padding:6px 2px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.nombre-tecnico[_ngcontent-%COMP%]{font-size:12px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:22px;height:22px}.compact-tecnicos-table[_ngcontent-%COMP%]   .tecnicos-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .tecnico-row[_ngcontent-%COMP%]   .tecnico-cell.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-only[_ngcontent-%COMP%]{display:flex!important}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.no-data-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;background:#fff;border-radius:16px;border:1px solid #E2E8F0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:400px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#acacac;margin-bottom:16px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#26262a;font-size:20px;margin:0 0 8px}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0 0 24px;line-height:1.5}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin:0}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{background:#4338ca;transform:translateY(-1px)}.no-data-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:active{transform:translateY(0)}`]});let i=g;return i})();export{ut as TecnicosComponent};
