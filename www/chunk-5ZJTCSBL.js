import{a as c}from"./chunk-24MOAAV5.js";import{B as o,F as n,I as m,d as s,g as u,j as a,s as p}from"./chunk-4AY4VQCP.js";var b=(()=>{let t=class t{constructor(e){this.ajustesService=e,this.configuracionSubject=new s(null),this.configuracion$=this.configuracionSubject.asObservable(),this.cargarConfiguracion()}cargarConfiguracion(){this.ajustesService.getAjustesCompletos().pipe(o(e=>{this.configuracionSubject.next(e)}),p(e=>(console.error("Error al cargar configuraci\xF3n:",e),u(null)))).subscribe()}getPrecioHoraManoObra(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.precio_hora_mano_obra)||50}))}getPrecioHoraManoObraSync(){var r;let e=this.configuracionSubject.value;return((r=e==null?void 0:e.empresa)==null?void 0:r.precio_hora_mano_obra)||50}getIvaPorDefecto(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.facturacion)==null?void 0:r.iva_por_defecto)||21}))}getMonedaPorDefecto(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.facturacion)==null?void 0:r.moneda)||"EUR"}))}getFormatoNumeroFactura(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.facturacion)==null?void 0:r.formato_numero_factura)||"FAC-{YEAR}-{NUMBER}"}))}getDiasVencimiento(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.facturacion)==null?void 0:r.dias_vencimiento)||30}))}getTextoPieFactura(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.facturacion)==null?void 0:r.texto_pie_factura)||""}))}getCondicionesPago(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.facturacion)==null?void 0:r.condiciones_pago)||""}))}getDatosEmpresa(){return this.configuracion$.pipe(a(e=>(e==null?void 0:e.empresa)||null))}getNombreEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.nombre_empresa)||"Mi Empresa"}))}getCifEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.cif)||""}))}getDireccionEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.direccion)||""}))}getTelefonoEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.telefono)||""}))}getEmailEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.email)||""}))}getWebEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.web)||""}))}getLogoEmpresa(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.empresa)==null?void 0:r.logo_url)||""}))}getTiposUrgencia(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.avisos)==null?void 0:r.tipos_urgencia)||["Baja","Media","Alta","Cr\xEDtica"]}))}getEstadosDisponibles(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.avisos)==null?void 0:r.estados_disponibles)||["Pendiente","En curso","Completado","Cancelado"]}))}getTiempoMaximoRespuesta(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.avisos)==null?void 0:r.tiempo_maximo_respuesta)||24}))}getAsignacionAutomatica(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.avisos)==null?void 0:r.asignacion_automatica)||!1}))}getEmailNotificaciones(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.notificaciones)==null?void 0:r.email_notificaciones)||!0}))}getEmailAvisosNuevos(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.notificaciones)==null?void 0:r.email_avisos_nuevos)||!0}))}getEmailFacturasGeneradas(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.notificaciones)==null?void 0:r.email_facturas_generadas)||!0}))}getBackupAutomatico(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.sistema)==null?void 0:r.backup_automatico)||!0}))}getFrecuenciaBackup(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.sistema)==null?void 0:r.frecuencia_backup)||"diario"}))}getRetencionBackupDias(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.sistema)==null?void 0:r.retencion_backup_dias)||30}))}getModoMantenimiento(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.sistema)==null?void 0:r.modo_mantenimiento)||!1}))}getMensajeMantenimiento(){return this.configuracion$.pipe(a(e=>{var r;return((r=e==null?void 0:e.sistema)==null?void 0:r.mensaje_mantenimiento)||""}))}getConfiguracionActual(){return this.configuracionSubject.value}recargarConfiguracion(){this.cargarConfiguracion()}};t.\u0275fac=function(r){return new(r||t)(m(c))},t.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();export{b as a};
