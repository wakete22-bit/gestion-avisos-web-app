<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Blank
    </ion-title>
  </ion-toolbar>
</ion-header> -->


<ion-content [fullscreen]="true">  
  <main class="dashboard-main">
    <!-- Resumen de tarjetas -->
    <section class="dashboard-summary">
      <!-- Desktop Summary Cards -->
      <div class="summary-cards-desktop">
        <div class="summary-card">
          <div>
            <div class="summary-title" style="color: #4F46E5;">Categorías</div>
            <div class="summary-value">4</div>
            <div class="summary-subtitle">Últimos 7 días</div>
          </div>
        </div>
        <div class="summary-card">
          <div>
            <div class="summary-title" style="color: #DC6803;">Productos totales</div>
            <div class="summary-container">
              <div class="value-container">
                <div class="summary-value">2</div>
                <div class="summary-subtitle">Últimos 7 días</div>
              </div>
              <div class="value-container">
                <div class="summary-value">14</div>
                <div class="summary-subtitle">Total</div>
              </div>  
            </div>
          </div>
        </div>
        <div class="summary-card">
          <div>
            <div class="summary-title" style="color: #D92D20;">Sin Stock</div>
            <div class="summary-value">4</div>
            <div class="summary-subtitle">Productos</div>
          </div>
        </div>
        <div class="summary-card">
          <div>
            <div class="summary-title" style="color: #0F5FC2;">En Stock</div>
            <div class="summary-value">2</div>
            <div class="summary-subtitle">Productos</div>
          </div>
        </div>
      </div>

      <!-- Mobile Summary Cards -->
      <div class="summary-cards-mobile">
        <div class="summary-grid">
          <div class="summary-card-mobile">
            <div class="icon purple-bg">
              <ion-icon name="apps-outline"></ion-icon>
            </div>
            <div class="mobile-card-content">
              <div class="summary-title">Categorías</div>
              <div class="summary-value">4</div>
              <div class="summary-subtitle">Últimos 7 días</div>
            </div>
          </div>
          <div class="summary-card-mobile">
            <div class="icon yellow-bg">
              <ion-icon name="cube-outline"></ion-icon>
            </div>
            <div class="mobile-card-content">
              <div class="summary-title">Productos totales</div>
              <div class="summary-value">14</div>
              <div class="summary-subtitle">Total</div>
            </div>
          </div>
          <div class="summary-card-mobile">
            <div class="icon red-bg">
              <ion-icon name="alert-circle-outline"></ion-icon>
            </div>
            <div class="mobile-card-content">
              <div class="summary-title">Sin Stock</div>
              <div class="summary-value">4</div>
              <div class="summary-subtitle">Productos</div>
            </div>
          </div>
          <div class="summary-card-mobile">
            <div class="icon blue-bg">
              <ion-icon name="checkmark-circle-outline"></ion-icon>
            </div>
            <div class="mobile-card-content">
              <div class="summary-title">En Stock</div>
              <div class="summary-value">2</div>
              <div class="summary-subtitle">Productos</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Productos recientes -->
    <section class="dashboard-table">
      <div class="table-header">
        <div class="table-header-left">
          <div class="table-title">Productos</div>
          <div class="table-meta">Productos: {{ productos.length }}</div>  
        </div>
        
        <!-- Mobile Search Bar -->
        <div class="mobile-search">
          <input type="text" placeholder="Buscar producto..." />
          <ion-icon name="search-outline"></ion-icon>
        </div>

        <!-- Desktop Search and Actions -->
        <div class="table-search desktop-only">
          <input type="text" placeholder="Buscar..." />
          <select>
            <option>Ordenar por: Recientes</option>
          </select>
          <button class="btn-add" (click)="abrirModalCrearProducto()">
            <ion-icon name="add-circle" style="font-size: 18px;"></ion-icon>
            Añadir producto
          </button>
        </div>
      </div>

      <!-- Mobile Actions -->
      <div class="mobile-actions">
        <select class="mobile-filter">
          <option>Ordenar: Recientes</option>
          <option>Ordenar: A-Z</option>
          <option>Ordenar: Stock</option>
        </select>
        <div class="mobile-buttons">
          <button class="btn-add">
            <ion-icon name="add-circle"></ion-icon>
          </button>
        </div>
      </div>

      <!-- Desktop Table View -->
      <table class="custom-mat-table desktop-only">
        <thead>
          <tr>
            <th>Código</th>
            <th>Nombre</th> 
            <th>Descripción</th>
            <th>Cantidad</th>
            <th>Unidad</th>
            <th>En Stock</th>
            <th>Precio Neto</th>  
            <th>PVP</th>
            <th>Acciones</th>   
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos">
            <td>{{ producto.codigo }}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.descripcion }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>{{ producto.unidad }}</td>  
            <td>
              <span class="badge yellow" *ngIf="producto.enStock">En Stock</span>
              <span class="badge red" *ngIf="!producto.enStock">Sin Stock</span>
            </td>
            <td>{{ producto.precioNeto }}</td>
            <td>{{ producto.pvp }}</td>
            <td>
              <ion-icon name="eye-outline" class="view-icon"></ion-icon>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Mobile Cards View -->
      <div class="mobile-cards">
        <div class="producto-card" *ngFor="let producto of productos">
          <div class="card-header">
            <div class="card-number">#{{ producto.codigo }}</div>
            <span class="badge" 
                  [ngClass]="{
                    'yellow': producto.enStock,
                    'red': !producto.enStock
                  }">
              {{ producto.enStock ? 'En Stock' : 'Sin Stock' }}
            </span>
          </div>
          <div class="card-body">
            <div class="card-row">
              <strong>{{ producto.nombre }}</strong>
            </div>
            <div class="card-row detail">{{ producto.descripcion }}</div>
            <div class="card-row">
              <div class="item-label">Cantidad:</div>
              <div class="item-value">{{ producto.cantidad }} {{ producto.unidad }}</div>
            </div>
            <div class="card-row">
              <div class="item-label">Precio Neto:</div>
              <div class="item-value">{{ producto.precioNeto }}</div>
            </div>
            <div class="card-row">
              <div class="item-label">PVP:</div>
              <div class="item-value">{{ producto.pvp }}</div>
            </div>
          </div>
          <div class="card-actions">
            <button class="action-btn">
              <ion-icon name="eye-outline"></ion-icon>
              Ver detalles
            </button>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <div class="table-pagination">
        <span class="pagination-info">Mostrando datos 1 a {{ productos.length }} de {{ productos.length }} producto</span>
        <div class="pagination">
          <button class="active">1</button>
          <button>2</button>
          <button>3</button>
          <button class="desktop-only">4</button>
          <span class="desktop-only">...</span>
          <button class="desktop-only">40</button>
        </div>
      </div>
    </section>
  </main>
</ion-content>