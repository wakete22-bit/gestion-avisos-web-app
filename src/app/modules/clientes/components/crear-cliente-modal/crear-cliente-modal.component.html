<ion-header>
  <ion-toolbar>
    <div class="header-content">
      <h2>{{ tituloModal }}</h2>
      <button class="close-button" (click)="cerrarModal()">
        <ion-icon name="close-outline"></ion-icon>
      </button>
    </div>
    <p class="subtitle">{{ subtituloModal }}</p>
  </ion-toolbar>
</ion-header>

<ion-content class="modal-body">
  <form [formGroup]="clienteForm" (ngSubmit)="guardarCliente()" class="modal-content">
    <div class="modal-grid">
      <!-- Sección Izquierda - Formulario -->
      <div class="form-section">
        <div class="form-group">
          <label>Nombre de contacto <span class="required">*</span></label>
          <input 
            type="text" 
            formControlName="nombreContacto" 
            class="form-control"
            placeholder="Ej: Luis Pérez">
        </div>

        <div class="form-row">
          <div class="form-group half">
            <label>Teléfono <span class="required">*</span></label>
            <input 
              type="tel" 
              formControlName="telefono" 
              class="form-control"
              placeholder="Ej: +34 569 23 56 89">
          </div>
          <div class="form-group half">
            <label>Correo electrónico <span class="required">*</span></label>
            <input 
              type="email" 
              formControlName="correoElectronico" 
              class="form-control"
              placeholder="Ej: ejemplo@dominio.es">
          </div>
        </div>

        <!-- Comentado temporalmente hasta que se ejecute la migración SQL
        <div class="form-group">
          <label>Notas importantes</label>
          <textarea 
            formControlName="notasImportantes" 
            class="form-control"
            placeholder="Descripción más detallada del artículo"
            rows="3"
            maxlength="200">
          </textarea>
          <div class="character-count">{{clienteForm.get('notasImportantes')?.value?.length || 0}}/200</div>
        </div>
        -->

        <div class="form-group">
          <label>Dirección local <span class="required">*</span></label>
          <input 
            type="text" 
            formControlName="direccionLocal" 
            class="form-control"
            placeholder="Ej: Calle Azorin">
        </div>

        <div class="form-row">
          <div class="form-group half">
            <label>Código Postal <span class="required">*</span></label>
            <input 
              type="text" 
              formControlName="codigoPostal" 
              class="form-control"
              placeholder="28004">
          </div>
          <div class="form-group half">
            <label>Localidad <span class="required">*</span></label>
            <input 
              type="text" 
              formControlName="localidad" 
              class="form-control"
              placeholder="Ej: Madrid">
          </div>
        </div>

        <div class="form-group checkbox-group">
          <label class="checkbox-container">
            <input type="checkbox" formControlName="esActivo">
            <span class="checkbox-label">Cliente activo</span>
          </label>
          <span class="helper-text">Los clientes inactivos no aparecerán en las búsquedas principales</span>
        </div>
      </div>

      <!-- Sección Derecha - Información adicional -->
      <div class="info-section">
        <div class="info-card">
          <ion-icon name="information-circle-outline"></ion-icon>
          <h4>Información del cliente</h4>
          <p>Completa todos los campos obligatorios marcados con <span class="required">*</span> para crear el cliente.</p>
          
          <div class="info-details">
            <div class="info-item">
              <span class="info-label">Nombre:</span>
              <span class="info-value">Nombre completo del contacto</span>
            </div>
            <div class="info-item">
              <span class="info-label">Teléfono:</span>
              <span class="info-value">Número de contacto principal</span>
            </div>
            <div class="info-item">
              <span class="info-label">Email:</span>
              <span class="info-value">Correo electrónico válido</span>
            </div>
            <div class="info-item">
              <span class="info-label">Dirección:</span>
              <span class="info-value">Calle, código postal y localidad</span>
            </div>
            <div class="info-item">
              <span class="info-label">Estado:</span>
              <span class="info-value">Cliente activo o inactivo</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <div class="button-group">
      <button type="button" class="btn btn-outline" (click)="cerrarModal()">
        Cancelar
      </button>
      <button 
        type="button" 
        class="btn btn-primary" 
        (click)="guardarCliente()"
        [disabled]="botonDeshabilitado">
        {{ textoBotonGuardar }}
        <ion-icon name="save-outline"></ion-icon>
      </button>
    </div>
  </ion-toolbar>
</ion-footer>
